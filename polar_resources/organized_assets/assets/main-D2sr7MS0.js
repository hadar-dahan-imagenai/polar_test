const __vite__fileDeps=["assets/App-JKb4xns3.js","assets/index-YHes_6UU.js","assets/index-CVVJYlLz.css","assets/App-BfgLR2gf.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var s_=Object.defineProperty;var o=(t,e)=>s_(t,"name",{value:e,configurable:!0});import{r as D,R as zl,g as um,j as se,c as i_,a as o_,b as a_}from"./index-YHes_6UU.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="ce6fe068-fd7f-4a7d-aee2-cfa9cec107c1",t._sentryDebugIdIdentifier="sentry-dbid-ce6fe068-fd7f-4a7d-aee2-cfa9cec107c1")}catch{}})();const c_="modulepreload",u_=o(function(t){return"/"+t},"assetsURL"),tf={},l_=o(function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=Promise.all(n.map(u=>{if(u=u_(u),u in tf)return;tf[u]=!0;const l=u.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!r)for(let m=i.length-1;m>=0;m--){const p=i[m];if(p.href===u&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":c_,l||(h.as="script",h.crossOrigin=""),h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),l)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},"preload");var ku=o(function(t,e){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ku(t,e)},"extendStatics$1");function d_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ku(t,e);function n(){this.constructor=t}o(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}o(d_,"__extends$1");var tt=o(function(){return tt=Object.assign||o(function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},"__assign"),tt.apply(this,arguments)},"__assign$2");function f_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}o(f_,"__rest$1");function is(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return o(s,"adopt"),new(n||(n=Promise))(function(i,a){function c(f){try{l(r.next(f))}catch(d){a(d)}}o(c,"fulfilled");function u(f){try{l(r.throw(f))}catch(d){a(d)}}o(u,"rejected");function l(f){f.done?i(f.value):s(f.value).then(c,u)}o(l,"step"),l((r=r.apply(t,e||[])).next())})}o(is,"__awaiter$1");function os(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}o(os,"__generator$1");function cn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}o(cn,"e$4");var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ql(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(ql,"i$1");function Wl(t,e){return t(e={exports:{}},e.exports),e.exports}o(Wl,"o$1");var wr=Wl(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){var s=this;this.locked=new Map,this.addToLocked=function(i,a){var c=s.locked.get(i);c===void 0?a===void 0?s.locked.set(i,[]):s.locked.set(i,[a]):a!==void 0&&(c.unshift(a),s.locked.set(i,c))},this.isLocked=function(i){return s.locked.has(i)},this.lock=function(i){return new Promise(function(a,c){s.isLocked(i)?s.addToLocked(i,a):(s.addToLocked(i),a())})},this.unlock=function(i){var a=s.locked.get(i);if(a!==void 0&&a.length!==0){var c=a.pop();s.locked.set(i,a),c!==void 0&&setTimeout(c,0)}else s.locked.delete(i)}}return o(r,"e"),r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return n.getInstance()}});ql(wr);var h_=ql(Wl(function(t,e){var n=gs&&gs.__awaiter||function(u,l,f,d){return new(f||(f=Promise))(function(h,m){function p(b){try{y(d.next(b))}catch(_){m(_)}}o(p,"s");function g(b){try{y(d.throw(b))}catch(_){m(_)}}o(g,"r");function y(b){b.done?h(b.value):new f(function(_){_(b.value)}).then(p,g)}o(y,"c"),y((d=d.apply(u,l||[])).next())})},r=gs&&gs.__generator||function(u,l){var f,d,h,m,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(y){return function(b){return function(_){if(f)throw new TypeError("Generator is already executing.");for(;p;)try{if(f=1,d&&(h=2&_[0]?d.return:_[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,_[1])).done)return h;switch(d=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return p.label++,{value:_[1],done:!1};case 5:p.label++,d=_[1],_=[0];continue;case 7:_=p.ops.pop(),p.trys.pop();continue;default:if(h=p.trys,!((h=h.length>0&&h[h.length-1])||_[0]!==6&&_[0]!==2)){p=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){p.label=_[1];break}if(_[0]===6&&p.label<h[1]){p.label=h[1],h=_;break}if(h&&p.label<h[2]){p.label=h[2],p.ops.push(_);break}h[2]&&p.ops.pop(),p.trys.pop();continue}_=l.call(u,p)}catch(w){_=[6,w],d=0}finally{f=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([y,b])}}};Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key";function i(u){return new Promise(function(l){return setTimeout(l,u)})}o(i,"r");function a(u){for(var l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",d=0;d<u;d++)f+=l[Math.floor(Math.random()*l.length)];return f}o(a,"c");var c=function(){function u(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),u.waiters===void 0&&(u.waiters=[])}return o(u,"e"),u.prototype.acquireLock=function(l,f){return f===void 0&&(f=5e3),n(this,void 0,void 0,function(){var d,h,m,p,g,y;return r(this,function(b){switch(b.label){case 0:d=Date.now()+a(4),h=Date.now()+f,m=s+"-"+l,p=window.localStorage,b.label=1;case 1:return Date.now()<h?[4,i(30)]:[3,8];case 2:return b.sent(),p.getItem(m)!==null?[3,5]:(g=this.id+"-"+l+"-"+d,[4,i(Math.floor(25*Math.random()))]);case 3:return b.sent(),p.setItem(m,JSON.stringify({id:this.id,iat:d,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,i(30)];case 4:return b.sent(),(y=p.getItem(m))!==null&&(y=JSON.parse(y)).id===this.id&&y.iat===d?(this.acquiredIatSet.add(d),this.refreshLockWhileAcquired(m,d),[2,!0]):[3,7];case 5:return u.lockCorrector(),[4,this.waitForSomethingToChange(h)];case 6:b.sent(),b.label=7;case 7:return d=Date.now()+a(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(l,f){return n(this,void 0,void 0,function(){var d=this;return r(this,function(h){return setTimeout(function(){return n(d,void 0,void 0,function(){var m,p;return r(this,function(g){switch(g.label){case 0:return[4,wr.default().lock(f)];case 1:return g.sent(),this.acquiredIatSet.has(f)?(m=window.localStorage,(p=m.getItem(l))===null?(wr.default().unlock(f),[2]):((p=JSON.parse(p)).timeRefreshed=Date.now(),m.setItem(l,JSON.stringify(p)),wr.default().unlock(f),this.refreshLockWhileAcquired(l,f),[2])):(wr.default().unlock(f),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(l){return n(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,new Promise(function(d){var h=!1,m=Date.now(),p=!1;function g(){if(p||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(y),p=!0),!h){h=!0;var b=50-(Date.now()-m);b>0?setTimeout(d,b):d()}}o(g,"s"),window.addEventListener("storage",g),u.addToWaiting(g);var y=setTimeout(g,Math.max(0,l-Date.now()))})];case 1:return f.sent(),[2]}})})},u.addToWaiting=function(l){this.removeFromWaiting(l),u.waiters!==void 0&&u.waiters.push(l)},u.removeFromWaiting=function(l){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(f){return f!==l}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(l){return l()})},u.prototype.releaseLock=function(l){return n(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(l)];case 1:return[2,f.sent()]}})})},u.prototype.releaseLock__private__=function(l){return n(this,void 0,void 0,function(){var f,d,h;return r(this,function(m){switch(m.label){case 0:return f=window.localStorage,d=s+"-"+l,(h=f.getItem(d))===null?[2]:(h=JSON.parse(h)).id!==this.id?[3,2]:[4,wr.default().lock(h.iat)];case 1:m.sent(),this.acquiredIatSet.delete(h.iat),f.removeItem(d),wr.default().unlock(h.iat),u.notifyWaiters(),m.label=2;case 2:return[2]}})})},u.lockCorrector=function(){for(var l=Date.now()-5e3,f=window.localStorage,d=Object.keys(f),h=!1,m=0;m<d.length;m++){var p=d[m];if(p.includes(s)){var g=f.getItem(p);g!==null&&((g=JSON.parse(g)).timeRefreshed===void 0&&g.timeAcquired<l||g.timeRefreshed!==void 0&&g.timeRefreshed<l)&&(f.removeItem(p),h=!0)}}h&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const p_={timeoutInSeconds:60},lm={name:"auth0-spa-js",version:"2.1.0"},dm=o(()=>Date.now(),"c$2");let Ct=class Iu extends Error{static{o(this,"d")}constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,Iu.prototype)}static fromPayload({error:e,error_description:n}){return new Iu(e,n)}};class Hl extends Ct{static{o(this,"u")}constructor(e,n,r,s=null){super(e,n),this.state=r,this.appState=s,Object.setPrototypeOf(this,Hl.prototype)}}let xu=class fm extends Ct{static{o(this,"l")}constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,fm.prototype)}},m_=class hm extends xu{static{o(this,"h")}constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,hm.prototype)}},g_=class pm extends Ct{static{o(this,"p")}constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,pm.prototype)}},y_=class mm extends Ct{static{o(this,"m")}constructor(e,n,r){super(e,n),this.mfa_token=r,Object.setPrototypeOf(this,mm.prototype)}},gm=class ym extends Ct{static{o(this,"f")}constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${nf(e,["default"])}', scope: '${nf(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,ym.prototype)}};function nf(t,e=[]){return t&&!e.includes(t)?t:""}o(nf,"g$1");const jo=o(()=>window.crypto,"w$1"),Fc=o(()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(jo().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},"y$1"),rf=o(t=>btoa(t),"k$1"),Ru=o(t=>{var{clientId:e}=t,n=cn(t,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(s=>r[s]!==void 0).reduce((s,i)=>Object.assign(Object.assign({},s),{[i]:r[i]}),{}))(Object.assign({client_id:e},n))).toString()},"b$2"),sf=o(t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),"v$2"),v_=o(async(t,e)=>{const n=await fetch(t,e);return{ok:n.ok,json:await n.json()}},"_"),b_=o(async(t,e,n)=>{const r=new AbortController;let s;return e.signal=r.signal,Promise.race([v_(t,e),new Promise((i,a)=>{s=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(s)})},"I"),__=o(async(t,e,n,r,s,i,a)=>{return c={auth:{audience:e,scope:n},timeout:s,fetchUrl:t,fetchOptions:r,useFormData:a},u=i,new Promise(function(l,f){const d=new MessageChannel;d.port1.onmessage=function(h){h.data.error?f(new Error(h.data.error)):l(h.data),d.port1.close()},u.postMessage(c,[d.port2])});var c,u},"S"),w_=o(async(t,e,n,r,s,i,a=1e4)=>s?__(t,e,n,r,a,s,i):b_(t,r,a),"T");async function S_(t,e){var{baseUrl:n,timeout:r,audience:s,scope:i,auth0Client:a,useFormData:c}=t,u=cn(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const l=c?Ru(u):JSON.stringify(u);return await async function(f,d,h,m,p,g,y){let b,_=null;for(let v=0;v<3;v++)try{b=await w_(f,h,m,p,g,y,d),_=null;break}catch(T){_=T}if(_)throw _;const w=b.json,{error:R,error_description:I}=w,S=cn(w,["error","error_description"]),{ok:E}=b;if(!E){const v=I||`HTTP error. Unable to fetch ${f}`;throw R==="mfa_required"?new y_(R,v,S.mfa_token):R==="missing_refresh_token"?new gm(h,m):new Ct(R||"request_error",v)}return S}(`${n}/oauth/token`,r,s||"default",i,{method:"POST",body:l,headers:{"Content-Type":c?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||lm))}},e,c)}o(S_,"O$1");const wo=o((...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},"j");class dn{static{o(this,"C")}constructor(e,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,r,s,i]=e.split("::");return new dn({clientId:r,scope:i,audience:s},n)}static fromCacheEntry(e){const{scope:n,audience:r,client_id:s}=e;return new dn({scope:n,audience:r,clientId:s})}}let E_=class{static{o(this,"z")}set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},vm=class{static{o(this,"x")}constructor(){this.enclosedCache=function(){let e={};return{set(n,r){e[n]=r},get(n){const r=e[n];if(r)return r},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}};class T_{static{o(this,"P")}constructor(e,n,r){this.cache=e,this.keyManifest=n,this.nowProvider=r||dm}async setIdToken(e,n,r){var s;const i=this.getIdTokenCacheKey(e);await this.cache.set(i,{id_token:n,decodedToken:r}),await((s=this.keyManifest)===null||s===void 0?void 0:s.add(i))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var r;let s=await this.cache.get(e.toKey());if(!s){const c=await this.getCacheKeys();if(!c)return;const u=this.matchExistingCacheKey(e,c);u&&(s=await this.cache.get(u))}if(!s)return;const i=await this.nowProvider(),a=Math.floor(i/1e3);return s.expiresAt-n<a?s.body.refresh_token?(s.body={refresh_token:s.body.refresh_token},await this.cache.set(e.toKey(),s),s.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):s.body}async set(e){var n;const r=new dn({clientId:e.client_id,scope:e.scope,audience:e.audience}),s=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),s),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey()))}async clear(e){var n;const r=await this.getCacheKeys();r&&(await r.filter(s=>!e||s.includes(e)).reduce(async(s,i)=>{await s,await this.cache.remove(i)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new dn({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(r=>{var s;const i=dn.fromKey(r),a=new Set(i.scope&&i.scope.split(" ")),c=((s=e.scope)===null||s===void 0?void 0:s.split(" "))||[],u=i.scope&&c.reduce((l,f)=>l&&a.has(f),!0);return i.prefix==="@@auth0spajs@@"&&i.clientId===e.clientId&&i.audience===e.audience&&u})[0]}}class k_{static{o(this,"Z")}constructor(e,n,r){this.storage=e,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const oi=o(t=>typeof t=="number","K"),I_=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],x_=o(t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(i=>{const a=i.split("."),[c,u,l]=a;if(a.length!==3||!c||!u||!l)throw new Error("ID token could not be decoded");const f=JSON.parse(sf(u)),d={__raw:i},h={};return Object.keys(f).forEach(m=>{d[m]=f[m],I_.includes(m)||(h[m]=f[m])}),{encoded:{header:c,payload:u,signature:l},header:JSON.parse(sf(c)),claims:d,user:h}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!oi(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!oi(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!oi(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=t.leeway||60,r=new Date(t.now||Date.now()),s=new Date(0);if(s.setUTCSeconds(e.claims.exp+n),r>s)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${s})`);if(e.claims.nbf!=null&&oi(e.claims.nbf)){const i=new Date(0);if(i.setUTCSeconds(e.claims.nbf-n),r<i)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${i}`)}if(e.claims.auth_time!=null&&oi(e.claims.auth_time)){const i=new Date(0);if(i.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r>i)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${i}`)}if(t.organization){const i=t.organization.trim();if(i.startsWith("org_")){const a=i;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_id}"`)}else{const a=i.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name.toLowerCase())throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_name.toLowerCase()}"`)}}return e},"E$1");var kr=Wl(function(t,e){var n=gs&&gs.__assign||function(){return n=Object.assign||function(u){for(var l,f=1,d=arguments.length;f<d;f++)for(var h in l=arguments[f])Object.prototype.hasOwnProperty.call(l,h)&&(u[h]=l[h]);return u},n.apply(this,arguments)};function r(u,l){if(!l)return"";var f="; "+u;return l===!0?f:f+"="+l}o(r,"n");function s(u,l,f){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return r("Expires",d.expires?d.expires.toUTCString():"")+r("Domain",d.domain)+r("Path",d.path)+r("Secure",d.secure)+r("SameSite",d.sameSite)}(f)}o(s,"a");function i(u){for(var l={},f=u?u.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<f.length;h++){var m=f[h].split("="),p=m.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{l[m[0].replace(d,decodeURIComponent)]=p.replace(d,decodeURIComponent)}catch{}}return l}o(i,"s");function a(){return i(document.cookie)}o(a,"r");function c(u,l,f){document.cookie=s(u,l,n({path:"/"},f))}o(c,"c"),e.__esModule=!0,e.encode=s,e.parse=i,e.getAll=a,e.get=function(u){return a()[u]},e.set=c,e.remove=function(u,l){c(u,"",n(n({},l),{expires:-1}))}});ql(kr),kr.encode,kr.parse,kr.getAll;var R_=kr.get,bm=kr.set,_m=kr.remove;const us={get(t){const e=R_(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),bm(t,JSON.stringify(e),r)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),_m(t,n)}},C_={get(t){return us.get(t)||us.get(`_legacy_${t}`)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),bm(`_legacy_${t}`,JSON.stringify(e),r),us.save(t,e,n)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),_m(t,n),us.remove(t,e),us.remove(`_legacy_${t}`,e)}},A_={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function O_(t,e,n){var r=e===void 0?null:e,s=function(u,l){var f=atob(u);if(l){for(var d=new Uint8Array(f.length),h=0,m=f.length;h<m;++h)d[h]=f.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return f}(t,n!==void 0&&n),i=s.indexOf(`
`,10)+1,a=s.substring(i)+(r?"//# sourceMappingURL="+r:""),c=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(c)}o(O_,"J");var of,af,cf,Uc,P_=(of="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX19KX12YXIgaH0pKX0oKTsKCg==",af=null,cf=!1,function(t){return Uc=Uc||O_(of,af,cf),new Worker(Uc,t)});const Bc={};class M_{static{o(this,"$")}constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const r=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const r=new Set(n.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const N_={memory:()=>new vm().enclosedCache,localstorage:()=>new E_},uf=o(t=>N_[t],"q$1"),lf=o(t=>{const{openUrl:e,onRedirect:n}=t,r=cn(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:n})},"Q"),$c=new h_;class D_{static{o(this,"te")}constructor(e){let n,r;if(this.userCache=new vm().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await $c.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!jo())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(jo().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation,e.cache)r=e.cache;else{if(n=e.cacheLocation||"memory",!uf(n))throw new Error(`Invalid cache location "${n}"`);r=uf(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?us:C_,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const s=e.useCookiesForTransactions?this.cookieStorage:A_;var i;this.scope=wo("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new k_(s,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||dm,this.cacheManager=new T_(r,r.allKeys?void 0:new M_(r,this.options.clientId),this.nowProvider),this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:`https://${i}`),this.tokenIssuer=((a,c)=>a?a.startsWith("https://")?a:`https://${a}/`:`${c}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.worker=new P_)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||lm)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${Ru(e)}`)}async _verifyIdToken(e,n,r){const s=await this.nowProvider();return x_({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:r,leeway:this.options.leeway,max_age:(i=this.options.authorizationParams.max_age,typeof i!="string"?i:parseInt(i,10)||void 0),now:s});var i}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,r){const s=rf(Fc()),i=rf(Fc()),a=Fc(),c=(f=>{const d=new Uint8Array(f);return(h=>{const m={"+":"-","/":"_","=":""};return h.replace(/[+/=]/g,p=>m[p])})(window.btoa(String.fromCharCode(...Array.from(d))))})(await(async f=>await jo().subtle.digest({name:"SHA-256"},new TextEncoder().encode(f)))(a)),u=((f,d,h,m,p,g,y,b)=>Object.assign(Object.assign(Object.assign({client_id:f.clientId},f.authorizationParams),h),{scope:wo(d,h.scope),response_type:"code",response_mode:b||"query",state:m,nonce:p,redirect_uri:y||f.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,e,s,i,c,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,n?.response_mode),l=this._authorizeUrl(u);return{nonce:i,code_verifier:a,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri,state:s,url:l}}async loginWithPopup(e,n){var r;if(e=e||{},!(n=n||{}).popup&&(n.popup=(c=>{const u=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(c,"auth0:authorize:popup",`left=${u},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const s=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=s.url;const i=await(c=>new Promise((u,l)=>{let f;const d=setInterval(()=>{c.popup&&c.popup.closed&&(clearInterval(d),clearTimeout(h),window.removeEventListener("message",f,!1),l(new g_(c.popup)))},1e3),h=setTimeout(()=>{clearInterval(d),l(new m_(c.popup)),window.removeEventListener("message",f,!1)},1e3*(c.timeoutInSeconds||60));f=o(function(m){if(m.data&&m.data.type==="authorization_response"){if(clearTimeout(h),clearInterval(d),window.removeEventListener("message",f,!1),c.popup.close(),m.data.response.error)return l(Ct.fromPayload(m.data.response));u(m.data.response)}},"o"),window.addEventListener("message",f)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(s.state!==i.state)throw new Ct("state_mismatch","Invalid state");const a=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i.code,redirect_uri:s.redirect_uri},{nonceIn:s.nonce,organization:a})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const r=lf(e),{openUrl:s,fragment:i,appState:a}=r,c=cn(r,["openUrl","fragment","appState"]),u=((n=c.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,l=await this._prepareAuthorizeUrl(c.authorizationParams||{}),{url:f}=l,d=cn(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:a}),u&&{organization:u}));const h=i?`${f}#${i}`:f;s?await s(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:s,error:i,error_description:a}=(d=>{d.indexOf("#")>-1&&(d=d.substring(0,d.indexOf("#")));const h=new URLSearchParams(d);return{state:h.get("state"),code:h.get("code")||void 0,error:h.get("error")||void 0,error_description:h.get("error_description")||void 0}})(n.join("")),c=this.transactionManager.get();if(!c)throw new Ct("missing_transaction","Invalid state");if(this.transactionManager.remove(),i)throw new Hl(i,a||i,r,c.appState);if(!c.code_verifier||c.state&&c.state!==r)throw new Ct("state_mismatch","Invalid state");const u=c.organization,l=c.nonce,f=c.redirect_uri;return await this._requestToken(Object.assign({audience:c.audience,scope:c.scope,code_verifier:c.code_verifier,grant_type:"authorization_code",code:s},f?{redirect_uri:f}:{}),{nonceIn:l,organization:u}),{appState:c.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var n;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:wo(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),s=await((i,a)=>{let c=Bc[a];return c||(c=i().finally(()=>{delete Bc[a],c=null}),Bc[a]=c),c})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s?.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,r=cn(e,["cacheMode"]);if(n!=="off"){const s=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(s)return s}if(n!=="cache-only"){if(!await(async(s,i=3)=>{for(let a=0;a<i;a++)if(await s())return!0;return!1})(()=>$c.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new xu;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const l=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}const s=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:i,access_token:a,oauthTokenScope:c,expires_in:u}=s;return Object.assign(Object.assign({id_token:i,access_token:a},c?{scope:c}:null),{expires_in:u})}finally{await $c.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:wo(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},p_),n),await this.loginWithPopup(s,n),(await this.cacheManager.get(new dn({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:r}=n,s=cn(n,["federated"]),i=r?"&federated":"";return this._url(`/v2/logout?${Ru(Object.assign({clientId:e.clientId},s))}`)+i}async logout(e={}){const n=lf(e),{openUrl:r}=n,s=cn(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const i=this._buildLogoutUrl(s);r?await r(i):r!==!1&&window.location.assign(i)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);const{url:s,state:i,nonce:a,code_verifier:c,redirect_uri:u,scope:l,audience:f}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Ct("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((p,g,y=60)=>new Promise((b,_)=>{const w=window.document.createElement("iframe");w.setAttribute("width","0"),w.setAttribute("height","0"),w.style.display="none";const R=o(()=>{window.document.body.contains(w)&&(window.document.body.removeChild(w),window.removeEventListener("message",I,!1))},"s");let I;const S=setTimeout(()=>{_(new xu),R()},1e3*y);I=o(function(E){if(E.origin!=g||!E.data||E.data.type!=="authorization_response")return;const v=E.source;v&&v.close(),E.data.response.error?_(Ct.fromPayload(E.data.response)):b(E.data.response),clearTimeout(S),window.removeEventListener("message",I,!1),setTimeout(R,2e3)},"r"),window.addEventListener("message",I,!1),window.document.body.appendChild(w),w.setAttribute("src",p)}))(s,this.domainUrl,d);if(i!==h.state)throw new Ct("state_mismatch","Invalid state");const m=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:c,code:h.code,grant_type:"authorization_code",redirect_uri:u,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:n.organization});return Object.assign(Object.assign({},m),{scope:l,oauthTokenScope:m.scope,audience:f})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new dn({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new gm(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,s=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const i=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),s&&{timeout:s}));return Object.assign(Object.assign({},i),{scope:e.authorizationParams.scope,oauthTokenScope:i.scope,audience:e.authorizationParams.audience||"default"})}catch(i){if((i.message.indexOf("Missing Refresh Token")>-1||i.message&&i.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw i}}async _saveEntryInCache(e){const{id_token:n,decodedToken:r}=e,s=cn(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(s)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new dn({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===r?.id_token?r:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:r}){const s=await this.cacheManager.get(new dn({scope:e,audience:n,clientId:r}),60);if(s&&s.access_token){const{access_token:i,oauthTokenScope:a,expires_in:c}=s,u=await this._getIdTokenFromCache();return u&&Object.assign(Object.assign({id_token:u.id_token,access_token:i},a?{scope:a}:null),{expires_in:c})}}async _requestToken(e,n){const{nonceIn:r,organization:s}=n||{},i=await S_(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(i.id_token,r,s);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},i),{decodedToken:a,scope:e.scope,audience:e.audience||"default"}),i.scope?{oauthTokenScope:i.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(s),Object.assign(Object.assign({},i),{decodedToken:a})}}var wm={isAuthenticated:!1,isLoading:!0},Tn=o(function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},"stub"),L_=tt(tt({},wm),{buildAuthorizeUrl:Tn,buildLogoutUrl:Tn,getAccessTokenSilently:Tn,getAccessTokenWithPopup:Tn,getIdTokenClaims:Tn,loginWithRedirect:Tn,loginWithPopup:Tn,logout:Tn,handleRedirectCallback:Tn}),Sm=D.createContext(L_),df=function(t){d_(e,t);function e(n,r){var s=t.call(this,r||n)||this;return s.error=n,s.error_description=r,Object.setPrototypeOf(s,e.prototype),s}return o(e,"OAuthError"),e}(Error),F_=/[?&]code=[^&]+/,U_=/[?&]state=[^&]+/,B_=/[?&]error=[^&]+/,$_=o(function(t){return t===void 0&&(t=window.location.search),(F_.test(t)||B_.test(t))&&U_.test(t)},"hasAuthParams"),Em=o(function(t){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new df(e.error,e.error_description):new df(e.error):new Error(t)}},"normalizeErrorFn"),ff=Em("Login failed"),jc=Em("Get access token failed"),Tm=o(function(t){var e;t?.redirectUri&&(t.authorizationParams=t.authorizationParams||{},t.authorizationParams.redirect_uri=t.redirectUri,delete t.redirectUri),!((e=t?.authorizationParams)===null||e===void 0)&&e.redirectUri&&(t.authorizationParams.redirect_uri=t.authorizationParams.redirectUri,delete t.authorizationParams.redirectUri)},"deprecateRedirectUri"),j_=o(function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return tt(tt({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return tt(tt({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return t.user===e.user?t:tt(tt({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return tt(tt({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return tt(tt({},t),{isLoading:!1,error:e.error})}},"reducer"),z_=o(function(t){return Tm(t),tt(tt({},t),{auth0Client:{name:"auth0-react",version:"2.2.0"}})},"toAuth0ClientOptions"),q_=o(function(t){window.history.replaceState({},document.title,t?.returnTo||window.location.pathname)},"defaultOnRedirectCallback"),W_=o(function(t){var e=t.children,n=t.skipRedirectCallback,r=t.onRedirectCallback,s=r===void 0?q_:r,i=t.context,a=i===void 0?Sm:i,c=f_(t,["children","skipRedirectCallback","onRedirectCallback","context"]),u=D.useState(function(){return new D_(z_(c))})[0],l=D.useReducer(j_,wm),f=l[0],d=l[1],h=D.useRef(!1);D.useEffect(function(){h.current||(h.current=!0,function(){return is(void 0,void 0,void 0,function(){var I,S,E;return os(this,function(v){switch(v.label){case 0:return v.trys.push([0,7,,8]),I=void 0,$_()&&!n?[4,u.handleRedirectCallback()]:[3,3];case 1:return S=v.sent().appState,[4,u.getUser()];case 2:return I=v.sent(),s(S,I),[3,6];case 3:return[4,u.checkSession()];case 4:return v.sent(),[4,u.getUser()];case 5:I=v.sent(),v.label=6;case 6:return d({type:"INITIALISED",user:I}),[3,8];case 7:return E=v.sent(),d({type:"ERROR",error:ff(E)}),[3,8];case 8:return[2]}})})}())},[u,s,n]);var m=D.useCallback(function(I){return Tm(I),u.loginWithRedirect(I)},[u]),p=D.useCallback(function(I,S){return is(void 0,void 0,void 0,function(){var E,v;return os(this,function(T){switch(T.label){case 0:d({type:"LOGIN_POPUP_STARTED"}),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,u.loginWithPopup(I,S)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),d({type:"ERROR",error:ff(E)}),[2];case 4:return[4,u.getUser()];case 5:return v=T.sent(),d({type:"LOGIN_POPUP_COMPLETE",user:v}),[2]}})})},[u]),g=D.useCallback(function(I){return I===void 0&&(I={}),is(void 0,void 0,void 0,function(){return os(this,function(S){switch(S.label){case 0:return[4,u.logout(I)];case 1:return S.sent(),(I.openUrl||I.openUrl===!1)&&d({type:"LOGOUT"}),[2]}})})},[u]),y=D.useCallback(function(I){return is(void 0,void 0,void 0,function(){var S,E,v,T;return os(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,3,5]),[4,u.getTokenSilently(I)];case 1:return S=k.sent(),[3,5];case 2:throw E=k.sent(),jc(E);case 3:return v=d,T={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,u.getUser()];case 4:return v.apply(void 0,[(T.user=k.sent(),T)]),[7];case 5:return[2,S]}})})},[u]),b=D.useCallback(function(I,S){return is(void 0,void 0,void 0,function(){var E,v,T,k;return os(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,3,5]),[4,u.getTokenWithPopup(I,S)];case 1:return E=x.sent(),[3,5];case 2:throw v=x.sent(),jc(v);case 3:return T=d,k={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,u.getUser()];case 4:return T.apply(void 0,[(k.user=x.sent(),k)]),[7];case 5:return[2,E]}})})},[u]),_=D.useCallback(function(){return u.getIdTokenClaims()},[u]),w=D.useCallback(function(I){return is(void 0,void 0,void 0,function(){var S,E,v;return os(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,3,5]),[4,u.handleRedirectCallback(I)];case 1:return[2,T.sent()];case 2:throw S=T.sent(),jc(S);case 3:return E=d,v={type:"HANDLE_REDIRECT_COMPLETE"},[4,u.getUser()];case 4:return E.apply(void 0,[(v.user=T.sent(),v)]),[7];case 5:return[2]}})})},[u]),R=D.useMemo(function(){return tt(tt({},f),{getAccessTokenSilently:y,getAccessTokenWithPopup:b,getIdTokenClaims:_,loginWithRedirect:m,loginWithPopup:p,logout:g,handleRedirectCallback:w})},[f,y,b,_,m,p,g,w]);return zl.createElement(a.Provider,{value:R},e)},"Auth0Provider"),HL=o(function(t){return t===void 0&&(t=Sm),D.useContext(t)},"useAuth0");class Zs{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ri=typeof window>"u"||"Deno"in window;function Lt(){}o(Lt,"noop$1");function H_(t,e){return typeof t=="function"?t(e):t}o(H_,"functionalUpdate");function Cu(t){return typeof t=="number"&&t>=0&&t!==1/0}o(Cu,"isValidTimeout");function km(t,e){return Math.max(t+(e||0)-Date.now(),0)}o(km,"timeUntilStale");function So(t,e,n){return to(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}o(So,"parseQueryArgs");function VL(t,e,n){return to(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}o(VL,"parseMutationArgs");function Wn(t,e,n){return to(t)?[{...e,queryKey:t},n]:[t||{},e]}o(Wn,"parseFilterArgs");function hf(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(to(a)){if(r){if(e.queryHash!==Vl(a,e.options))return!1}else if(!ua(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}o(hf,"matchQuery");function pf(t,e){const{exact:n,fetching:r,predicate:s,mutationKey:i}=t;if(to(i)){if(!e.options.mutationKey)return!1;if(n){if(Ir(e.options.mutationKey)!==Ir(i))return!1}else if(!ua(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}o(pf,"matchMutation");function Vl(t,e){return(e?.queryKeyHashFn||Ir)(t)}o(Vl,"hashQueryKeyByOptions");function Ir(t){return JSON.stringify(t,(e,n)=>Au(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}o(Ir,"hashQueryKey");function ua(t,e){return Im(t,e)}o(ua,"partialMatchKey");function Im(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Im(t[n],e[n])):!1}o(Im,"partialDeepEqual");function xm(t,e){if(t===e)return t;const n=mf(t)&&mf(e);if(n||Au(t)&&Au(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const l=n?u:s[u];a[l]=xm(t[l],e[l]),a[l]===t[l]&&c++}return r===i&&c===r?t:a}return e}o(xm,"replaceEqualDeep");function la(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}o(la,"shallowEqualObjects");function mf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(mf,"isPlainArray");function Au(t){if(!gf(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!gf(n)||!n.hasOwnProperty("isPrototypeOf"))}o(Au,"isPlainObject$2");function gf(t){return Object.prototype.toString.call(t)==="[object Object]"}o(gf,"hasObjectPrototype");function to(t){return Array.isArray(t)}o(to,"isQueryKey");function Rm(t){return new Promise(e=>{setTimeout(e,t)})}o(Rm,"sleep");function yf(t){Rm(0).then(t)}o(yf,"scheduleMicrotask");function V_(){if(typeof AbortController=="function")return new AbortController}o(V_,"getAbortController");function Ou(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xm(t,e):e}o(Ou,"replaceData");class G_ extends Zs{static{o(this,"FocusManager")}constructor(){super(),this.setup=e=>{if(!Ri&&window.addEventListener){const n=o(()=>e(),"listener");return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const da=new G_,vf=["online","offline"];class K_ extends Zs{static{o(this,"OnlineManager")}constructor(){super(),this.setup=e=>{if(!Ri&&window.addEventListener){const n=o(()=>e(),"listener");return vf.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{vf.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const fa=new K_;function Z_(t){return Math.min(1e3*2**t,3e4)}o(Z_,"defaultRetryDelay");function Za(t){return(t??"online")==="online"?fa.isOnline():!0}o(Za,"canFetch");class Cm{static{o(this,"CancelledError")}constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function zo(t){return t instanceof Cm}o(zo,"isCancelledError");function Am(t){let e=!1,n=0,r=!1,s,i,a;const c=new Promise((y,b)=>{i=y,a=b}),u=o(y=>{r||(m(new Cm(y)),t.abort==null||t.abort())},"cancel"),l=o(()=>{e=!0},"cancelRetry"),f=o(()=>{e=!1},"continueRetry"),d=o(()=>!da.isFocused()||t.networkMode!=="always"&&!fa.isOnline(),"shouldPause"),h=o(y=>{r||(r=!0,t.onSuccess==null||t.onSuccess(y),s?.(),i(y))},"resolve"),m=o(y=>{r||(r=!0,t.onError==null||t.onError(y),s?.(),a(y))},"reject"),p=o(()=>new Promise(y=>{s=o(b=>{const _=r||!d();return _&&y(b),_},"continueFn"),t.onPause==null||t.onPause()}).then(()=>{s=void 0,r||t.onContinue==null||t.onContinue()}),"pause"),g=o(()=>{if(r)return;let y;try{y=t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var _,w;if(r)return;const R=(_=t.retry)!=null?_:3,I=(w=t.retryDelay)!=null?w:Z_,S=typeof I=="function"?I(n,b):I,E=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,b);if(e||!E){m(b);return}n++,t.onFail==null||t.onFail(n,b),Rm(S).then(()=>{if(d())return p()}).then(()=>{e?m(b):g()})})},"run");return Za(t.networkMode)?g():p().then(g),{promise:c,cancel:u,continue:()=>s?.()?c:Promise.resolve(),cancelRetry:l,continueRetry:f}}o(Am,"createRetryer");const Gl=console;function Y_(){let t=[],e=0,n=o(f=>{f()},"notifyFn"),r=o(f=>{f()},"batchNotifyFn");const s=o(f=>{let d;e++;try{d=f()}finally{e--,e||c()}return d},"batch"),i=o(f=>{e?t.push(f):yf(()=>{n(f)})},"schedule"),a=o(f=>(...d)=>{i(()=>{f(...d)})},"batchCalls"),c=o(()=>{const f=t;t=[],f.length&&yf(()=>{r(()=>{f.forEach(d=>{n(d)})})})},"flush");return{batch:s,batchCalls:a,schedule:i,setNotifyFunction:o(f=>{n=f},"setNotifyFunction"),setBatchNotifyFunction:o(f=>{r=f},"setBatchNotifyFunction")}}o(Y_,"createNotifyManager");const ot=Y_();class Om{static{o(this,"Removable")}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cu(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Ri?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Q_ extends Om{static{o(this,"Query")}constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Gl,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||X_(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Ou(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!km(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=V_(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=o(m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})},"addSignalProperty");u(c);const l=o(()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),"fetchFn"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=f.fetchOptions)==null?void 0:s.meta)){var d;this.dispatch({type:"fetch",meta:(d=f.fetchOptions)==null?void 0:d.meta})}const h=o(m=>{if(zo(m)&&m.silent||this.dispatch({type:"error",error:m}),!zo(m)){var p,g,y,b;(p=(g=this.cache.config).onError)==null||p.call(g,m,this),(y=(b=this.cache.config).onSettled)==null||y.call(b,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},"onError");return this.retryer=Am({fn:f.fetchFn,abort:a?.abort.bind(a),onSuccess:m=>{var p,g,y,b;if(typeof m>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(p=(g=this.cache.config).onSuccess)==null||p.call(g,m,this),(y=(b=this.cache.config).onSettled)==null||y.call(b,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(m,p)=>{this.dispatch({type:"failed",failureCount:m,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=o(r=>{var s,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Za(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return zo(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}},"reducer");this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function X_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}o(X_,"getDefaultState$1");class J_ extends Zs{static{o(this,"QueryCache")}constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var s;const i=n.queryKey,a=(s=n.queryHash)!=null?s:Vl(i,n);let c=this.get(a);return c||(c=new Q_({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Wn(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>hf(r,s))}findAll(e,n){const[r]=Wn(e,n);return Object.keys(r).length>0?this.queries.filter(s=>hf(r,s)):this.queries}notify(e){ot.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){ot.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class ew extends Om{static{o(this,"Mutation")}constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Gl,this.observers=[],this.state=e.state||Pm(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=o(()=>{var E;return this.retryer=Am({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(v,T)=>{this.dispatch({type:"failed",failureCount:v,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},"executeMutation"),n=this.state.status==="loading";try{var r,s,i,a,c,u,l,f;if(!n){var d,h,m,p;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(h=this.mutationCache.config).onMutate)==null?void 0:d.call(h,this.state.variables,this));const v=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,this.state.variables));v!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables})}const E=await e();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,E,this.state.variables,this.state.context,this)),await((i=(a=this.options).onSuccess)==null?void 0:i.call(a,E,this.state.variables,this.state.context)),await((c=(u=this.mutationCache.config).onSettled)==null?void 0:c.call(u,E,null,this.state.variables,this.state.context,this)),await((l=(f=this.options).onSettled)==null?void 0:l.call(f,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var g,y,b,_,w,R,I,S;throw await((g=(y=this.mutationCache.config).onError)==null?void 0:g.call(y,E,this.state.variables,this.state.context,this)),await((b=(_=this.options).onError)==null?void 0:b.call(_,E,this.state.variables,this.state.context)),await((w=(R=this.mutationCache.config).onSettled)==null?void 0:w.call(R,void 0,E,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const n=o(r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Za(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}},"reducer");this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Pm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}o(Pm,"getDefaultState");class tw extends Zs{static{o(this,"MutationCache")}constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const s=new ew({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){ot.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>pf(e,n))}findAll(e){return this.mutations.filter(n=>pf(e,n))}notify(e){ot.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ot.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(Lt)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function nw(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,s,i,a;const c=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,u=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,l=u?.pageParam,f=u?.direction==="forward",d=u?.direction==="backward",h=((i=t.state.data)==null?void 0:i.pages)||[],m=((a=t.state.data)==null?void 0:a.pageParams)||[];let p=m,g=!1;const y=o(S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>{var E;if((E=t.signal)!=null&&E.aborted)g=!0;else{var v;(v=t.signal)==null||v.addEventListener("abort",()=>{g=!0})}return t.signal}})},"addSignalProperty"),b=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),_=o((S,E,v,T)=>(p=T?[E,...p]:[...p,E],T?[v,...S]:[...S,v]),"buildNewPages"),w=o((S,E,v,T)=>{if(g)return Promise.reject("Cancelled");if(typeof v>"u"&&!E&&S.length)return Promise.resolve(S);const k={queryKey:t.queryKey,pageParam:v,meta:t.options.meta};y(k);const x=b(k);return Promise.resolve(x).then(P=>_(S,v,P,T))},"fetchPage");let R;if(!h.length)R=w([]);else if(f){const S=typeof l<"u",E=S?l:Pu(t.options,h);R=w(h,S,E)}else if(d){const S=typeof l<"u",E=S?l:Mm(t.options,h);R=w(h,S,E,!0)}else{p=[];const S=typeof t.options.getNextPageParam>"u";R=(c&&h[0]?c(h[0],0,h):!0)?w([],S,m[0]):Promise.resolve(_([],m[0],h[0]));for(let v=1;v<h.length;v++)R=R.then(T=>{if(c&&h[v]?c(h[v],v,h):!0){const x=S?m[v]:Pu(t.options,T);return w(T,S,x)}return Promise.resolve(_(T,m[v],h[v]))})}return R.then(S=>({pages:S,pageParams:p}))}}}}o(nw,"infiniteQueryBehavior");function Pu(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}o(Pu,"getNextPageParam");function Mm(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}o(Mm,"getPreviousPageParam");function GL(t,e){if(t.getNextPageParam&&Array.isArray(e)){const n=Pu(t,e);return typeof n<"u"&&n!==null&&n!==!1}}o(GL,"hasNextPage");function KL(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const n=Mm(t,e);return typeof n<"u"&&n!==null&&n!==!1}}o(KL,"hasPreviousPage");class Nm{static{o(this,"QueryClient")}constructor(e={}){this.queryCache=e.queryCache||new J_,this.mutationCache=e.mutationCache||new tw,this.logger=e.logger||Gl,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=da.subscribe(()=>{da.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=fa.subscribe(()=>{fa.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Wn(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const s=So(e,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.queryCache.find(e),i=s?.state.data,a=H_(n,i);if(typeof a>"u")return;const c=So(e),u=this.defaultQueryOptions(c);return this.queryCache.build(this,u).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return ot.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Wn(e,n),s=this.queryCache;ot.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(e,n,r){const[s,i]=Wn(e,n,r),a=this.queryCache,c={type:"active",...s};return ot.batch(()=>(a.findAll(s).forEach(u=>{u.reset()}),this.refetchQueries(c,i)))}cancelQueries(e,n,r){const[s,i={}]=Wn(e,n,r);typeof i.revert>"u"&&(i.revert=!0);const a=ot.batch(()=>this.queryCache.findAll(s).map(c=>c.cancel(i)));return Promise.all(a).then(Lt).catch(Lt)}invalidateQueries(e,n,r){const[s,i]=Wn(e,n,r);return ot.batch(()=>{var a,c;if(this.queryCache.findAll(s).forEach(l=>{l.invalidate()}),s.refetchType==="none")return Promise.resolve();const u={...s,type:(a=(c=s.refetchType)!=null?c:s.type)!=null?a:"active"};return this.refetchQueries(u,i)})}refetchQueries(e,n,r){const[s,i]=Wn(e,n,r),a=ot.batch(()=>this.queryCache.findAll(s).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...i,cancelRefetch:(l=i?.cancelRefetch)!=null?l:!0,meta:{refetchPage:s.refetchPage}})}));let c=Promise.all(a).then(Lt);return i!=null&&i.throwOnError||(c=c.catch(Lt)),c}fetchQuery(e,n,r){const s=So(e,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Lt).catch(Lt)}fetchInfiniteQuery(e,n,r){const s=So(e,n,r);return s.behavior=nw(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Lt).catch(Lt)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(s=>Ir(e)===Ir(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>ua(e,r.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(s=>Ir(e)===Ir(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>ua(e,r.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Vl(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Dm extends Zs{static{o(this,"QueryObserver")}constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),bf(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mu(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mu(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),la(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const i=this.hasListeners();i&&_f(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(n),i&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();i&&(this.currentQuery!==s||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return sw(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Lt)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Ri||this.currentResult.isStale||!Cu(this.options.staleTime))return;const n=km(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ri||this.options.enabled===!1||!Cu(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||da.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,s=this.options,i=this.currentResult,a=this.currentResultState,c=this.currentResultOptions,u=e!==r,l=u?e.state:this.currentQueryInitialState,f=u?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:m,errorUpdatedAt:p,fetchStatus:g,status:y}=d,b=!1,_=!1,w;if(n._optimisticResults){const v=this.hasListeners(),T=!v&&bf(e,n),k=v&&_f(e,r,n,s);(T||k)&&(g=Za(e.options.networkMode)?"fetching":"paused",h||(y="loading")),n._optimisticResults==="isRestoring"&&(g="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&f!=null&&f.isSuccess&&y!=="error")w=f.data,h=f.dataUpdatedAt,y=f.status,b=!0;else if(n.select&&typeof d.data<"u")if(i&&d.data===a?.data&&n.select===this.selectFn)w=this.selectResult;else try{this.selectFn=n.select,w=n.select(d.data),w=Ou(i?.data,w,n),this.selectResult=w,this.selectError=null}catch(v){this.selectError=v}else w=d.data;if(typeof n.placeholderData<"u"&&typeof w>"u"&&y==="loading"){let v;if(i!=null&&i.isPlaceholderData&&n.placeholderData===c?.placeholderData)v=i.data;else if(v=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof v<"u")try{v=n.select(v),this.selectError=null}catch(T){this.selectError=T}typeof v<"u"&&(y="success",w=Ou(i?.data,v,n),_=!0)}this.selectError&&(m=this.selectError,w=this.selectResult,p=Date.now(),y="error");const R=g==="fetching",I=y==="loading",S=y==="error";return{status:y,fetchStatus:g,isLoading:I,isSuccess:y==="success",isError:S,isInitialLoading:I&&R,data:w,dataUpdatedAt:h,error:m,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:R,isRefetching:R&&!I,isLoadingError:S&&d.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:_,isPreviousData:b,isRefetchError:S&&d.dataUpdatedAt!==0,isStale:Kl(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,la(r,n))return;this.currentResult=r;const s={cache:!0},i=o(()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!this.trackedProps.size)return!0;const u=new Set(c??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(l=>{const f=l;return this.currentResult[f]!==n[f]&&u.has(f)})},"shouldNotifyListeners");e?.listeners!==!1&&i()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!zo(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){ot.batch(()=>{if(e.onSuccess){var n,r,s,i;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(s=(i=this.options).onSettled)==null||s.call(i,this.currentResult.data,null)}else if(e.onError){var a,c,u,l;(a=(c=this.options).onError)==null||a.call(c,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function rw(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(rw,"shouldLoadOnMount");function bf(t,e){return rw(t,e)||t.state.dataUpdatedAt>0&&Mu(t,e,e.refetchOnMount)}o(bf,"shouldFetchOnMount");function Mu(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Kl(t,e)}return!1}o(Mu,"shouldFetchOn");function _f(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Kl(t,n)}o(_f,"shouldFetchOptionally");function Kl(t,e){return t.isStaleByTime(e.staleTime)}o(Kl,"isStale");function sw(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!la(t.getCurrentResult(),e)}o(sw,"shouldAssignObserverCurrentProperties");let iw=class extends Zs{static{o(this,"MutationObserver")}constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),la(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Pm(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){ot.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,s,i;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(s=(i=this.mutateOptions).onSettled)==null||s.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var a,c,u,l;(a=(c=this.mutateOptions).onError)==null||a.call(c,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(l=this.mutateOptions).onSettled)==null||u.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)})})}};const wf=D.createContext(void 0),Lm=D.createContext(!1);function Fm(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=wf),window.ReactQueryClientContext):wf)}o(Fm,"getQueryClientContext");const YL=o(({context:t}={})=>{const e=D.useContext(Fm(t,D.useContext(Lm)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),ow=o(({client:t,children:e,context:n,contextSharing:r=!1})=>{D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=Fm(n,r);return D.createElement(Lm.Provider,{value:!n&&r},D.createElement(s.Provider,{value:t},e))},"QueryClientProvider");function Um(t,e){return o(function(){return t.apply(e,arguments)},"wrap")}o(Um,"bind");const{toString:aw}=Object.prototype,{getPrototypeOf:Zl}=Object,Ya=(t=>e=>{const n=aw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bn=o(t=>(t=t.toLowerCase(),e=>Ya(e)===t),"kindOfTest"),Qa=o(t=>e=>typeof e===t,"typeOfTest"),{isArray:Ys}=Array,Ci=Qa("undefined");function cw(t){return t!==null&&!Ci(t)&&t.constructor!==null&&!Ci(t.constructor)&&Bt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}o(cw,"isBuffer");const Bm=bn("ArrayBuffer");function uw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Bm(t.buffer),e}o(uw,"isArrayBufferView");const lw=Qa("string"),Bt=Qa("function"),$m=Qa("number"),Xa=o(t=>t!==null&&typeof t=="object","isObject$1"),dw=o(t=>t===!0||t===!1,"isBoolean$1"),qo=o(t=>{if(Ya(t)!=="object")return!1;const e=Zl(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},"isPlainObject$1"),fw=bn("Date"),hw=bn("File"),pw=bn("Blob"),mw=bn("FileList"),gw=o(t=>Xa(t)&&Bt(t.pipe),"isStream"),yw=o(t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bt(t.append)&&((e=Ya(t))==="formdata"||e==="object"&&Bt(t.toString)&&t.toString()==="[object FormData]"))},"isFormData"),vw=bn("URLSearchParams"),bw=o(t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function no(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ys(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let c;for(r=0;r<a;r++)c=i[r],e.call(null,t[c],c,t)}}o(no,"forEach");function jm(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}o(jm,"findKey");const zm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qm=o(t=>!Ci(t)&&t!==zm,"isContextDefined");function Nu(){const{caseless:t}=qm(this)&&this||{},e={},n=o((r,s)=>{const i=t&&jm(e,s)||s;qo(e[i])&&qo(r)?e[i]=Nu(e[i],r):qo(r)?e[i]=Nu({},r):Ys(r)?e[i]=r.slice():e[i]=r},"assignValue");for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&no(arguments[r],n);return e}o(Nu,"merge");const _w=o((t,e,n,{allOwnKeys:r}={})=>(no(e,(s,i)=>{n&&Bt(s)?t[i]=Um(s,n):t[i]=s},{allOwnKeys:r}),t),"extend"),ww=o(t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),"stripBOM"),Sw=o((t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},"inherits"),Ew=o((t,e,n,r)=>{let s,i,a;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&Zl(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},"toFlatObject"),Tw=o((t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},"endsWith"),kw=o(t=>{if(!t)return null;if(Ys(t))return t;let e=t.length;if(!$m(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},"toArray"),Iw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Zl(Uint8Array)),xw=o((t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},"forEachEntry"),Rw=o((t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},"matchAll"),Cw=bn("HTMLFormElement"),Aw=o(t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,o(function(n,r,s){return r.toUpperCase()+s},"replacer")),"toCamelCase"),Sf=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ow=bn("RegExp"),Wm=o((t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};no(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},"reduceDescriptors"),Pw=o(t=>{Wm(t,(e,n)=>{if(Bt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},"freezeMethods"),Mw=o((t,e)=>{const n={},r=o(s=>{s.forEach(i=>{n[i]=!0})},"define");return Ys(t)?r(t):r(String(t).split(e)),n},"toObjectSet"),Nw=o(()=>{},"noop"),Dw=o((t,e)=>(t=+t,Number.isFinite(t)?t:e),"toFiniteNumber"),zc="abcdefghijklmnopqrstuvwxyz",Ef="0123456789",Hm={DIGIT:Ef,ALPHA:zc,ALPHA_DIGIT:zc+zc.toUpperCase()+Ef},Lw=o((t=16,e=Hm.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},"generateString");function Fw(t){return!!(t&&Bt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}o(Fw,"isSpecCompliantForm");const Uw=o(t=>{const e=new Array(10),n=o((r,s)=>{if(Xa(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ys(r)?[]:{};return no(r,(a,c)=>{const u=n(a,s+1);!Ci(u)&&(i[c]=u)}),e[s]=void 0,i}}return r},"visit");return n(t,0)},"toJSONObject"),Bw=bn("AsyncFunction"),$w=o(t=>t&&(Xa(t)||Bt(t))&&Bt(t.then)&&Bt(t.catch),"isThenable$1"),C={isArray:Ys,isArrayBuffer:Bm,isBuffer:cw,isFormData:yw,isArrayBufferView:uw,isString:lw,isNumber:$m,isBoolean:dw,isObject:Xa,isPlainObject:qo,isUndefined:Ci,isDate:fw,isFile:hw,isBlob:pw,isRegExp:Ow,isFunction:Bt,isStream:gw,isURLSearchParams:vw,isTypedArray:Iw,isFileList:mw,forEach:no,merge:Nu,extend:_w,trim:bw,stripBOM:ww,inherits:Sw,toFlatObject:Ew,kindOf:Ya,kindOfTest:bn,endsWith:Tw,toArray:kw,forEachEntry:xw,matchAll:Rw,isHTMLForm:Cw,hasOwnProperty:Sf,hasOwnProp:Sf,reduceDescriptors:Wm,freezeMethods:Pw,toObjectSet:Mw,toCamelCase:Aw,noop:Nw,toFiniteNumber:Dw,findKey:jm,global:zm,isContextDefined:qm,ALPHABET:Hm,generateString:Lw,isSpecCompliantForm:Fw,toJSONObject:Uw,isAsyncFn:Bw,isThenable:$w};function ye(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}o(ye,"AxiosError");C.inherits(ye,Error,{toJSON:o(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}},"toJSON")});const Vm=ye.prototype,Gm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gm[t]={value:t}});Object.defineProperties(ye,Gm);Object.defineProperty(Vm,"isAxiosError",{value:!0});ye.from=(t,e,n,r,s,i)=>{const a=Object.create(Vm);return C.toFlatObject(t,a,o(function(u){return u!==Error.prototype},"filter"),c=>c!=="isAxiosError"),ye.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const jw=null;function Du(t){return C.isPlainObject(t)||C.isArray(t)}o(Du,"isVisitable");function Km(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}o(Km,"removeBrackets");function Tf(t,e,n){return t?t.concat(e).map(o(function(s,i){return s=Km(s),!n&&i?"["+s+"]":s},"each")).join(n?".":""):e}o(Tf,"renderKey");function zw(t){return C.isArray(t)&&!t.some(Du)}o(zw,"isFlatArray");const qw=C.toFlatObject(C,{},null,o(function(e){return/^is[A-Z]/.test(e)},"filter"));function Ja(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,o(function(g,y){return!C.isUndefined(y[g])},"defined"));const r=n.metaTokens,s=n.visitor||f,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(C.isDate(p))return p.toISOString();if(!u&&C.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(p)||C.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}o(l,"convertValue");function f(p,g,y){let b=p;if(p&&!y&&typeof p=="object"){if(C.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(C.isArray(p)&&zw(p)||(C.isFileList(p)||C.endsWith(g,"[]"))&&(b=C.toArray(p)))return g=Km(g),b.forEach(o(function(w,R){!(C.isUndefined(w)||w===null)&&e.append(a===!0?Tf([g],R,i):a===null?g:g+"[]",l(w))},"each")),!1}return Du(p)?!0:(e.append(Tf(y,g,i),l(p)),!1)}o(f,"defaultVisitor");const d=[],h=Object.assign(qw,{defaultVisitor:f,convertValue:l,isVisitable:Du});function m(p,g){if(!C.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),C.forEach(p,o(function(b,_){(!(C.isUndefined(b)||b===null)&&s.call(e,b,C.isString(_)?_.trim():_,g,h))===!0&&m(b,g?g.concat(_):[_])},"each")),d.pop()}}if(o(m,"build"),!C.isObject(t))throw new TypeError("data must be an object");return m(t),e}o(Ja,"toFormData");function kf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,o(function(r){return e[r]},"replacer"))}o(kf,"encode$1");function Yl(t,e){this._pairs=[],t&&Ja(t,this,e)}o(Yl,"AxiosURLSearchParams");const Zm=Yl.prototype;Zm.append=o(function(e,n){this._pairs.push([e,n])},"append");Zm.toString=o(function(e){const n=e?function(r){return e.call(this,r,kf)}:kf;return this._pairs.map(o(function(s){return n(s[0])+"="+n(s[1])},"each"),"").join("&")},"toString");function Ww(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o(Ww,"encode");function Ym(t,e,n){if(!e)return t;const r=n&&n.encode||Ww,s=n&&n.serialize;let i;if(s?i=s(e,n):i=C.isURLSearchParams(e)?e.toString():new Yl(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}o(Ym,"buildURL");class If{static{o(this,"InterceptorManager")}constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,o(function(r){r!==null&&e(r)},"forEachHandler"))}}const Qm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hw=typeof URLSearchParams<"u"?URLSearchParams:Yl,Vw=typeof FormData<"u"?FormData:null,Gw=typeof Blob<"u"?Blob:null,Kw={isBrowser:!0,classes:{URLSearchParams:Hw,FormData:Vw,Blob:Gw},protocols:["http","https","file","blob","url","data"]},Xm=typeof window<"u"&&typeof document<"u",Zw=(t=>Xm&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Yw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xm,hasStandardBrowserEnv:Zw,hasStandardBrowserWebWorkerEnv:Yw},Symbol.toStringTag,{value:"Module"})),fn={...Qw,...Kw};function Xw(t,e){return Ja(t,new fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return fn.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}o(Xw,"toURLEncodedForm");function Jw(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}o(Jw,"parsePropPath");function eS(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}o(eS,"arrayToObject");function Jm(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=i>=n.length;return a=!a&&C.isArray(s)?s.length:a,u?(C.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!C.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&C.isArray(s[a])&&(s[a]=eS(s[a])),!c)}if(o(e,"buildPath"),C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,s)=>{e(Jw(r),s,n,0)}),n}return null}o(Jm,"formDataToJSON");function tS(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}o(tS,"stringifySafely");const Ql={transitional:Qm,adapter:["xhr","http"],transformRequest:[o(function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return s?JSON.stringify(Jm(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xw(e,this.formSerializer).toString();if((c=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ja(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tS(e)):e},"transformRequest")],transformResponse:[o(function(e){const n=this.transitional||Ql.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&C.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?ye.from(c,ye.ERR_BAD_RESPONSE,this,null,this.response):c}}return e},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:o(function(e){return e>=200&&e<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{Ql.headers[t]={}});const Xl=Ql,nS=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rS=o(t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(o(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&nS[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)},"parser")),e},"parseHeaders"),xf=Symbol("internals");function ai(t){return t&&String(t).trim().toLowerCase()}o(ai,"normalizeHeader");function Wo(t){return t===!1||t==null?t:C.isArray(t)?t.map(Wo):String(t)}o(Wo,"normalizeValue");function sS(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}o(sS,"parseTokens");const iS=o(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()),"isValidHeaderName");function qc(t,e,n,r,s){if(C.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}o(qc,"matchHeaderValue");function oS(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}o(oS,"formatHeader");function aS(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}o(aS,"buildAccessors");class ec{static{o(this,"AxiosHeaders")}constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(c,u,l){const f=ai(u);if(!f)throw new Error("header name must be a non-empty string");const d=C.findKey(s,f);(!d||s[d]===void 0||l===!0||l===void 0&&s[d]!==!1)&&(s[d||u]=Wo(c))}o(i,"setHeader");const a=o((c,u)=>C.forEach(c,(l,f)=>i(l,f,u)),"setHeaders");return C.isPlainObject(e)||e instanceof this.constructor?a(e,n):C.isString(e)&&(e=e.trim())&&!iS(e)?a(rS(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=ai(e),e){const r=C.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return sS(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ai(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=ai(a),a){const c=C.findKey(r,a);c&&(!n||qc(r,r[c],c,n))&&(delete r[c],s=!0)}}return o(i,"deleteHeader"),C.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||qc(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return C.forEach(this,(s,i)=>{const a=C.findKey(r,i);if(a){n[a]=Wo(s),delete n[i];return}const c=e?oS(i):String(i).trim();c!==i&&delete n[i],n[c]=Wo(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[xf]=this[xf]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=ai(a);r[c]||(aS(s,a),r[c]=!0)}return o(i,"defineAccessor"),C.isArray(e)?e.forEach(i):i(e),this}}ec.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(ec.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(ec);const Mn=ec;function Wc(t,e){const n=this||Xl,r=e||n,s=Mn.from(r.headers);let i=r.data;return C.forEach(t,o(function(c){i=c.call(n,i,s.normalize(),e?e.status:void 0)},"transform")),s.normalize(),i}o(Wc,"transformData");function eg(t){return!!(t&&t.__CANCEL__)}o(eg,"isCancel");function ro(t,e,n){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,n),this.name="CanceledError"}o(ro,"CanceledError");C.inherits(ro,ye,{__CANCEL__:!0});function cS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}o(cS,"settle");const uS=fn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),C.isString(r)&&a.push("path="+r),C.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}o(lS,"isAbsoluteURL");function dS(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}o(dS,"combineURLs");function tg(t,e){return t&&!lS(e)?dS(t,e):e}o(tg,"buildFullPath");const fS=fn.hasStandardBrowserEnv?o(function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let a=i;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o(s,"resolveURL"),r=s(window.location.href),o(function(a){const c=C.isString(a)?s(a):a;return c.protocol===r.protocol&&c.host===r.host},"isURLSameOrigin")},"standardBrowserEnv")():o(function(){return o(function(){return!0},"isURLSameOrigin")},"nonStandardBrowserEnv")();function hS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}o(hS,"parseProtocol");function pS(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,o(function(u){const l=Date.now(),f=r[i];a||(a=l),n[s]=u,r[s]=l;let d=i,h=0;for(;d!==s;)h+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-a<e)return;const m=f&&l-f;return m?Math.round(h*1e3/m):void 0},"push")}o(pS,"speedometer");function Rf(t,e){let n=0;const r=pS(50,250);return s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,c=i-n,u=r(c),l=i<=a;n=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-i)/u:void 0,event:s};f[e?"download":"upload"]=!0,t(f)}}o(Rf,"progressEventReducer");const mS=typeof XMLHttpRequest<"u",gS=mS&&function(t){return new Promise(o(function(n,r){let s=t.data;const i=Mn.from(t.headers).normalize();let{responseType:a,withXSRFToken:c}=t,u;function l(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}o(l,"done");let f;if(C.isFormData(s)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((f=i.getContentType())!==!1){const[g,...y]=f?f.split(";").map(b=>b.trim()).filter(Boolean):[];i.setContentType([g||"multipart/form-data",...y].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(g+":"+y))}const h=tg(t.baseURL,t.url);d.open(t.method.toUpperCase(),Ym(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function m(){if(!d)return;const g=Mn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:g,config:t,request:d};cS(o(function(w){n(w),l()},"_resolve"),o(function(w){r(w),l()},"_reject"),b),d=null}if(o(m,"onloadend"),"onloadend"in d?d.onloadend=m:d.onreadystatechange=o(function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},"handleLoad"),d.onabort=o(function(){d&&(r(new ye("Request aborted",ye.ECONNABORTED,t,d)),d=null)},"handleAbort"),d.onerror=o(function(){r(new ye("Network Error",ye.ERR_NETWORK,t,d)),d=null},"handleError"),d.ontimeout=o(function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||Qm;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),r(new ye(y,b.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,d)),d=null},"handleTimeout"),fn.hasStandardBrowserEnv&&(c&&C.isFunction(c)&&(c=c(t)),c||c!==!1&&fS(h))){const g=t.xsrfHeaderName&&t.xsrfCookieName&&uS.read(t.xsrfCookieName);g&&i.set(t.xsrfHeaderName,g)}s===void 0&&i.setContentType(null),"setRequestHeader"in d&&C.forEach(i.toJSON(),o(function(y,b){d.setRequestHeader(b,y)},"setRequestHeader")),C.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),a&&a!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",Rf(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Rf(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=o(g=>{d&&(r(!g||g.type?new ro(null,t,d):g),d.abort(),d=null)},"onCanceled"),t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const p=hS(h);if(p&&fn.protocols.indexOf(p)===-1){r(new ye("Unsupported protocol "+p+":",ye.ERR_BAD_REQUEST,t));return}d.send(s||null)},"dispatchXhrRequest"))},Lu={http:jw,xhr:gS};C.forEach(Lu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Cf=o(t=>`- ${t}`,"renderReason"),yS=o(t=>C.isFunction(t)||t===null||t===!1,"isResolvedHandle"),ng={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!yS(n)&&(r=Lu[(a=String(n)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(Cf).join(`
`):" "+Cf(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Lu};function Hc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ro(null,t)}o(Hc,"throwIfCancellationRequested");function Af(t){return Hc(t),t.headers=Mn.from(t.headers),t.data=Wc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ng.getAdapter(t.adapter||Xl.adapter)(t).then(o(function(r){return Hc(t),r.data=Wc.call(t,t.transformResponse,r),r.headers=Mn.from(r.headers),r},"onAdapterResolution"),o(function(r){return eg(r)||(Hc(t),r&&r.response&&(r.response.data=Wc.call(t,t.transformResponse,r.response),r.response.headers=Mn.from(r.response.headers))),Promise.reject(r)},"onAdapterRejection"))}o(Af,"dispatchRequest");const Of=o(t=>t instanceof Mn?{...t}:t,"headersToObject");function As(t,e){e=e||{};const n={};function r(l,f,d){return C.isPlainObject(l)&&C.isPlainObject(f)?C.merge.call({caseless:d},l,f):C.isPlainObject(f)?C.merge({},f):C.isArray(f)?f.slice():f}o(r,"getMergedValue");function s(l,f,d){if(C.isUndefined(f)){if(!C.isUndefined(l))return r(void 0,l,d)}else return r(l,f,d)}o(s,"mergeDeepProperties");function i(l,f){if(!C.isUndefined(f))return r(void 0,f)}o(i,"valueFromConfig2");function a(l,f){if(C.isUndefined(f)){if(!C.isUndefined(l))return r(void 0,l)}else return r(void 0,f)}o(a,"defaultToConfig2");function c(l,f,d){if(d in e)return r(l,f);if(d in t)return r(void 0,l)}o(c,"mergeDirectKeys");const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(l,f)=>s(Of(l),Of(f),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),o(function(f){const d=u[f]||s,h=d(t[f],e[f],f);C.isUndefined(h)&&d!==c||(n[f]=h)},"computeConfigValue")),n}o(As,"mergeConfig");const rg="1.6.8",Jl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jl[t]=o(function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t},"validator")});const Pf={};Jl.transitional=o(function(e,n,r){function s(i,a){return"[Axios v"+rg+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return o(s,"formatMessage"),(i,a,c)=>{if(e===!1)throw new ye(s(a," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!Pf[a]&&(Pf[a]=!0,s(a," has been deprecated since v"+n+" and will be removed in the near future")),e?e(i,a,c):!0}},"transitional");function vS(t,e,n){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const c=t[i],u=c===void 0||a(c,i,t);if(u!==!0)throw new ye("option "+i+" must be "+u,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}o(vS,"assertOptions");const Fu={assertOptions:vS,validators:Jl},zn=Fu.validators;class ha{static{o(this,"Axios")}constructor(e){this.defaults=e,this.interceptors={request:new If,response:new If}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=As(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Fu.assertOptions(r,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:Fu.assertOptions(s,{encode:zn.function,serialize:zn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=Mn.concat(a,i);const c=[];let u=!0;this.interceptors.request.forEach(o(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,c.unshift(g.fulfilled,g.rejected))},"unshiftRequestInterceptors"));const l=[];this.interceptors.response.forEach(o(function(g){l.push(g.fulfilled,g.rejected)},"pushResponseInterceptors"));let f,d=0,h;if(!u){const p=[Af.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,l),h=p.length,f=Promise.resolve(n);d<h;)f=f.then(p[d++],p[d++]);return f}h=c.length;let m=n;for(d=0;d<h;){const p=c[d++],g=c[d++];try{m=p(m)}catch(y){g.call(this,y);break}}try{f=Af.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=l.length;d<h;)f=f.then(l[d++],l[d++]);return f}getUri(e){e=As(this.defaults,e);const n=tg(e.baseURL,e.url);return Ym(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],o(function(e){ha.prototype[e]=function(n,r){return this.request(As(r||{},{method:e,url:n,data:(r||{}).data}))}},"forEachMethodNoData"));C.forEach(["post","put","patch"],o(function(e){function n(r){return o(function(i,a,c){return this.request(As(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))},"httpMethod")}o(n,"generateHTTPMethod"),ha.prototype[e]=n(),ha.prototype[e+"Form"]=n(!0)},"forEachMethodWithData"));const Ho=ha;class ed{static{o(this,"CancelToken")}constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(o(function(i){n=i},"promiseExecutor"));const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{r.subscribe(c),i=c}).then(s);return a.cancel=o(function(){r.unsubscribe(i)},"reject"),a},e(o(function(i,a,c){r.reason||(r.reason=new ro(i,a,c),n(r.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ed(o(function(s){e=s},"executor")),cancel:e}}}const bS=ed;function _S(t){return o(function(n){return t.apply(null,n)},"wrap")}o(_S,"spread");function wS(t){return C.isObject(t)&&t.isAxiosError===!0}o(wS,"isAxiosError");const Uu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uu).forEach(([t,e])=>{Uu[e]=t});const SS=Uu;function sg(t){const e=new Ho(t),n=Um(Ho.prototype.request,e);return C.extend(n,Ho.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=o(function(s){return sg(As(t,s))},"create"),n}o(sg,"createInstance$1");const Ge=sg(Xl);Ge.Axios=Ho;Ge.CanceledError=ro;Ge.CancelToken=bS;Ge.isCancel=eg;Ge.VERSION=rg;Ge.toFormData=Ja;Ge.AxiosError=ye;Ge.Cancel=Ge.CanceledError;Ge.all=o(function(e){return Promise.all(e)},"all");Ge.spread=_S;Ge.isAxiosError=wS;Ge.mergeConfig=As;Ge.AxiosHeaders=Mn;Ge.formToJSON=t=>Jm(C.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=ng.getAdapter;Ge.HttpStatusCode=SS;Ge.default=Ge;const ES=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var TS=o(t=>!ES.has(t&&t.code),"isRetryAllowed");const kS=um(TS),td="axios-retry";function ig(t){const e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:kS(t)}o(ig,"isNetworkError");const og=["get","head","options"],IS=og.concat(["put","delete"]);function nd(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status===429||t.response.status>=500&&t.response.status<=599)}o(nd,"isRetryableError");function xS(t){return t.config?.method?nd(t)&&og.indexOf(t.config.method)!==-1:!1}o(xS,"isSafeRequestError");function ag(t){return t.config?.method?nd(t)&&IS.indexOf(t.config.method)!==-1:!1}o(ag,"isIdempotentRequestError");function cg(t){return ig(t)||ag(t)}o(cg,"isNetworkOrIdempotentRequestError");function ug(t=void 0){const e=t?.response?.headers["retry-after"];if(!e)return 0;let n=(Number(e)||0)*1e3;return n===0&&(n=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,n)}o(ug,"retryAfter");function RS(t=0,e=void 0){return Math.max(0,ug(e))}o(RS,"noDelay");function CS(t=0,e=void 0,n=100){const r=2**t*n,s=Math.max(r,ug(e)),i=s*.2*Math.random();return s+i}o(CS,"exponentialDelay");const AS={retries:3,retryCondition:cg,retryDelay:RS,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function OS(t,e){return{...AS,...e,...t[td]}}o(OS,"getRequestOptions");function Mf(t,e){const n=OS(t,e||{});return n.retryCount=n.retryCount||0,n.lastRequestTime=n.lastRequestTime||Date.now(),t[td]=n,n}o(Mf,"setCurrentState");function PS(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}o(PS,"fixConfig");async function MS(t,e){const{retries:n,retryCondition:r}=t,s=(t.retryCount||0)<n&&r(e);if(typeof s=="object")try{return await s!==!1}catch{return!1}return s}o(MS,"shouldRetry");async function NS(t,e,n,r){e.retryCount+=1;const{retryDelay:s,shouldResetTimeout:i,onRetry:a}=e,c=s(e.retryCount,n);if(PS(t,r),!i&&r.timeout&&e.lastRequestTime){const u=Date.now()-e.lastRequestTime,l=r.timeout-u-c;if(l<=0)return Promise.reject(n);r.timeout=l}return r.transformRequest=[u=>u],await a(e.retryCount,n,r),r.signal?.aborted?Promise.resolve(t(r)):new Promise(u=>{const l=o(()=>{clearTimeout(f),u(t(r))},"abortListener"),f=setTimeout(()=>{u(t(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",l)},c);r.signal?.addEventListener&&r.signal.addEventListener("abort",l,{once:!0})})}o(NS,"handleRetry");async function DS(t,e){t.retryCount>=t.retries&&await t.onMaxRetryTimesExceeded(e,t.retryCount)}o(DS,"handleMaxRetryTimesExceeded");const or=o((t,e)=>{const n=t.interceptors.request.use(s=>(Mf(s,e),s[td]?.validateResponse&&(s.validateStatus=()=>!1),s)),r=t.interceptors.response.use(null,async s=>{const{config:i}=s;if(!i)return Promise.reject(s);const a=Mf(i,e);return s.response&&a.validateResponse?.(s.response)?s.response:await MS(a,s)?NS(t,a,s,i):(await DS(a,s),Promise.reject(s))});return{requestInterceptorId:n,responseInterceptorId:r}},"axiosRetry");or.isNetworkError=ig;or.isSafeRequestError=xS;or.isIdempotentRequestError=ag;or.isNetworkOrIdempotentRequestError=cg;or.exponentialDelay=CS;or.isRetryableError=nd;const qn="https://api.polarr.co/polarr-next",lg=new Nm,LS="auth.polarr.com",dg="UDZKxzTPzbvkxQVbmijlMEneem7t7klY",FS="https://api.polarr.co/polarr-next/",pa=new Map;function US(t){pa.set(t,!0),setTimeout(()=>pa.delete(t),1e4)}o(US,"registerProjectIdAsDeleted");function BS(t){pa.delete(t)}o(BS,"removeProjectIdAsDeleted");function QL(t){return pa.has(t)}o(QL,"projectIsDeleted");const Pe=Ge.create({baseURL:qn});or(Pe,{retryDelay:or.exponentialDelay});class Nf{static{o(this,"PNApiOperations")}static basePaths={payment:`${qn}/payment`,presets:`${qn}/presets`,projects:`${qn}/projects`,images:`${qn}/images`,serviceStatus:`${qn}/service-status`,signedUrls:`${qn}/upload/signed-urls`,users:`${qn}/iam/users`};static listImages=async e=>(await Pe.get(this.basePaths.images,{params:e})).data;static getImage=async e=>(await Pe.get(`${this.basePaths.images}/${e}`)).data;static createImage=async e=>(await Pe.post(this.basePaths.images,e)).data;static deleteImage=async e=>{await Pe.delete(`${this.basePaths.images}/${e}`)};static listPresets=async e=>(await Pe.get(this.basePaths.presets,{params:e})).data;static getPreset=async e=>(await Pe.get(`${this.basePaths.presets}/${e}`)).data;static createPreset=async e=>(await Pe.post(this.basePaths.presets,e)).data;static updatePreset=async(e,n)=>(await Pe.patch(`${this.basePaths.presets}/${e}`,n)).data;static deletePreset=async e=>{await Pe.delete(`${this.basePaths.presets}/${e}`)};static listProjects=async e=>(await Pe.get(this.basePaths.projects,{params:e})).data;static getProject=async e=>(await Pe.get(`${this.basePaths.projects}/${e}`)).data;static createProject=async e=>{const n=await Pe.post(this.basePaths.projects,e);return BS(n.data.projectId),n.data};static updateProject=async(e,n)=>(await Pe.patch(`${this.basePaths.projects}/${e}`,n)).data;static deleteProject=async e=>{await Pe.delete(`${this.basePaths.projects}/${e}`),US(e)};static getSignedUrls=async e=>{const n={"content-types":e.map(s=>s.contentType).join(","),"entity-types":e.map(s=>s.entityType).join(","),"content-digests":e.map(s=>s.contentDigest??"").join(",")};return(await Pe.get(this.basePaths.signedUrls,{params:n})).data.urls};static getCurrentUser=async()=>(await Pe.get(`${this.basePaths.users}/@me`)).data;static deleteCurrentUser=async()=>{const e=await Pe.delete(`${this.basePaths.users}/@me`);return e.status===200||e.status===202||e.status===204};static getUserActivities=async e=>{const n=`${this.basePaths.users}/@me/activity-events`;return(await Pe.get(n,{params:e})).data};static getServiceStatus=async()=>(await fetch(this.basePaths.serviceStatus)).json();static getPaymentPlans=async()=>(await fetch(`${this.basePaths.payment}/plans`)).json();static createStripeCheckoutSession=async e=>(await Pe.post(`${this.basePaths.payment}/stripe/checkout-sessions`,e)).data;static createStripeCustomerPortalSession=async()=>(await Pe.post(`${this.basePaths.payment}/stripe/customer-portal-sessions`)).data;static redeemPromoCode=async e=>(await Pe.post(`${this.basePaths.payment}/promo-codes/redemptions`,e)).data;static reportCreditConsumptionEvents=async e=>{await Pe.post(`${this.basePaths.payment}/credit-consumption/events`,e)};static uploadContent=async e=>{const n=await Pe.put(e.url,e.data,{transformRequest:(r,s)=>(delete s.Authorization,s["Content-Type"]=e.contentType??e.data.type,r)});return{url:this.convertToCDNUrl(n.data.url)}};static convertToCDNUrl=e=>{const n=new URL(e);return n.host==="polarr-playground-images.s3.us-west-1.amazonaws.com"&&(n.host="images.polarr.co"),n.toString()}}const fg=Object.prototype.toString;function tc(t){switch(fg.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ln(t,Error)}}o(tc,"isError");function Qs(t,e){return fg.call(t)===`[object ${e}]`}o(Qs,"isBuiltin");function hg(t){return Qs(t,"ErrorEvent")}o(hg,"isErrorEvent$2");function Df(t){return Qs(t,"DOMError")}o(Df,"isDOMError");function $S(t){return Qs(t,"DOMException")}o($S,"isDOMException");function Nn(t){return Qs(t,"String")}o(Nn,"isString$1");function rd(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(rd,"isParameterizedString");function sd(t){return t===null||rd(t)||typeof t!="object"&&typeof t!="function"}o(sd,"isPrimitive");function Os(t){return Qs(t,"Object")}o(Os,"isPlainObject");function nc(t){return typeof Event<"u"&&Ln(t,Event)}o(nc,"isEvent");function jS(t){return typeof Element<"u"&&Ln(t,Element)}o(jS,"isElement$2");function zS(t){return Qs(t,"RegExp")}o(zS,"isRegExp");function rc(t){return!!(t&&t.then&&typeof t.then=="function")}o(rc,"isThenable");function qS(t){return Os(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(qS,"isSyntheticEvent");function Ln(t,e){try{return t instanceof e}catch{return!1}}o(Ln,"isInstanceOf");function pg(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(pg,"isVueViewModel");function Es(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(Es,"truncate");function Lf(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{pg(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}o(Lf,"safeJoin");function WS(t,e,n=!1){return Nn(t)?zS(e)?e.test(t):Nn(e)?n?t===e:t.includes(e):!1:!1}o(WS,"isMatchingPattern");function rr(t,e=[],n=!1){return e.some(r=>WS(t,r,n))}o(rr,"stringMatchesSomePattern");function HS(t,e,n=250,r,s,i,a){if(!i.exception||!i.exception.values||!a||!Ln(a.originalException,Error))return;const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;c&&(i.exception.values=VS(Bu(t,e,s,a.originalException,r,i.exception.values,c,0),n))}o(HS,"applyAggregateErrorsToEvent");function Bu(t,e,n,r,s,i,a,c){if(i.length>=n+1)return i;let u=[...i];if(Ln(r[s],Error)){Ff(a,c);const l=t(e,r[s]),f=u.length;Uf(l,s,f,c),u=Bu(t,e,n,r[s],s,[l,...u],l,f)}return Array.isArray(r.errors)&&r.errors.forEach((l,f)=>{if(Ln(l,Error)){Ff(a,c);const d=t(e,l),h=u.length;Uf(d,`errors[${f}]`,h,c),u=Bu(t,e,n,l,s,[d,...u],d,h)}}),u}o(Bu,"aggregateExceptionsFromError");function Ff(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(Ff,"applyExceptionGroupFieldsForParentException");function Uf(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}o(Uf,"applyExceptionGroupFieldsForChildException");function VS(t,e){return t.map(n=>(n.value&&(n.value=Es(n.value,e)),n))}o(VS,"truncateAggregateExceptions");function mg(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(mg,"getBreadcrumbLogLevelFromHttpStatusCode");const Or="8.37.1",pe=globalThis;function sc(t,e,n){const r=n||pe,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Or]=s[Or]||{};return i[t]||(i[t]=e())}o(sc,"getGlobalSingleton");const Ts=pe,GS=80;function Fn(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,a=0;const c=" > ",u=c.length;let l;const f=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||GS;for(;n&&i++<r&&(l=KS(n,f),!(l==="html"||i>1&&a+s.length*u+l.length>=d));)s.push(l),a+=l.length,n=n.parentNode;return s.reverse().join(c)}catch{return"<unknown>"}}o(Fn,"htmlTreeAsString");function KS(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(Ts.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e&&e.length?e.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&Nn(a)){const c=a.split(/\s+/);for(const u of c)r.push(`.${u}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const c=n.getAttribute(a);c&&r.push(`[${a}="${c}"]`)}return r.join("")}o(KS,"_htmlElementAsString");function gg(){try{return Ts.document.location.href}catch{return""}}o(gg,"getLocationHref");function ZS(t){return Ts.document&&Ts.document.querySelector?Ts.document.querySelector(t):null}o(ZS,"getDomElement");function yg(t){if(!Ts.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(yg,"getComponentName");const Vr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,YS="Sentry Logger ",$u=["debug","info","warn","error","log","assert","trace"],ma={};function Xs(t){if(!("console"in pe))return t();const e=pe.console,n={},r=Object.keys(ma);r.forEach(s=>{const i=ma[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}o(Xs,"consoleSandbox");function QS(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Vr?$u.forEach(n=>{e[n]=(...r)=>{t&&Xs(()=>{pe.console[n](`${YS}[${n}]:`,...r)})}}):$u.forEach(n=>{e[n]=()=>{}}),e}o(QS,"makeLogger");const M=sc("logger",QS),XS=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function JS(t){return t==="http"||t==="https"}o(JS,"isValidProtocol");function Js(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:a,protocol:c,publicKey:u}=t;return`${c}://${u}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${a}`}o(Js,"dsnToString");function e0(t){const e=XS.exec(t);if(!e){Xs(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i="",a="",c=""]=e.slice(1);let u="",l=c;const f=l.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),l=f.pop()),l){const d=l.match(/^\d+/);d&&(l=d[0])}return vg({host:i,pass:s,path:u,projectId:l,port:a,protocol:n,publicKey:r})}o(e0,"dsnFromString");function vg(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(vg,"dsnFromComponents");function t0(t){if(!Vr)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(M.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?JS(r)?e&&isNaN(parseInt(e,10))?(M.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(M.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(M.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}o(t0,"validateDsn");function bg(t){const e=typeof t=="string"?e0(t):vg(t);if(!(!e||!t0(e)))return e}o(bg,"makeDsn");class ln extends Error{static{o(this,"SentryError")}constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function wt(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&_g(s,r),t[e]=s}o(wt,"fill$1");function zt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Vr&&M.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(zt,"addNonEnumerableProperty");function _g(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,zt(t,"__sentry_original__",e)}catch{}}o(_g,"markFunctionWrapped");function id(t){return t.__sentry_original__}o(id,"getOriginalFunction");function n0(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}o(n0,"urlEncode");function wg(t){if(tc(t))return{message:t.message,name:t.name,stack:t.stack,...$f(t)};if(nc(t)){const e={type:t.type,target:Bf(t.target),currentTarget:Bf(t.currentTarget),...$f(t)};return typeof CustomEvent<"u"&&Ln(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(wg,"convertToPlainObject");function Bf(t){try{return jS(t)?Fn(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(Bf,"serializeEventTarget");function $f(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}o($f,"getOwnProperties");function r0(t,e=40){const n=Object.keys(wg(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return Es(r,e);for(let s=n.length;s>0;s--){const i=n.slice(0,s).join(", ");if(!(i.length>e))return s===n.length?i:Es(i,e)}return""}o(r0,"extractExceptionKeysForMessage");function Qe(t){return ju(t,new Map)}o(Qe,"dropUndefinedKeys");function ju(t,e){if(s0(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.getOwnPropertyNames(t))typeof t[s]<"u"&&(r[s]=ju(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(ju(s,e))}),r}return t}o(ju,"_dropUndefinedKeys");function s0(t){if(!Os(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(s0,"isPojo");const Sg=50,Ur="?",jf=/\(error: (.*)\)/,zf=/captureMessage|captureException/;function Eg(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],a=n.split(`
`);for(let c=r;c<a.length;c++){const u=a[c];if(u.length>1024)continue;const l=jf.test(u)?u.replace(jf,"$1"):u;if(!l.match(/\S*Error: /)){for(const f of e){const d=f(l);if(d){i.push(d);break}}if(i.length>=Sg+s)break}}return o0(i.slice(s))}}o(Eg,"createStackParser");function i0(t){return Array.isArray(t)?Eg(...t):t}o(i0,"stackParserFromStackParserOptions");function o0(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Eo(e).function||"")&&e.pop(),e.reverse(),zf.test(Eo(e).function||"")&&(e.pop(),zf.test(Eo(e).function||"")&&e.pop()),e.slice(0,Sg).map(n=>({...n,filename:n.filename||Eo(e).filename,function:n.function||Ur}))}o(o0,"stripSentryFramesAndReverse");function Eo(t){return t[t.length-1]||{}}o(Eo,"getLastStackFrame");const Vc="<anonymous>";function Un(t){try{return!t||typeof t!="function"?Vc:t.name||Vc}catch{return Vc}}o(Un,"getFunctionName");function qf(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}o(qf,"getFramesFromEvent");const Vo={},Wf={};function pr(t,e){Vo[t]=Vo[t]||[],Vo[t].push(e)}o(pr,"addHandler$1");function mr(t,e){if(!Wf[t]){Wf[t]=!0;try{e()}catch(n){Vr&&M.error(`Error while instrumenting ${t}`,n)}}}o(mr,"maybeInstrument");function $t(t,e){const n=t&&Vo[t];if(n)for(const r of n)try{r(e)}catch(s){Vr&&M.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Un(r)}
Error:`,s)}}o($t,"triggerHandlers$1");function a0(t){const e="console";pr(e,t),mr(e,c0)}o(a0,"addConsoleInstrumentationHandler");function c0(){"console"in pe&&$u.forEach(function(t){t in pe.console&&wt(pe.console,t,function(e){return ma[t]=e,function(...n){$t("console",{args:n,level:t});const s=ma[t];s&&s.apply(pe.console,n)}})})}o(c0,"instrumentConsole");const zu=pe;function Tg(){if(!("fetch"in zu))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(Tg,"supportsFetch");function qu(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(qu,"isNativeFunction");function u0(){if(typeof EdgeRuntime=="string")return!0;if(!Tg())return!1;if(qu(zu.fetch))return!0;let t=!1;const e=zu.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=qu(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Vr&&M.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}o(u0,"supportsNativeFetch");const kg=1e3;function so(){return Date.now()/kg}o(so,"dateTimestampInSeconds");function l0(){const{performance:t}=pe;if(!t||!t.now)return so;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/kg}o(l0,"createUnixTimestampInSecondsFunc");const pt=l0(),mt=(()=>{const{performance:t}=pe;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-r):e,l=u<e;return i||l?s<=u?t.timeOrigin:a:r})();function Ig(t,e){const n="fetch";pr(n,t),mr(n,()=>xg(void 0,e))}o(Ig,"addFetchInstrumentationHandler");function d0(t){const e="fetch-body-resolved";pr(e,t),mr(e,()=>xg(h0))}o(d0,"addFetchEndInstrumentationHandler");function xg(t,e=!1){e&&!u0()||wt(pe,"fetch",function(n){return function(...r){const{method:s,url:i}=p0(r),a={args:r,fetchData:{method:s,url:i},startTimestamp:pt()*1e3};t||$t("fetch",{...a});const c=new Error().stack;return n.apply(pe,r).then(async u=>(t?t(u):$t("fetch",{...a,endTimestamp:pt()*1e3,response:u}),u),u=>{throw $t("fetch",{...a,endTimestamp:pt()*1e3,error:u}),tc(u)&&u.stack===void 0&&(u.stack=c,zt(u,"framesToPop",1)),u})}})}o(xg,"instrumentFetch");async function f0(t,e){if(t&&t.body){const n=t.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let a;try{a=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await r.read();clearTimeout(a),c&&(e(),i=!1)}catch{i=!1}finally{clearTimeout(a)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}o(f0,"resolveResponse");function h0(t){let e;try{e=t.clone()}catch{return}f0(e,()=>{$t("fetch-body-resolved",{endTimestamp:pt()*1e3,response:t})})}o(h0,"streamHandler");function Wu(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(Wu,"hasProp");function Hf(t){return typeof t=="string"?t:t?Wu(t,"url")?t.url:t.toString?t.toString():"":""}o(Hf,"getUrlFromResource");function p0(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:Hf(n),method:Wu(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:Hf(e),method:Wu(e,"method")?String(e.method).toUpperCase():"GET"}}o(p0,"parseFetchArgs");let To=null;function Rg(t){const e="error";pr(e,t),mr(e,m0)}o(Rg,"addGlobalErrorInstrumentationHandler");function m0(){To=pe.onerror,pe.onerror=function(t,e,n,r,s){return $t("error",{column:r,error:s,line:n,msg:t,url:e}),To&&!To.__SENTRY_LOADER__?To.apply(this,arguments):!1},pe.onerror.__SENTRY_INSTRUMENTED__=!0}o(m0,"instrumentError");let ko=null;function Cg(t){const e="unhandledrejection";pr(e,t),mr(e,g0)}o(Cg,"addGlobalUnhandledRejectionInstrumentationHandler");function g0(){ko=pe.onunhandledrejection,pe.onunhandledrejection=function(t){return $t("unhandledrejection",t),ko&&!ko.__SENTRY_LOADER__?ko.apply(this,arguments):!0},pe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(g0,"instrumentUnhandledRejection");function y0(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}o(y0,"isBrowserBundle");function v0(){return"npm"}o(v0,"getSDKSource");function b0(){return!y0()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}o(b0,"isNodeEnv");function Vf(){return typeof window<"u"&&(!b0()||_0())}o(Vf,"isBrowser$1");function _0(){return pe.process!==void 0&&pe.process.type==="renderer"}o(_0,"isElectronNodeRenderer");function w0(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}o(n,"memoize");function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return o(r,"unmemoize"),[n,r]}o(w0,"memoBuilder");function Me(){const t=pe,e=t.crypto||t.msCrypto;let n=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=o(()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}o(Me,"uuid4");function Ag(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(Ag,"getFirstException");function Hn(t){const{message:e,event_id:n}=t;if(e)return e;const r=Ag(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}o(Hn,"getEventDescription");function Hu(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}o(Hu,"addExceptionTypeValue");function Ai(t,e){const n=Ag(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};n.mechanism.data=i}}o(Ai,"addExceptionMechanism");function Gf(t){if(t&&t.__sentry_captured__)return!0;try{zt(t,"__sentry_captured__",!0)}catch{}return!1}o(Gf,"checkOrSetAlreadyCaught");function Og(t){return Array.isArray(t)?t:[t]}o(Og,"arrayify");function un(t,e=100,n=1/0){try{return Vu("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}o(un,"normalize");function Pg(t,e=3,n=100*1024){const r=un(t,e);return k0(r)>n?Pg(t,e-1,n):r}o(Pg,"normalizeToSize");function Vu(t,e,n=1/0,r=1/0,s=w0()){const[i,a]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const c=S0(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return c.replace("object ","");if(i(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const m=l.toJSON();return Vu("",m,u-1,r,s)}catch{}const f=Array.isArray(e)?[]:{};let d=0;const h=wg(e);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(d>=r){f[m]="[MaxProperties ~]";break}const p=h[m];f[m]=Vu(m,p,u-1,r,s),d++}return a(e),f}o(Vu,"visit");function S0(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(pg(e))return"[VueViewModel]";if(qS(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Un(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=E0(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}o(S0,"stringifyValue");function E0(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(E0,"getConstructorName");function T0(t){return~-encodeURI(t).split(/%..|./).length}o(T0,"utf8Length");function k0(t){return T0(JSON.stringify(t))}o(k0,"jsonSize");var Rn;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(Rn||(Rn={}));function Bn(t){return new Ut(e=>{e(t)})}o(Bn,"resolvedSyncPromise");function ga(t){return new Ut((e,n)=>{n(t)})}o(ga,"rejectedSyncPromise");class Ut{static{o(this,"SyncPromise")}constructor(e){Ut.prototype.__init.call(this),Ut.prototype.__init2.call(this),Ut.prototype.__init3.call(this),Ut.prototype.__init4.call(this),this._state=Rn.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Ut((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(a){s(a)}},i=>{if(!n)s(i);else try{r(n(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Ut((n,r)=>{let s,i;return this.then(a=>{i=!1,s=a,e&&e()},a=>{i=!0,s=a,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(Rn.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Rn.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Rn.PENDING){if(rc(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Rn.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Rn.RESOLVED&&n[1](this._value),this._state===Rn.REJECTED&&n[2](this._value),n[0]=!0)})}}}function I0(t){const e=[];function n(){return t===void 0||e.length<t}o(n,"isReady");function r(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(r,"remove");function s(a){if(!n())return ga(new ln("Not adding Promise because buffer limit was reached."));const c=a();return e.indexOf(c)===-1&&e.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}o(s,"add");function i(a){return new Ut((c,u)=>{let l=e.length;if(!l)return c(!0);const f=setTimeout(()=>{a&&a>0&&c(!1)},a);e.forEach(d=>{Bn(d).then(()=>{--l||(clearTimeout(f),c(!0))},u)})})}return o(i,"drain"),{$:e,add:s,drain:i}}o(I0,"makePromiseBuffer");function Pr(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}o(Pr,"parseUrl$1");const x0=["fatal","error","warning","log","info","debug"];function Mg(t){return t==="warn"?"warning":x0.includes(t)?t:"log"}o(Mg,"severityLevelFromString");const ls="baggage",od="sentry-",R0=/^sentry-/,C0=8192;function Ng(t){const e=A0(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(R0)){const a=s.slice(od.length);r[a]=i}return r},{});if(Object.keys(n).length>0)return n}o(Ng,"baggageHeaderToDynamicSamplingContext");function Dg(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,s])=>(s&&(n[`${od}${r}`]=s),n),{});return O0(e)}o(Dg,"dynamicSamplingContextToSentryBaggageHeader");function A0(t){if(!(!t||!Nn(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=Kf(n);return Object.entries(r).forEach(([s,i])=>{e[s]=i}),e},{}):Kf(t)}o(A0,"parseBaggageHeader");function Kf(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}o(Kf,"baggageHeaderToObject");function O0(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,a=s===0?i:`${e},${i}`;return a.length>C0?(Vr&&M.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):a},"")}o(O0,"objectToBaggageHeader");const P0=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function M0(t){if(!t)return;const e=t.match(P0);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}o(M0,"extractTraceparentData");function N0(t,e){const n=M0(t),r=Ng(e),{traceId:s,parentSpanId:i,parentSampled:a}=n||{};return n?{traceId:s||Me(),parentSpanId:i||Me().substring(16),spanId:Me().substring(16),sampled:a,dsc:r||{}}:{traceId:s||Me(),spanId:Me().substring(16)}}o(N0,"propagationContextFromHeaders");function ad(t=Me(),e=Me().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}o(ad,"generateSentryTraceHeader");function Gr(t,e=[]){return[t,e]}o(Gr,"createEnvelope");function D0(t,e){const[n,r]=t;return[n,[...r,e]]}o(D0,"addItemToEnvelope");function Zf(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}o(Zf,"forEachEnvelopeItem");function Gu(t){return pe.__SENTRY__&&pe.__SENTRY__.encodePolyfill?pe.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(Gu,"encodeUTF8");function L0(t){const[e,n]=t;let r=JSON.stringify(e);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Gu(r),i]:r.push(typeof i=="string"?Gu(i):i)}o(s,"append");for(const i of n){const[a,c]=i;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(un(c))}s(u)}}return typeof r=="string"?r:F0(r)}o(L0,"serializeEnvelope");function F0(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}o(F0,"concatBuffers");function U0(t){return[{type:"span"},t]}o(U0,"createSpanEnvelopeItem");function B0(t){const e=typeof t.data=="string"?Gu(t.data):t.data;return[Qe({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(B0,"createAttachmentEnvelopeItem");const $0={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Yf(t){return $0[t]}o(Yf,"envelopeItemTypeToDataCategory");function cd(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}o(cd,"getSdkMetadataForEnvelopeHeader");function Lg(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Js(r)},...s&&{trace:Qe({...s})}}}o(Lg,"createEventEnvelopeHeaders");function j0(t,e,n){const r=[{type:"client_report"},{timestamp:n||so(),discarded_events:t}];return Gr(e?{dsn:e}:{},[r])}o(j0,"createClientReportEnvelope");const z0=60*1e3;function q0(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?z0:r-e}o(q0,"parseRetryAfterHeader");function W0(t,e){return t[e]||t.all||0}o(W0,"disabledUntil");function Fg(t,e,n=Date.now()){return W0(t,e)>n}o(Fg,"isRateLimited");function Ug(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const c of i.trim().split(",")){const[u,l,,,f]=c.split(":",5),d=parseInt(u,10),h=(isNaN(d)?60:d)*1e3;if(!l)s.all=r+h;else for(const m of l.split(";"))m==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(s[m]=r+h):s[m]=r+h}else a?s.all=r+q0(a,r):e===429&&(s.all=r+60*1e3);return s}o(Ug,"updateRateLimits");function H0(t,e){return t??e()}o(H0,"_nullishCoalesce");function Ot(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(Ot,"_optionalChain");function ya(){return{traceId:Me(),spanId:Me().substring(16)}}o(ya,"generatePropagationContext");const Io=pe;function V0(){const t=Io.chrome,e=t&&t.app&&t.app.runtime,n="history"in Io&&!!Io.history.pushState&&!!Io.history.replaceState;return!e&&n}o(V0,"supportsHistory");const ce=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ei(){return ud(pe),pe}o(ei,"getMainCarrier");function ud(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Or,e[Or]=e[Or]||{}}o(ud,"getSentryCarrier");function G0(t){const e=pt(),n={sid:Me(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Z0(n)};return t&&Ps(n,t),n}o(G0,"makeSession$1");function Ps(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||pt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Me()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(Ps,"updateSession");function K0(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),Ps(t,n)}o(K0,"closeSession");function Z0(t){return Qe({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(Z0,"sessionToJSON");const Ku="_sentrySpan";function Oi(t,e){e?zt(t,Ku,e):delete t[Ku]}o(Oi,"_setSpanForScope");function va(t){return t[Ku]}o(va,"_getSpanForScope");const Y0=100;class ld{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ya()}clone(){const e=new ld;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Oi(e,va(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ps(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,s]=n instanceof ar?[n.getScopeData(),n.getRequestSession()]:Os(n)?[e,e.requestSession]:[],{tags:i,extra:a,user:c,contexts:u,level:l,fingerprint:f=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),l&&(this._level=l),f.length&&(this._fingerprint=f),d&&(this._propagationContext=d),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Oi(this,void 0),this._attachments=[],this._propagationContext=ya(),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:Y0;if(r<=0)return this;const s={timestamp:so(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:va(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Me();if(!this._client)return M.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:Me();if(!this._client)return M.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Me();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(M.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const ar=ld;function Q0(){return sc("defaultCurrentScope",()=>new ar)}o(Q0,"getDefaultCurrentScope");function X0(){return sc("defaultIsolationScope",()=>new ar)}o(X0,"getDefaultIsolationScope");class J0{static{o(this,"AsyncContextStack")}constructor(e,n){let r;e?r=e:r=new ar;let s;n?s=n:s=new ar,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return rc(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ms(){const t=ei(),e=ud(t);return e.stack=e.stack||new J0(Q0(),X0())}o(Ms,"getAsyncContextStack");function eE(t){return Ms().withScope(t)}o(eE,"withScope$1");function tE(t,e){const n=Ms();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}o(tE,"withSetScope");function Qf(t){return Ms().withScope(()=>t(Ms().getIsolationScope()))}o(Qf,"withIsolationScope");function nE(){return{withIsolationScope:Qf,withScope:eE,withSetScope:tE,withSetIsolationScope:(t,e)=>Qf(e),getCurrentScope:()=>Ms().getScope(),getIsolationScope:()=>Ms().getIsolationScope()}}o(nE,"getStackAsyncContextStrategy");function io(t){const e=ud(t);return e.acs?e.acs:nE()}o(io,"getAsyncContextStrategy");function ke(){const t=ei();return io(t).getCurrentScope()}o(ke,"getCurrentScope");function vt(){const t=ei();return io(t).getIsolationScope()}o(vt,"getIsolationScope");function rE(){return sc("globalScope",()=>new ar)}o(rE,"getGlobalScope$1");function ic(...t){const e=ei(),n=io(e);if(t.length===2){const[r,s]=t;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(t[0])}o(ic,"withScope");function fe(){return ke().getClient()}o(fe,"getClient");const sE="_sentryMetrics";function Zu(t){const e=t[sE];if(!e)return;const n={};for(const[,[r,s]]of e)(n[r]||(n[r]=[])).push(Qe(s));return n}o(Zu,"getMetricSummaryJsonForSpan");const On="sentry.source",Bg="sentry.sample_rate",Br="sentry.op",nt="sentry.origin",Yu="sentry.idle_span_finish_reason",oc="sentry.measurement_unit",ac="sentry.measurement_value",iE="sentry.profile_id",dd="sentry.exclusive_time",oE=0,$g=1,et=2;function aE(t){if(t<400&&t>=100)return{code:$g};if(t>=400&&t<500)switch(t){case 401:return{code:et,message:"unauthenticated"};case 403:return{code:et,message:"permission_denied"};case 404:return{code:et,message:"not_found"};case 409:return{code:et,message:"already_exists"};case 413:return{code:et,message:"failed_precondition"};case 429:return{code:et,message:"resource_exhausted"};case 499:return{code:et,message:"cancelled"};default:return{code:et,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:et,message:"unimplemented"};case 503:return{code:et,message:"unavailable"};case 504:return{code:et,message:"deadline_exceeded"};default:return{code:et,message:"internal_error"}}return{code:et,message:"unknown_error"}}o(aE,"getSpanStatusFromHttpCode");function jg(t,e){t.setAttribute("http.response.status_code",e);const n=aE(e);n.message!=="unknown_error"&&t.setStatus(n)}o(jg,"setHttpStatus");const zg=0,qg=1;function cE(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:a,origin:c}=_e(t);return Qe({parent_span_id:i,span_id:e,trace_id:n,data:r,op:s,status:a,origin:c})}o(cE,"spanToTransactionTraceContext");function uE(t){const{spanId:e,traceId:n}=t.spanContext(),{parent_span_id:r}=_e(t);return Qe({parent_span_id:r,span_id:e,trace_id:n})}o(uE,"spanToTraceContext");function Wg(t){const{traceId:e,spanId:n}=t.spanContext(),r=Kr(t);return ad(e,n,r)}o(Wg,"spanToTraceHeader");function Mr(t){return typeof t=="number"?Xf(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Xf(t.getTime()):pt()}o(Mr,"spanTimeInputToSeconds");function Xf(t){return t>9999999999?t/1e3:t}o(Xf,"ensureTimestampInSeconds");function _e(t){if(dE(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(lE(t)){const{attributes:r,startTime:s,name:i,endTime:a,parentSpanId:c,status:u}=t;return Qe({span_id:e,trace_id:n,data:r,description:i,parent_span_id:c,start_timestamp:Mr(s),timestamp:Mr(a)||void 0,status:Hg(u),op:r[Br],origin:r[nt],_metrics_summary:Zu(t)})}return{span_id:e,trace_id:n}}catch{return{}}}o(_e,"spanToJSON");function lE(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(lE,"spanIsOpenTelemetrySdkTraceBaseSpan");function dE(t){return typeof t.getSpanJSON=="function"}o(dE,"spanIsSentrySpan");function Kr(t){const{traceFlags:e}=t.spanContext();return e===qg}o(Kr,"spanIsSampled");function Hg(t){if(!(!t||t.code===oE))return t.code===$g?"ok":t.message||"unknown_error"}o(Hg,"getStatusMessage");const Nr="_sentryChildSpans",Qu="_sentryRootSpan";function Vg(t,e){const n=t[Qu]||t;zt(e,Qu,n),t[Nr]?t[Nr].add(e):zt(t,Nr,new Set([e]))}o(Vg,"addChildSpanToSpan");function fE(t,e){t[Nr]&&t[Nr].delete(e)}o(fE,"removeChildSpanFromSpan");function Go(t){const e=new Set;function n(r){if(!e.has(r)&&Kr(r)){e.add(r);const s=r[Nr]?Array.from(r[Nr]):[];for(const i of s)n(i)}}return o(n,"addSpanChildren"),n(t),Array.from(e)}o(Go,"getSpanDescendants");function at(t){return t[Qu]||t}o(at,"getRootSpan");function ct(){const t=ei(),e=io(t);return e.getActiveSpan?e.getActiveSpan():va(ke())}o(ct,"getActiveSpan");let Jf=!1;function hE(){Jf||(Jf=!0,Rg(Xu),Cg(Xu))}o(hE,"registerSpanErrorInstrumentation");function Xu(){const t=ct(),e=t&&at(t);if(e){const n="internal_error";ce&&M.log(`[Tracing] Root span: ${n} -> Global error occurred`),e.setStatus({code:et,message:n})}}o(Xu,"errorCallback");Xu.tag="sentry_tracingErrorCallback";const Gg="_sentryScope",Kg="_sentryIsolationScope";function pE(t,e,n){t&&(zt(t,Kg,n),zt(t,Gg,e))}o(pE,"setCapturedScopesOnSpan");function eh(t){return{scope:t[Gg],isolationScope:t[Kg]}}o(eh,"getCapturedScopesOnSpan");function $n(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=fe(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}o($n,"hasTracingEnabled");class ti{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||Me(),this._spanId=e.spanId||Me().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:zg}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}const fd="production",Zg="_frozenDsc";function th(t,e){zt(t,Zg,e)}o(th,"freezeDscOnSpan");function cc(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s=Qe({environment:n.environment||fd,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",s),s}o(cc,"getDynamicSamplingContextFromClient");function gr(t){const e=fe();if(!e)return{};const n=cc(_e(t).trace_id||"",e),r=at(t),s=r[Zg];if(s)return s;const i=r.spanContext().traceState,a=i&&i.get("sentry.dsc"),c=a&&Ng(a);if(c)return c;const u=_e(r),l=u.data||{},f=l[Bg];f!=null&&(n.sample_rate=`${f}`);const d=l[On],h=u.description;return d!=="url"&&h&&(n.transaction=h),$n()&&(n.sampled=String(Kr(r))),e.emit("createDsc",n,r),n}o(gr,"getDynamicSamplingContextFromSpan");function mE(t){if(!ce)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=_e(t),{spanId:s}=t.spanContext(),i=Kr(t),a=at(t),c=a===t,u=`[Tracing] Starting ${i?"sampled":"unsampled"} ${c?"root ":""}span`,l=[`op: ${n}`,`name: ${e}`,`ID: ${s}`];if(r&&l.push(`parent ID: ${r}`),!c){const{op:f,description:d}=_e(a);l.push(`root ID: ${a.spanContext().spanId}`),f&&l.push(`root op: ${f}`),d&&l.push(`root description: ${d}`)}M.log(`${u}
  ${l.join(`
  `)}`)}o(mE,"logSpanStart");function gE(t){if(!ce)return;const{description:e="< unknown name >",op:n="< unknown op >"}=_e(t),{spanId:r}=t.spanContext(),i=at(t)===t,a=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${e}" with ID ${r}`;M.log(a)}o(gE,"logSpanEnd");function ba(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){ce&&M.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(ba,"parseSampleRate");function yE(t,e){if(!$n(t))return[!1];let n;typeof t.tracesSampler=="function"?n=t.tracesSampler(e):e.parentSampled!==void 0?n=e.parentSampled:typeof t.tracesSampleRate<"u"?n=t.tracesSampleRate:n=1;const r=ba(n);return r===void 0?(ce&&M.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(ce&&M.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(ce&&M.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}o(yE,"sampleSpan");function vE(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(vE,"enhanceEventWithSdkInfo");function bE(t,e,n,r){const s=cd(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Js(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Gr(i,[a])}o(bE,"createSessionEnvelope");function _E(t,e,n,r){const s=cd(n),i=t.type&&t.type!=="replay_event"?t.type:"event";vE(t,n&&n.sdk);const a=Lg(t,s,r,e);return delete t.sdkProcessingMetadata,Gr(a,[[{type:i},t]])}o(_E,"createEventEnvelope");function wE(t,e){function n(f){return!!f.trace_id&&!!f.public_key}o(n,"dscHasRequiredProps");const r=gr(t[0]),s=e&&e.getDsn(),i=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Js(s)}},c=e&&e.getOptions().beforeSendSpan,u=c?f=>c(_e(f)):f=>_e(f),l=[];for(const f of t){const d=u(f);d&&l.push(U0(d))}return Gr(a,l)}o(wE,"createSpanEnvelope");function SE(t,e,n,r=ct()){const s=r&&at(r);s&&s.addEvent(t,{[ac]:e,[oc]:n})}o(SE,"setMeasurement");function nh(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},s=r[oc],i=r[ac];typeof s=="string"&&typeof i=="number"&&(e[n.name]={value:i,unit:s})}),e}o(nh,"timedEventsToMeasurements");const rh=1e3;class hd{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||Me(),this._spanId=e.spanId||Me().substring(16),this._startTime=e.startTimestamp||pt(),this._attributes={},this.setAttributes({[nt]:"manual",[Br]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?qg:zg}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=Mr(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=Mr(e),gE(this),this._onSpanEnded())}getSpanJSON(){return Qe({data:this._attributes,description:this._name,op:this._attributes[Br],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Hg(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[nt],_metrics_summary:Zu(this),profile_id:this._attributes[iE],exclusive_time:this._attributes[dd],measurements:nh(this._events),is_segment:this._isStandaloneSpan&&at(this)===this||void 0,segment_id:this._isStandaloneSpan?at(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){ce&&M.log("[Tracing] Adding an event to span:",e);const s=sh(n)?n:r||pt(),i=sh(n)?{}:n||{},a={name:e,time:Mr(s),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=fe();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===at(this)))return;if(this._isStandaloneSpan){this._sampled?TE(wE([this],e)):(ce&&M.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(eh(this).scope||ke()).captureEvent(r)}_convertSpanToTransaction(){if(!ih(_e(this)))return;this._name||(ce&&M.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=eh(this),s=(e||ke()).getClient()||fe();if(this._sampled!==!0){ce&&M.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const a=Go(this).filter(d=>d!==this&&!EE(d)).map(d=>_e(d)).filter(ih),c=this._attributes[On],u={contexts:{trace:cE(this)},spans:a.length>rh?a.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,rh):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,...Qe({dynamicSamplingContext:gr(this)})},_metrics_summary:Zu(this),...c&&{transaction_info:{source:c}}},l=nh(this._events);return l&&Object.keys(l).length&&(ce&&M.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),u.measurements=l),u}}function sh(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(sh,"isSpanTimeInput");function ih(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(ih,"isFullFinishedSpan");function EE(t){return t instanceof hd&&t.isStandaloneSpan()}o(EE,"isStandaloneSpan");function TE(t){const e=fe();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(TE,"sendSpanEnvelope");const Yg="__SENTRY_SUPPRESS_TRACING__";function Zr(t){const e=Xg();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=IE(t),{forceTransaction:r,parentSpan:s}=t;return(t.scope?a=>ic(t.scope,a):s!==void 0?a=>Qg(s,a):a=>a())(()=>{const a=ke(),c=RE(a);return t.onlyIfParent&&!c?new ti:kE({parentSpan:c,spanArguments:n,forceTransaction:r,scope:a})})}o(Zr,"startInactiveSpan");function Qg(t,e){const n=Xg();return n.withActiveSpan?n.withActiveSpan(t,e):ic(r=>(Oi(r,t||void 0),e(r)))}o(Qg,"withActiveSpan");function kE({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!$n())return new ti;const s=vt();let i;if(t&&!n)i=xE(t,r,e),Vg(t,i);else if(t){const a=gr(t),{traceId:c,spanId:u}=t.spanContext(),l=Kr(t);i=oh({traceId:c,parentSpanId:u,...e},r,l),th(i,a)}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...s.getPropagationContext(),...r.getPropagationContext()};i=oh({traceId:a,parentSpanId:u,...e},r,l),c&&th(i,c)}return mE(i),pE(i,r,s),i}o(kE,"createChildOrRootSpan");function IE(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=Mr(t.startTime),delete r.startTime,r}return n}o(IE,"parseSentrySpanArguments");function Xg(){const t=ei();return io(t)}o(Xg,"getAcs");function oh(t,e,n){const r=fe(),s=r&&r.getOptions()||{},{name:i="",attributes:a}=t,[c,u]=e.getScopeData().sdkProcessingMetadata[Yg]?[!1]:yE(s,{name:i,parentSampled:n,attributes:a,transactionContext:{name:i,parentSampled:n}}),l=new hd({...t,attributes:{[On]:"custom",...t.attributes},sampled:c});return u!==void 0&&l.setAttribute(Bg,u),r&&r.emit("spanStart",l),l}o(oh,"_startRootSpan");function xE(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),i=e.getScopeData().sdkProcessingMetadata[Yg]?!1:Kr(t),a=i?new hd({...n,parentSpanId:r,traceId:s,sampled:i}):new ti({traceId:s});Vg(t,a);const c=fe();return c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a)),a}o(xE,"_startChildSpan");function RE(t){const e=va(t);if(!e)return;const n=fe();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?at(e):e}o(RE,"getParentSpan");const Ko={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},CE="heartbeatFailed",AE="idleTimeout",OE="finalTimeout",PE="externalFinish";function Jg(t,e={}){const n=new Map;let r=!1,s,i=PE,a=!e.disableAutoFinish;const c=[],{idleTimeout:u=Ko.idleTimeout,finalTimeout:l=Ko.finalTimeout,childSpanTimeout:f=Ko.childSpanTimeout,beforeSpanEnd:d}=e,h=fe();if(!h||!$n())return new ti;const m=ke(),p=ct(),g=ME(t);g.end=new Proxy(g.end,{apply(S,E,v){d&&d(g);const[T,...k]=v,x=T||pt(),A=Mr(x),P=Go(g).filter(j=>j!==g);if(!P.length)return I(A),Reflect.apply(S,E,[A,...k]);const B=P.map(j=>_e(j).timestamp).filter(j=>!!j),F=B.length?Math.max(...B):void 0,N=_e(g).start_timestamp,Q=Math.min(N?N+l/1e3:1/0,Math.max(N||-1/0,Math.min(A,F||1/0)));return I(Q),Reflect.apply(S,E,[Q,...k])}});function y(){s&&(clearTimeout(s),s=void 0)}o(y,"_cancelIdleTimeout");function b(S){y(),s=setTimeout(()=>{!r&&n.size===0&&a&&(i=AE,g.end(S))},u)}o(b,"_restartIdleTimeout");function _(S){s=setTimeout(()=>{!r&&a&&(i=CE,g.end(S))},f)}o(_,"_restartChildSpanTimeout");function w(S){y(),n.set(S,!0);const E=pt();_(E+f/1e3)}o(w,"_pushActivity");function R(S){if(n.has(S)&&n.delete(S),n.size===0){const E=pt();b(E+u/1e3)}}o(R,"_popActivity");function I(S){r=!0,n.clear(),c.forEach(A=>A()),Oi(m,p);const E=_e(g),{start_timestamp:v}=E;if(!v)return;(E.data||{})[Yu]||g.setAttribute(Yu,i),M.log(`[Tracing] Idle span "${E.op}" finished`);const k=Go(g).filter(A=>A!==g);let x=0;k.forEach(A=>{A.isRecording()&&(A.setStatus({code:et,message:"cancelled"}),A.end(S),ce&&M.log("[Tracing] Cancelling span since span ended early",JSON.stringify(A,void 0,2)));const P=_e(A),{timestamp:B=0,start_timestamp:F=0}=P,N=F<=S,Q=(l+u)/1e3,j=B-F<=Q;if(ce){const Se=JSON.stringify(A,void 0,2);N?j||M.log("[Tracing] Discarding span since it finished after idle span final timeout",Se):M.log("[Tracing] Discarding span since it happened after idle span was finished",Se)}(!j||!N)&&(fE(g,A),x++)}),x>0&&g.setAttribute("sentry.idle_span_discarded_spans",x)}return o(I,"onIdleSpanEnded"),c.push(h.on("spanStart",S=>{if(r||S===g||_e(S).timestamp)return;Go(g).includes(S)&&w(S.spanContext().spanId)})),c.push(h.on("spanEnd",S=>{r||R(S.spanContext().spanId)})),c.push(h.on("idleSpanEnableAutoFinish",S=>{S===g&&(a=!0,b(),n.size&&_())})),e.disableAutoFinish||b(),setTimeout(()=>{r||(g.setStatus({code:et,message:"deadline_exceeded"}),i=OE,g.end())},l),g}o(Jg,"startIdleSpan");function ME(t){const e=Zr(t);return Oi(ke(),e),ce&&M.log("[Tracing] Started span is an idle span"),e}o(ME,"_startIdleSpan");function Ju(t,e,n,r=0){return new Ut((s,i)=>{const a=t[r];if(e===null||typeof a!="function")s(e);else{const c=a({...e},n);ce&&a.id&&c===null&&M.log(`Event processor "${a.id}" dropped event`),rc(c)?c.then(u=>Ju(t,u,n,r+1).then(s)).then(null,i):Ju(t,c,n,r+1).then(s).then(null,i)}})}o(Ju,"notifyEventProcessors");function NE(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;DE(t,e),r&&UE(t,r),BE(t,n),LE(t,s),FE(t,i)}o(NE,"applyScopeDataToEvent");function ah(t,e){const{extra:n,tags:r,user:s,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:f,attachments:d,propagationContext:h,transactionName:m,span:p}=e;ci(t,"extra",n),ci(t,"tags",r),ci(t,"user",s),ci(t,"contexts",i),ci(t,"sdkProcessingMetadata",c),a&&(t.level=a),m&&(t.transactionName=m),p&&(t.span=p),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),l.length&&(t.fingerprint=[...t.fingerprint,...l]),f.length&&(t.eventProcessors=[...t.eventProcessors,...f]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...h}}o(ah,"mergeScopeData");function ci(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}o(ci,"mergeAndOverwriteScopeData");function DE(t,e){const{extra:n,tags:r,user:s,contexts:i,level:a,transactionName:c}=e,u=Qe(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const l=Qe(r);l&&Object.keys(l).length&&(t.tags={...l,...t.tags});const f=Qe(s);f&&Object.keys(f).length&&(t.user={...f,...t.user});const d=Qe(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),a&&(t.level=a),c&&t.type!=="transaction"&&(t.transaction=c)}o(DE,"applyDataToEvent");function LE(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}o(LE,"applyBreadcrumbsToEvent");function FE(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(FE,"applySdkMetadataToEvent");function UE(t,e){t.contexts={trace:uE(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:gr(e),...t.sdkProcessingMetadata};const n=at(e),r=_e(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}o(UE,"applySpanToEvent");function BE(t,e){t.fingerprint=t.fingerprint?Og(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(BE,"applyFingerprintToEvent");function ey(t,e,n,r,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,u={...e,event_id:e.event_id||n.event_id||Me(),timestamp:e.timestamp||so()},l=n.integrations||t.integrations.map(y=>y.name);$E(u,t),qE(u,l),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&jE(u,t.stackParser);const f=HE(r,n.captureContext);n.mechanism&&Ai(u,n.mechanism);const d=s?s.getEventProcessors():[],h=rE().getScopeData();if(i){const y=i.getScopeData();ah(h,y)}if(f){const y=f.getScopeData();ah(h,y)}const m=[...n.attachments||[],...h.attachments];m.length&&(n.attachments=m),NE(u,h);const p=[...d,...h.eventProcessors];return Ju(p,u,n).then(y=>(y&&zE(y),typeof a=="number"&&a>0?WE(y,a,c):y))}o(ey,"prepareEvent");function $E(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:fd),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=Es(t.message,i));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Es(a.value,i));const c=t.request;c&&c.url&&(c.url=Es(c.url,i))}o($E,"applyClientOptions");const ch=new WeakMap;function jE(t,e){const n=pe._sentryDebugIds;if(!n)return;let r;const s=ch.get(e);s?r=s:(r=new Map,ch.set(e,r));const i=Object.entries(n).reduce((a,[c,u])=>{let l;const f=r.get(c);f?l=f:(l=e(c),r.set(c,l));for(let d=l.length-1;d>=0;d--){const h=l[d];if(h.filename){a[h.filename]=u;break}}return a},{});try{t.exception.values.forEach(a=>{a.stacktrace.frames.forEach(c=>{c.filename&&(c.debug_id=i[c.filename])})})}catch{}}o(jE,"applyDebugIds");function zE(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}o(zE,"applyDebugMeta");function qE(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(qE,"applyIntegrationsMetadata");function WE(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:un(s.data,e,n)}}))},...t.user&&{user:un(t.user,e,n)},...t.contexts&&{contexts:un(t.contexts,e,n)},...t.extra&&{extra:un(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=un(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>({...s,...s.data&&{data:un(s.data,e,n)}}))),r}o(WE,"normalizeEvent");function HE(t,e){if(!e)return t;const n=t?t.clone():new ar;return n.update(e),n}o(HE,"getFinalScope");function VE(t){if(t)return GE(t)?{captureContext:t}:ZE(t)?{captureContext:t}:t}o(VE,"parseEventHintOrCaptureContext");function GE(t){return t instanceof ar||typeof t=="function"}o(GE,"hintIsScopeOrFunction");const KE=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ZE(t){return Object.keys(t).some(e=>KE.includes(e))}o(ZE,"hintIsScopeContext");function uc(t,e){return ke().captureException(t,VE(e))}o(uc,"captureException");function XL(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return ke().captureMessage(t,n,r)}o(XL,"captureMessage");function ty(t,e){return ke().captureEvent(t,e)}o(ty,"captureEvent");function pd(t,e){vt().setContext(t,e)}o(pd,"setContext");function fi(t,e){vt().setTag(t,e)}o(fi,"setTag");function ny(t){vt().setUser(t)}o(ny,"setUser");function YE(){return vt().lastEventId()}o(YE,"lastEventId");function QE(t){vt().addEventProcessor(t)}o(QE,"addEventProcessor");function uh(t){const e=fe(),n=vt(),r=ke(),{release:s,environment:i=fd}=e&&e.getOptions()||{},{userAgent:a}=pe.navigator||{},c=G0({release:s,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...t}),u=n.getSession();return u&&u.status==="ok"&&Ps(u,{status:"exited"}),ry(),n.setSession(c),r.setSession(c),c}o(uh,"startSession");function ry(){const t=vt(),e=ke(),n=e.getSession()||t.getSession();n&&K0(n),sy(),t.setSession(),e.setSession()}o(ry,"endSession");function sy(){const t=vt(),e=ke(),n=fe(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}o(sy,"_sendSessionUpdate");function lh(t=!1){if(t){ry();return}sy()}o(lh,"captureSession");const XE="7";function iy(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}o(iy,"getBaseApiEndpoint");function JE(t){return`${iy(t)}${t.projectId}/envelope/`}o(JE,"_getIngestEndpoint");function eT(t,e){return n0({sentry_key:t.publicKey,sentry_version:XE,...e&&{sentry_client:`${e.name}/${e.version}`}})}o(eT,"_encodedAuth");function tT(t,e,n){return e||`${JE(t)}?${eT(t,n)}`}o(tT,"getEnvelopeEndpointWithUrlEncodedAuth");function nT(t,e){const n=bg(t);if(!n)return"";const r=`${iy(n)}embed/error-page/`;let s=`dsn=${Js(n)}`;for(const i in e)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const a=e.user;if(!a)continue;a.name&&(s+=`&name=${encodeURIComponent(a.name)}`),a.email&&(s+=`&email=${encodeURIComponent(a.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;return`${r}?${s}`}o(nT,"getReportDialogEndpoint");const dh=[];function rT(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}o(rT,"filterDuplicates");function sT(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=Og(n(e)):r=e;const s=rT(r),i=s.findIndex(a=>a.name==="Debug");if(i>-1){const[a]=s.splice(i,1);s.push(a)}return s}o(sT,"getIntegrationsToSetup");function iT(t,e){const n={};return e.forEach(r=>{r&&oy(t,r,n)}),n}o(iT,"setupIntegrations");function fh(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}o(fh,"afterSetupIntegrations");function oy(t,e,n){if(n[e.name]){ce&&M.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,dh.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),dh.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,a)=>r(i,a,t),{id:e.name});t.addEventProcessor(s)}ce&&M.log(`Integration installed: ${e.name}`)}o(oy,"setupIntegration");const hh="Not capturing exception because it's already been captured.";class oT{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=bg(e.dsn):ce&&M.warn("No DSN provided, client will not send events."),this._dsn){const n=tT(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){const s=Me();if(Gf(e))return ce&&M.log(hh),s;const i={event_id:s,...n};return this._process(this.eventFromException(e,i).then(a=>this._captureEvent(a,i,r))),i.event_id}captureMessage(e,n,r,s){const i={event_id:Me(),...r},a=rd(e)?e:String(e),c=sd(e)?this.eventFromMessage(a,n,i):this.eventFromException(e,i);return this._process(c.then(u=>this._captureEvent(u,i,s))),i.event_id}captureEvent(e,n,r){const s=Me();if(n&&n.originalException&&Gf(n.originalException))return ce&&M.log(hh),s;const i={event_id:s,...n},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,c||r)),i.event_id}captureSession(e){typeof e.release!="string"?ce&&M.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ps(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):Bn(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];oy(this,e,this._integrations),n||fh(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=_E(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=D0(r,B0(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=bE(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${e}:${n}`;ce&&M.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(ce&&M.error("Error while sending envelope:",n),n)):(ce&&M.error("Transport disabled"),Bn({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=iT(this,e),fh(this,e)}_updateSessionFromEvent(e,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const u of i){const l=u.mechanism;if(l&&l.handled===!1){r=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&r)&&(Ps(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ut(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,s=vt()){const i=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),ey(i,e,n,r,this,s).then(c=>{if(c===null)return c;const u={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(c.contexts&&c.contexts.trace)&&u){const{traceId:f,spanId:d,parentSpanId:h,dsc:m}=u;c.contexts={trace:Qe({trace_id:f,span_id:d,parent_span_id:h}),...c.contexts};const p=m||cc(f,this);c.sdkProcessingMetadata={dynamicSamplingContext:p,...c.sdkProcessingMetadata}}return c})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(ce){const i=s;i.logLevel==="log"?M.log(i.message):M.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,a=cy(e),c=ay(e),u=e.type||"error",l=`before send for type \`${u}\``,f=typeof i>"u"?void 0:ba(i);if(c&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",e),ga(new ln(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d=u==="replay_event"?"replay":u,m=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,m).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",d,e),new ln("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const y=cT(this,s,p,n);return aT(y,l)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",d,e),a){const _=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw new ln(`${l} returned \`null\`, will not send event.`,"log")}const g=r&&r.getSession();if(!a&&g&&this._updateSessionFromEvent(g,p),a){const b=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,_=p.spans?p.spans.length:0,w=b-_;w>0&&this.recordDroppedEvent("before_send","span",w)}const y=p.transaction_info;if(a&&y&&p.transaction!==e.transaction){const b="custom";p.transaction_info={...y,source:b}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof ln?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new ln(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){ce&&M.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ce&&M.log("No outcomes to send");return}if(!this._dsn){ce&&M.log("No dsn provided, will not send outcomes");return}ce&&M.log("Sending outcomes:",e);const n=j0(e,this._options.tunnel&&Js(this._dsn));this.sendEnvelope(n)}}function aT(t,e){const n=`${e} must return \`null\` or a valid event.`;if(rc(t))return t.then(r=>{if(!Os(r)&&r!==null)throw new ln(n);return r},r=>{throw new ln(`${e} rejected with ${r}`)});if(!Os(t)&&t!==null)throw new ln(n);return t}o(aT,"_validateBeforeSendResult");function cT(t,e,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:a}=e;if(ay(n)&&s)return s(n,r);if(cy(n)){if(n.spans&&a){const c=[];for(const u of n.spans){const l=a(u);l?c.push(l):t.recordDroppedEvent("before_send","span")}n.spans=c}if(i){if(n.spans){const c=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(n,r)}}return n}o(cT,"processBeforeSend");function ay(t){return t.type===void 0}o(ay,"isErrorEvent$1");function cy(t){return t.type==="transaction"}o(cy,"isTransactionEvent$1");function uT(t,e){e.debug===!0&&(ce?M.enable():Xs(()=>{})),ke().update(e.initialScope);const r=new t(e);return lT(r),r.init(),r}o(uT,"initAndBind");function lT(t){ke().setClient(t)}o(lT,"setCurrentClient");const dT=64;function fT(t,e,n=I0(t.bufferSize||dT)){let r={};const s=o(a=>n.drain(a),"flush");function i(a){const c=[];if(Zf(a,(d,h)=>{const m=Yf(h);if(Fg(r,m)){const p=ph(d,h);t.recordDroppedEvent("ratelimit_backoff",m,p)}else c.push(d)}),c.length===0)return Bn({});const u=Gr(a[0],c),l=o(d=>{Zf(u,(h,m)=>{const p=ph(h,m);t.recordDroppedEvent(d,Yf(m),p)})},"recordEnvelopeLoss"),f=o(()=>e({body:L0(u)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&ce&&M.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Ug(r,d),d),d=>{throw l("network_error"),d}),"requestTask");return n.add(f).then(d=>d,d=>{if(d instanceof ln)return ce&&M.error("Skipped sending event because buffer is full."),l("queue_overflow"),Bn({});throw d})}return o(i,"send"),{send:i,flush:s}}o(fT,"createTransport$1");function ph(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(ph,"getEventForEnvelopeItem");function hT(t,e){const n=e&&e.getDsn(),r=e&&e.getOptions().tunnel;return mT(t,n)||pT(t,r)}o(hT,"isSentryRequestUrl");function pT(t,e){return e?mh(t)===mh(e):!1}o(pT,"checkTunnel");function mT(t,e){return e?t.includes(e.host):!1}o(mT,"checkDsn");function mh(t){return t[t.length-1]==="/"?t.slice(0,-1):t}o(mh,"removeTrailingSlash");function uy(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Or})),version:Or}),t._metadata=s}o(uy,"applySdkMetadata");const gT=100;function cr(t,e){const n=fe(),r=vt();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=gT}=n.getOptions();if(i<=0)return;const c={timestamp:so(),...t},u=s?Xs(()=>s(c,e)):c;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,i))}o(cr,"addBreadcrumb");let gh;const yT="FunctionToString",yh=new WeakMap,vT=o(()=>({name:yT,setupOnce(){gh=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=id(this),n=yh.has(fe())&&e!==void 0?e:this;return gh.apply(n,t)}}catch{}},setup(t){yh.set(t,!0)}}),"_functionToStringIntegration"),bT=vT,_T=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],wT="InboundFilters",ST=o((t={})=>({name:wT,processEvent(e,n,r){const s=r.getOptions(),i=TT(t,s);return kT(e,i)?null:e}}),"_inboundFiltersIntegration"),ET=ST;function TT(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:_T],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(TT,"_mergeOptions");function kT(t,e){return e.ignoreInternal&&OT(t)?(ce&&M.warn(`Event dropped due to being internal Sentry Error.
Event: ${Hn(t)}`),!0):IT(t,e.ignoreErrors)?(ce&&M.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Hn(t)}`),!0):MT(t)?(ce&&M.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Hn(t)}`),!0):xT(t,e.ignoreTransactions)?(ce&&M.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Hn(t)}`),!0):RT(t,e.denyUrls)?(ce&&M.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Hn(t)}.
Url: ${_a(t)}`),!0):CT(t,e.allowUrls)?!1:(ce&&M.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Hn(t)}.
Url: ${_a(t)}`),!0)}o(kT,"_shouldDropEvent$1");function IT(t,e){return t.type||!e||!e.length?!1:AT(t).some(n=>rr(n,e))}o(IT,"_isIgnoredError");function xT(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?rr(n,e):!1}o(xT,"_isIgnoredTransaction");function RT(t,e){if(!e||!e.length)return!1;const n=_a(t);return n?rr(n,e):!1}o(RT,"_isDeniedUrl");function CT(t,e){if(!e||!e.length)return!0;const n=_a(t);return n?rr(n,e):!0}o(CT,"_isAllowedUrl");function AT(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),e}o(AT,"_getPossibleEventMessages");function OT(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(OT,"_isSentryError");function PT(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}o(PT,"_getLastValidUrl");function _a(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?PT(e):null}catch{return ce&&M.error(`Cannot extract url for event ${Hn(t)}`),null}}o(_a,"_getEventFilterUrl");function MT(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(MT,"_isUselessError");const NT="Dedupe",DT=o(()=>{let t;return{name:NT,processEvent(e){if(e.type)return e;try{if(FT(e,t))return ce&&M.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),LT=DT;function FT(t,e){return e?!!(UT(t,e)||BT(t,e)):!1}o(FT,"_shouldDropEvent");function UT(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!dy(t,e)||!ly(t,e))}o(UT,"_isSameMessageEvent");function BT(t,e){const n=vh(e),r=vh(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!dy(t,e)||!ly(t,e))}o(BT,"_isSameExceptionEvent");function ly(t,e){let n=qf(t),r=qf(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],a=n[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}o(ly,"_isSameStacktrace");function dy(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}o(dy,"_isSameFingerprint");function vh(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(vh,"_getExceptionFromEvent");function $T(t,e,n,r,s="auto.http.browser"){if(!t.fetchData)return;const i=$n()&&e(t.fetchData.url);if(t.endTimestamp&&i){const p=t.fetchData.__span;if(!p)return;const g=r[p];g&&(qT(g,t),delete r[p]);return}const a=ke(),c=fe(),{method:u,url:l}=t.fetchData,f=zT(l),d=f?Pr(f).host:void 0,h=!!ct(),m=i&&h?Zr({name:`${u} ${l}`,attributes:{url:l,type:"fetch","http.method":u,"http.url":f,"server.address":d,[nt]:s,[Br]:"http.client"}}):new ti;if(t.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m,n(t.fetchData.url)&&c){const p=t.args[0];t.args[1]=t.args[1]||{};const g=t.args[1];g.headers=jT(p,c,a,g,$n()&&h?m:void 0)}return m}o($T,"instrumentFetchRequest");function jT(t,e,n,r,s){const i=vt(),{traceId:a,spanId:c,sampled:u,dsc:l}={...i.getPropagationContext(),...n.getPropagationContext()},f=s?Wg(s):ad(a,c,u),d=Dg(l||(s?gr(s):cc(a,e))),h=r.headers||(typeof Request<"u"&&Ln(t,Request)?t.headers:void 0);if(h)if(typeof Headers<"u"&&Ln(h,Headers)){const m=new Headers(h);if(m.set("sentry-trace",f),d){const p=m.get(ls);if(p){const g=xo(p);m.set(ls,g?`${g},${d}`:d)}else m.set(ls,d)}return m}else if(Array.isArray(h)){const m=[...h.filter(p=>!(Array.isArray(p)&&p[0]==="sentry-trace")).map(p=>{if(Array.isArray(p)&&p[0]===ls&&typeof p[1]=="string"){const[g,y,...b]=p;return[g,xo(y),...b]}else return p}),["sentry-trace",f]];return d&&m.push([ls,d]),m}else{const m="baggage"in h?h.baggage:void 0;let p=[];return Array.isArray(m)?p=m.map(g=>typeof g=="string"?xo(g):g).filter(g=>g===""):m&&p.push(xo(m)),d&&p.push(d),{...h,"sentry-trace":f,baggage:p.length>0?p.join(","):void 0}}else return{"sentry-trace":f,baggage:d}}o(jT,"addTracingHeadersToFetchRequest");function zT(t){try{return new URL(t).href}catch{return}}o(zT,"getFullURL$1");function qT(t,e){if(e.response){jg(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&t.setAttribute("http.response_content_length",r)}}else e.error&&t.setStatus({code:et,message:"internal_error"});t.end()}o(qT,"endSpan");function xo(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(od)).join(",")}o(xo,"stripBaggageHeaderOfSentryBaggageValues");const K=pe;let el=0;function fy(){return el>0}o(fy,"shouldIgnoreOnError");function WT(){el++,setTimeout(()=>{el--})}o(WT,"ignoreNextOnError");function Ns(t,e={},n){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(id(t))return t}catch{return t}const r=o(function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(a=>Ns(a,e));return t.apply(this,i)}catch(i){throw WT(),ic(a=>{a.addEventProcessor(c=>(e.mechanism&&(Hu(c,void 0,void 0),Ai(c,e.mechanism)),c.extra={...c.extra,arguments:s},c)),uc(i)}),i}},"sentryWrapped");try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}_g(r,t),zt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}o(Ns,"wrap");const St=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function md(t,e){const n=gd(t,e),r={type:ZT(e),value:YT(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}o(md,"exceptionFromError");function HT(t,e,n,r){const s=fe(),i=s&&s.getOptions().normalizeDepth,a=tk(e),c={__serialized__:Pg(e,i)};if(a)return{exception:{values:[md(t,a)]},extra:c};const u={exception:{values:[{type:nc(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:JT(e,{isUnhandledRejection:r})}]},extra:c};if(n){const l=gd(t,n);l.length&&(u.exception.values[0].stacktrace={frames:l})}return u}o(HT,"eventFromPlainObject");function Gc(t,e){return{exception:{values:[md(t,e)]}}}o(Gc,"eventFromError");function gd(t,e){const n=e.stacktrace||e.stack||"",r=GT(e),s=KT(e);try{return t(n,r,s)}catch{}return[]}o(gd,"parseStackFrames");const VT=/Minified React error #\d+;/i;function GT(t){return t&&VT.test(t.message)?1:0}o(GT,"getSkipFirstStackStringLines");function KT(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(KT,"getPopFirstTopFrames");function hy(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(hy,"isWebAssemblyException");function ZT(t){const e=t&&t.name;return!e&&hy(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(ZT,"extractType");function YT(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:hy(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(YT,"extractMessage");function QT(t,e,n,r){const s=n&&n.syntheticException||void 0,i=yd(t,e,s,r);return Ai(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Bn(i)}o(QT,"eventFromException");function XT(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,a=tl(t,e,i,s);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),Bn(a)}o(XT,"eventFromMessage");function yd(t,e,n,r,s){let i;if(hg(e)&&e.error)return Gc(t,e.error);if(Df(e)||$S(e)){const a=e;if("stack"in e)i=Gc(t,e);else{const c=a.name||(Df(a)?"DOMError":"DOMException"),u=a.message?`${c}: ${a.message}`:c;i=tl(t,u,n,r),Hu(i,u)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return tc(e)?Gc(t,e):Os(e)||nc(e)?(i=HT(t,e,n,s),Ai(i,{synthetic:!0}),i):(i=tl(t,e,n,r),Hu(i,`${e}`,void 0),Ai(i,{synthetic:!0}),i)}o(yd,"eventFromUnknownInput");function tl(t,e,n,r){const s={};if(r&&n){const i=gd(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(rd(e)){const{__sentry_template_string__:i,__sentry_template_values__:a}=e;return s.logentry={message:i,params:a},s}return s.message=e,s}o(tl,"eventFromString");function JT(t,{isUnhandledRejection:e}){const n=r0(t),r=e?"promise rejection":"exception";return hg(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:nc(t)?`Event \`${ek(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}o(JT,"getNonErrorObjectExceptionValue");function ek(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(ek,"getObjectClassName");function tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}o(tk,"getErrorPropertyFromObject");function nk(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:Js(r)}},i=rk(t);return Gr(s,[i])}o(nk,"createUserFeedbackEnvelope");function rk(t){return[{type:"user_report"},t]}o(rk,"createUserFeedbackEnvelopeItem");class sk extends oT{static{o(this,"BrowserClient")}constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e},r=K.SENTRY_SDK_SOURCE||v0();uy(n,"browser",["browser"],r),super(n),n.sendClientReports&&K.document&&K.document.addEventListener("visibilitychange",()=>{K.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return QT(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return XT(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){St&&M.warn("SDK not enabled, will not capture user feedback.");return}const n=nk(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const Pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ik=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),ni=o((t,e,n,r)=>{let s,i;return a=>{e.value>=0&&(a||r)&&(i=e.value-(s||0),(i||s===void 0)&&(s=e.value,e.delta=i,e.rating=ik(e.value,n),t(e)))}},"bindReporter"),ee=pe,ok=o(()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,"generateUniqueID"),oo=o(()=>ee.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],"getNavigationEntry"),ao=o(()=>{const t=oo();return t&&t.activationStart||0},"getActivationStart"),ri=o((t,e)=>{const n=oo();let r="navigate";return n&&(ee.document&&ee.document.prerendering||ao()>0?r="prerender":ee.document&&ee.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:ok(),navigationType:r}},"initMetric"),Yr=o((t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{e(s.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},"observe"),co=o(t=>{const e=o(n=>{(n.type==="pagehide"||ee.document&&ee.document.visibilityState==="hidden")&&t(n)},"onHiddenOrPageHide");ee.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden"),vd=o(t=>{let e=!1;return n=>{e||(t(n),e=!0)}},"runOnce");let Pi=-1;const ak=o(()=>{Pi=ee.document.visibilityState==="hidden"&&!ee.document.prerendering?0:1/0},"initHiddenTime"),wa=o(t=>{ee.document.visibilityState==="hidden"&&Pi>-1&&(Pi=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("visibilitychange",wa,!0),removeEventListener("prerenderingchange",wa,!0))},"onVisibilityUpdate"),ck=o(()=>{addEventListener("visibilitychange",wa,!0),addEventListener("prerenderingchange",wa,!0)},"addChangeListeners"),lc=o(()=>(ee.document&&Pi<0&&(ak(),ck()),{get firstHiddenTime(){return Pi}}),"getVisibilityWatcher"),uo=o(t=>{ee.document&&ee.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated"),uk=[1800,3e3],lk=o((t,e={})=>{uo(()=>{const n=lc(),r=ri("FCP");let s;const a=Yr("paint",o(c=>{c.forEach(u=>{u.name==="first-contentful-paint"&&(a.disconnect(),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ao(),0),r.entries.push(u),s(!0)))})},"handleEntries"));a&&(s=ni(t,r,uk,e.reportAllChanges))})},"onFCP"),dk=[.1,.25],fk=o((t,e={})=>{lk(vd(()=>{const n=ri("CLS",0);let r,s=0,i=[];const a=o(u=>{u.forEach(l=>{if(!l.hadRecentInput){const f=i[0],d=i[i.length-1];s&&f&&d&&l.startTime-d.startTime<1e3&&l.startTime-f.startTime<5e3?(s+=l.value,i.push(l)):(s=l.value,i=[l])}}),s>n.value&&(n.value=s,n.entries=i,r())},"handleEntries"),c=Yr("layout-shift",a);c&&(r=ni(t,n,dk,e.reportAllChanges),co(()=>{a(c.takeRecords()),r(!0)}),setTimeout(r,0))}))},"onCLS"),hk=[100,300],pk=o((t,e={})=>{uo(()=>{const n=lc(),r=ri("FID");let s;const i=o(u=>{u.startTime<n.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),s(!0))},"handleEntry"),a=o(u=>{u.forEach(i)},"handleEntries"),c=Yr("first-input",a);s=ni(t,r,hk,e.reportAllChanges),c&&co(vd(()=>{a(c.takeRecords()),c.disconnect()}))})},"onFID");let py=0,Kc=1/0,Ro=0;const mk=o(t=>{t.forEach(e=>{e.interactionId&&(Kc=Math.min(Kc,e.interactionId),Ro=Math.max(Ro,e.interactionId),py=Ro?(Ro-Kc)/7+1:0)})},"updateEstimate");let nl;const gk=o(()=>nl?py:performance.interactionCount||0,"getInteractionCount"),yk=o(()=>{"interactionCount"in performance||nl||(nl=Yr("event",mk,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill"),vk=[200,500],bk=0,my=o(()=>gk()-bk,"getInteractionCountForNavigation"),bh=10,Cn=[],Zc={},_h=o(t=>{const e=Cn[Cn.length-1],n=Zc[t.interactionId];if(n||Cn.length<bh||e&&t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const r={id:t.interactionId,latency:t.duration,entries:[t]};Zc[r.id]=r,Cn.push(r)}Cn.sort((r,s)=>s.latency-r.latency),Cn.splice(bh).forEach(r=>{delete Zc[r.id]})}},"processEntry"),_k=o(()=>{const t=Math.min(Cn.length-1,Math.floor(my()/50));return Cn[t]},"estimateP98LongestInteraction"),wk=o((t,e={})=>{uo(()=>{yk();const n=ri("INP");let r;const s=o(a=>{a.forEach(u=>{u.interactionId&&_h(u),u.entryType==="first-input"&&!Cn.some(f=>f.entries.some(d=>u.duration===d.duration&&u.startTime===d.startTime))&&_h(u)});const c=_k();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},"handleEntries"),i=Yr("event",s,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:40});r=ni(t,n,vk,e.reportAllChanges),i&&("PerformanceEventTiming"in ee&&"interactionId"in PerformanceEventTiming.prototype&&i.observe({type:"first-input",buffered:!0}),co(()=>{s(i.takeRecords()),n.value<0&&my()>0&&(n.value=0,n.entries=[]),r(!0)}))})},"onINP"),Sk=[2500,4e3],wh={},Ek=o((t,e={})=>{uo(()=>{const n=lc(),r=ri("LCP");let s;const i=o(c=>{const u=c[c.length-1];u&&u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ao(),0),r.entries=[u],s())},"handleEntries"),a=Yr("largest-contentful-paint",i);if(a){s=ni(t,r,Sk,e.reportAllChanges);const c=vd(()=>{wh[r.id]||(i(a.takeRecords()),a.disconnect(),wh[r.id]=!0,s(!0))});["keydown","click"].forEach(u=>{ee.document&&addEventListener(u,()=>setTimeout(c,0),!0)}),co(c)}})},"onLCP"),Tk=[800,1800],rl=o(t=>{ee.document&&ee.document.prerendering?uo(()=>rl(t)):ee.document&&ee.document.readyState!=="complete"?addEventListener("load",()=>rl(t),!0):setTimeout(t,0)},"whenReady"),kk=o((t,e={})=>{const n=ri("TTFB"),r=ni(t,n,Tk,e.reportAllChanges);rl(()=>{const s=oo();if(s){const i=s.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-ao(),0),n.entries=[s],r(!0)}})},"onTTFB"),vi={},Sa={};let gy,yy,vy,by,_y;function bd(t,e=!1){return lo("cls",t,xk,gy,e)}o(bd,"addClsInstrumentationHandler");function wy(t,e=!1){return lo("lcp",t,Ck,vy,e)}o(wy,"addLcpInstrumentationHandler");function Sy(t){return lo("fid",t,Rk,yy)}o(Sy,"addFidInstrumentationHandler");function Ik(t){return lo("ttfb",t,Ak,by)}o(Ik,"addTtfbInstrumentationHandler");function Ey(t){return lo("inp",t,Ok,_y)}o(Ey,"addInpInstrumentationHandler");function Ds(t,e){return Ty(t,e),Sa[t]||(Pk(t),Sa[t]=!0),ky(t,e)}o(Ds,"addPerformanceInstrumentationHandler");function si(t,e){const n=vi[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(s){Pt&&M.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Un(r)}
Error:`,s)}}o(si,"triggerHandlers");function xk(){return fk(t=>{si("cls",{metric:t}),gy=t},{reportAllChanges:!0})}o(xk,"instrumentCls");function Rk(){return pk(t=>{si("fid",{metric:t}),yy=t})}o(Rk,"instrumentFid");function Ck(){return Ek(t=>{si("lcp",{metric:t}),vy=t},{reportAllChanges:!0})}o(Ck,"instrumentLcp");function Ak(){return kk(t=>{si("ttfb",{metric:t}),by=t})}o(Ak,"instrumentTtfb");function Ok(){return wk(t=>{si("inp",{metric:t}),_y=t})}o(Ok,"instrumentInp");function lo(t,e,n,r,s=!1){Ty(t,e);let i;return Sa[t]||(i=n(),Sa[t]=!0),r&&e({metric:r}),ky(t,e,s?i:void 0)}o(lo,"addMetricObserver");function Pk(t){const e={};t==="event"&&(e.durationThreshold=0),Yr(t,n=>{si(t,{entries:n})},e)}o(Pk,"instrumentPerformanceObserver");function Ty(t,e){vi[t]=vi[t]||[],vi[t].push(e)}o(Ty,"addHandler");function ky(t,e,n){return()=>{n&&n();const r=vi[t];if(!r)return;const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}o(ky,"getCleanupCallback");function Mk(t){return"duration"in t}o(Mk,"isPerformanceEventTiming");function Yc(t){return typeof t=="number"&&isFinite(t)}o(Yc,"isMeasurementValue");function $r(t,e,n,{...r}){const s=_e(t).start_timestamp;return s&&s>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),Qg(t,()=>{const i=Zr({startTime:e,...r});return i&&i.end(n),i})}o($r,"startAndEndSpan");function Iy(t){const e=fe();if(!e)return;const{name:n,transaction:r,attributes:s,startTime:i}=t,{release:a,environment:c}=e.getOptions(),u=e.getIntegrationByName("Replay"),l=u&&u.getReplayId(),f=ke(),d=f.getUser(),h=d!==void 0?d.email||d.id||d.ip_address:void 0;let m;try{m=f.getScopeData().contexts.profile.profile_id}catch{}const p={release:a,environment:c,user:h||void 0,profile_id:m||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":ee.navigator&&ee.navigator.userAgent,...s};return Zr({name:n,attributes:p,startTime:i,experimental:{standalone:!0}})}o(Iy,"startStandaloneWebVitalSpan");function _d(){return ee&&ee.addEventListener&&ee.performance}o(_d,"getBrowserPerformanceAPI");function qe(t){return t/1e3}o(qe,"msToSec");function Nk(){let t=0,e,n;if(!Lk())return;let r=!1;function s(){r||(r=!0,n&&Dk(t,e,n),i())}o(s,"_collectClsOnce");const i=bd(({metric:a})=>{const c=a.entries[a.entries.length-1];c&&(t=a.value,e=c)},!0);co(()=>{s()}),setTimeout(()=>{const a=fe(),c=Ot([a,"optionalAccess",d=>d.on,"call",d=>d("startNavigationSpan",()=>{s(),c&&c()})]),u=ct(),l=u&&at(u),f=l&&_e(l);f&&f.op==="pageload"&&(n=l.spanContext().spanId)},0)}o(Nk,"trackClsAsStandaloneSpan");function Dk(t,e,n){Pt&&M.log(`Sending CLS span (${t})`);const r=qe((mt||0)+(Ot([e,"optionalAccess",u=>u.startTime])||0)),s=ke().getScopeData().transactionName,i=e?Fn(Ot([e,"access",u=>u.sources,"access",u=>u[0],"optionalAccess",u=>u.node])):"Layout shift",a=Qe({[nt]:"auto.http.browser.cls",[Br]:"ui.webvital.cls",[dd]:Ot([e,"optionalAccess",u=>u.duration])||0,"sentry.pageload.span_id":n}),c=Iy({name:i,transaction:s,attributes:a,startTime:r});Ot([c,"optionalAccess",u=>u.addEvent,"call",u=>u("cls",{[oc]:"",[ac]:t})]),Ot([c,"optionalAccess",u=>u.end,"call",u=>u(r)])}o(Dk,"sendStandaloneClsSpan");function Lk(){try{return Ot([PerformanceObserver,"access",t=>t.supportedEntryTypes,"optionalAccess",t=>t.includes,"call",t=>t("layout-shift")])}catch{return!1}}o(Lk,"supportsLayoutShift");const Fk=2147483647;let Sh=0,st={},sn,bi;function Uk({recordClsStandaloneSpans:t}){const e=_d();if(e&&mt){e.mark&&ee.performance.mark("sentry-tracing-init");const n=Wk(),r=qk(),s=Hk(),i=t?Nk():zk();return()=>{n(),r(),s(),i&&i()}}return()=>{}}o(Uk,"startTrackingWebVitals");function Bk(){Ds("longtask",({entries:t})=>{const e=ct();if(!e)return;const{op:n,start_timestamp:r}=_e(e);for(const s of t){const i=qe(mt+s.startTime),a=qe(s.duration);n==="navigation"&&r&&i<r||$r(e,i,i+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[nt]:"auto.ui.browser.metrics"}})}})}o(Bk,"startTrackingLongTasks");function $k(){new PerformanceObserver(e=>{if(ct())for(const n of e.getEntries()){if(!n.scripts[0])continue;const r=qe(mt+n.startTime),s=qe(n.duration),i={[nt]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:c,invokerType:u,sourceURL:l,sourceFunctionName:f,sourceCharPosition:d}=a;i["browser.script.invoker"]=c,i["browser.script.invoker_type"]=u,l&&(i["code.filepath"]=l),f&&(i["code.function"]=f),d!==-1&&(i["browser.script.source_char_position"]=d);const h=Zr({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:i});h&&h.end(r+s)}}).observe({type:"long-animation-frame",buffered:!0})}o($k,"startTrackingLongAnimationFrames");function jk(){Ds("event",({entries:t})=>{if(ct()){for(const e of t)if(e.name==="click"){const n=qe(mt+e.startTime),r=qe(e.duration),s={name:Fn(e.target),op:`ui.interaction.${e.name}`,startTime:n,attributes:{[nt]:"auto.ui.browser.metrics"}},i=yg(e.target);i&&(s.attributes["ui.component_name"]=i);const a=Zr(s);a&&a.end(n+r)}}})}o(jk,"startTrackingInteractions");function zk(){return bd(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Pt&&M.log(`[Measurements] Adding CLS ${t.value}`),st.cls={value:t.value,unit:""},bi=e)},!0)}o(zk,"_trackCLS");function qk(){return wy(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Pt&&M.log("[Measurements] Adding LCP"),st.lcp={value:t.value,unit:"millisecond"},sn=e)},!0)}o(qk,"_trackLCP");function Wk(){return Sy(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=qe(mt),r=qe(e.startTime);Pt&&M.log("[Measurements] Adding FID"),st.fid={value:t.value,unit:"millisecond"},st["mark.fid"]={value:n+r,unit:"second"}})}o(Wk,"_trackFID");function Hk(){return Ik(({metric:t})=>{t.entries[t.entries.length-1]&&(Pt&&M.log("[Measurements] Adding TTFB"),st.ttfb={value:t.value,unit:"millisecond"})})}o(Hk,"_trackTtfb");function Vk(t,e){const n=_d();if(!n||!ee.performance.getEntries||!mt)return;Pt&&M.log("[Tracing] Adding & adjusting spans using Performance API");const r=qe(mt),s=n.getEntries(),{op:i,start_timestamp:a}=_e(t);if(s.slice(Sh).forEach(c=>{const u=qe(c.startTime),l=qe(Math.max(0,c.duration));if(!(i==="navigation"&&a&&r+u<a))switch(c.entryType){case"navigation":{Kk(t,c,r);break}case"mark":case"paint":case"measure":{Gk(t,c,u,l,r);const f=lc(),d=c.startTime<f.firstHiddenTime;c.name==="first-paint"&&d&&(Pt&&M.log("[Measurements] Adding FP"),st.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&d&&(Pt&&M.log("[Measurements] Adding FCP"),st.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Yk(t,c,c.name,u,l,r);break}}}),Sh=Math.max(s.length-1,0),Qk(t),i==="pageload"){Jk(st);const c=st["mark.fid"];c&&st.fid&&($r(t,c.value,c.value+qe(st.fid.value),{name:"first input delay",op:"ui.action",attributes:{[nt]:"auto.ui.browser.metrics"}}),delete st["mark.fid"]),(!("fcp"in st)||!e.recordClsOnPageloadSpan)&&delete st.cls,Object.entries(st).forEach(([u,l])=>{SE(u,l.value,l.unit)}),t.setAttribute("performance.timeOrigin",r),t.setAttribute("performance.activationStart",ao()),Xk(t)}sn=void 0,bi=void 0,st={}}o(Vk,"addPerformanceEntries");function Gk(t,e,n,r,s){const i=oo(),a=qe(i?i.requestStart:0),c=s+Math.max(n,a),u=s+n,l=u+r,f={[nt]:"auto.resource.browser.metrics"};return c!==u&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=c),$r(t,c,l,{name:e.name,op:e.entryType,attributes:f}),c}o(Gk,"_addMeasureSpans");function Kk(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Co(t,e,r,n)}),Co(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Co(t,e,"fetch",n,"cache","domainLookupStart"),Co(t,e,"domainLookup",n,"DNS"),Zk(t,e,n)}o(Kk,"_addNavigationSpans");function Co(t,e,n,r,s,i){const a=i?e[i]:e[`${n}End`],c=e[`${n}Start`];!c||!a||$r(t,r+qe(c),r+qe(a),{op:`browser.${s||n}`,name:e.name,attributes:{[nt]:"auto.ui.browser.metrics"}})}o(Co,"_addPerformanceNavigationTiming");function Zk(t,e,n){const r=n+qe(e.requestStart),s=n+qe(e.responseEnd),i=n+qe(e.responseStart);e.responseEnd&&($r(t,r,s,{op:"browser.request",name:e.name,attributes:{[nt]:"auto.ui.browser.metrics"}}),$r(t,i,s,{op:"browser.response",name:e.name,attributes:{[nt]:"auto.ui.browser.metrics"}}))}o(Zk,"_addRequest");function Yk(t,e,n,r,s,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const a=Pr(n),c={[nt]:"auto.resource.browser.metrics"};Qc(c,e,"transferSize","http.response_transfer_size"),Qc(c,e,"encodedBodySize","http.response_content_length"),Qc(c,e,"decodedBodySize","http.decoded_response_content_length"),e.deliveryType!=null&&(c["http.response_delivery_type"]=e.deliveryType),"renderBlockingStatus"in e&&(c["resource.render_blocking_status"]=e.renderBlockingStatus),a.protocol&&(c["url.scheme"]=a.protocol.split(":").pop()),a.host&&(c["server.address"]=a.host),c["url.same_origin"]=n.includes(ee.location.origin);const u=i+r,l=u+s;$r(t,u,l,{name:n.replace(ee.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}o(Yk,"_addResourceSpans");function Qk(t){const e=ee.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),Yc(n.rtt)&&(st["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Yc(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),Yc(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(Qk,"_trackNavigator");function Xk(t){sn&&(Pt&&M.log("[Measurements] Adding LCP Data"),sn.element&&t.setAttribute("lcp.element",Fn(sn.element)),sn.id&&t.setAttribute("lcp.id",sn.id),sn.url&&t.setAttribute("lcp.url",sn.url.trim().slice(0,200)),t.setAttribute("lcp.size",sn.size)),bi&&bi.sources&&(Pt&&M.log("[Measurements] Adding CLS Data"),bi.sources.forEach((e,n)=>t.setAttribute(`cls.source.${n+1}`,Fn(e.node))))}o(Xk,"_setWebVitalAttributes");function Qc(t,e,n,r){const s=e[n];s!=null&&s<Fk&&(t[r]=s)}o(Qc,"setResourceEntrySizeData");function Jk(t){const e=oo();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(Pt&&M.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}o(Jk,"_addTtfbRequestTimeToMeasurements");const eI=1e3;let Eh,sl,il;function xy(t){const e="dom";pr(e,t),mr(e,tI)}o(xy,"addClickKeypressInstrumentationHandler");function tI(){if(!ee.document)return;const t=$t.bind(null,"dom"),e=Th(t,!0);ee.document.addEventListener("click",e,!1),ee.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=ee[n]&&ee[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(wt(r,"addEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this,l=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},f=l[i]=l[i]||{refCount:0};if(!f.handler){const d=Th(t);f.handler=d,s.call(this,i,d,c)}f.refCount++}catch{}return s.call(this,i,a,c)}}),wt(r,"removeEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this,l=u.__sentry_instrumentation_handlers__||{},f=l[i];f&&(f.refCount--,f.refCount<=0&&(s.call(this,i,f.handler,c),f.handler=void 0,delete l[i]),Object.keys(l).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,c)}}))})}o(tI,"instrumentDOM");function nI(t){if(t.type!==sl)return!1;try{if(!t.target||t.target._sentryId!==il)return!1}catch{}return!0}o(nI,"isSimilarToLastCapturedEvent");function rI(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(rI,"shouldSkipDOMEvent");function Th(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=sI(n);if(rI(n.type,r))return;zt(n,"_sentryCaptured",!0),r&&!r._sentryId&&zt(r,"_sentryId",Me());const s=n.type==="keypress"?"input":n.type;nI(n)||(t({event:n,name:s,global:e}),sl=n.type,il=r?r._sentryId:void 0),clearTimeout(Eh),Eh=ee.setTimeout(()=>{il=void 0,sl=void 0},eI)}}o(Th,"makeDOMEventHandler");function sI(t){try{return t.target}catch{return null}}o(sI,"getEventTarget$1");let Ao;function dc(t){const e="history";pr(e,t),mr(e,iI)}o(dc,"addHistoryInstrumentationHandler");function iI(){if(!V0())return;const t=ee.onpopstate;ee.onpopstate=function(...n){const r=ee.location.href,s=Ao;if(Ao=r,$t("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Ao,a=String(s);Ao=a,$t("history",{from:i,to:a})}return n.apply(this,r)}}o(e,"historyReplacementFunction"),wt(ee.history,"pushState",e),wt(ee.history,"replaceState",e)}o(iI,"instrumentHistory");const Zo={};function Ry(t){const e=Zo[t];if(e)return e;let n=ee[t];if(qu(n))return Zo[t]=n.bind(ee);const r=ee.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(n=i[t]),r.head.removeChild(s)}catch(s){Pt&&M.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,s)}return n&&(Zo[t]=n.bind(ee))}o(Ry,"getNativeImplementation");function kh(t){Zo[t]=void 0}o(kh,"clearCachedImplementation");function Ls(...t){return Ry("setTimeout")(...t)}o(Ls,"setTimeout$3");const xr="__sentry_xhr_v3__";function Cy(t){const e="xhr";pr(e,t),mr(e,oI)}o(Cy,"addXhrInstrumentationHandler");function oI(){if(!ee.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=pt()*1e3,i=Nn(r[0])?r[0].toUpperCase():void 0,a=aI(r[1]);if(!i||!a)return e.apply(n,r);n[xr]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=o(()=>{const u=n[xr];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:pt()*1e3,startTimestamp:s,xhr:n};$t("xhr",l)}},"onreadystatechangeHandler");return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,f){return c(),u.apply(l,f)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,f){const[d,h]=f,m=l[xr];return m&&Nn(d)&&Nn(h)&&(m.request_headers[d.toLowerCase()]=h),u.apply(l,f)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[xr];if(!s)return e.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:pt()*1e3,xhr:n};return $t("xhr",i),e.apply(n,r)}})}o(oI,"instrumentXHR");function aI(t){if(Nn(t))return t;try{return t.toString()}catch{}}o(aI,"parseUrl");const Xc=[],Yo=new Map;function cI(){if(_d()&&mt){const e=uI();return()=>{e()}}return()=>{}}o(cI,"startTrackingINP");const Ih={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function uI(){return Ey(({metric:t})=>{if(t.value==null)return;const e=t.entries.find(p=>p.duration===t.value&&Ih[p.name]);if(!e)return;const{interactionId:n}=e,r=Ih[e.name],s=qe(mt+e.startTime),i=qe(t.value),a=ct(),c=a?at(a):void 0,l=(n!=null?Yo.get(n):void 0)||c,f=l?_e(l).description:ke().getScopeData().transactionName,d=Fn(e.target),h=Qe({[nt]:"auto.http.browser.inp",[Br]:`ui.interaction.${r}`,[dd]:e.duration}),m=Iy({name:d,transaction:f,attributes:h,startTime:s});Ot([m,"optionalAccess",p=>p.addEvent,"call",p=>p("inp",{[oc]:"millisecond",[ac]:t.value})]),Ot([m,"optionalAccess",p=>p.end,"call",p=>p(s+i)])})}o(uI,"_trackINP");function lI(t){const e=o(({entries:n})=>{const r=ct(),s=r&&at(r);n.forEach(i=>{if(!Mk(i)||!s)return;const a=i.interactionId;if(a!=null&&!Yo.has(a)){if(Xc.length>10){const c=Xc.shift();Yo.delete(c)}Xc.push(a),Yo.set(a,s)}})},"handleEntries");Ds("event",e),Ds("first-input",e)}o(lI,"registerInpInteractionListener");function dI(t,e=Ry("fetch")){let n=0,r=0;function s(i){const a=i.body.length;n+=a,r++;const c={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return kh("fetch"),ga("No fetch implementation available");try{return e(t.url,c).then(u=>(n-=a,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return kh("fetch"),n-=a,r--,ga(u)}}return o(s,"makeRequest"),fT(t,s)}o(dI,"makeFetchTransport");const fI=30,hI=50;function ol(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?Ur:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}o(ol,"createFrame");const pI=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mI=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gI=/\((\S*)(?::(\d+))(?::(\d+))\)/,yI=o(t=>{const e=pI.exec(t);if(e){const[,r,s,i]=e;return ol(r,Ur,+s,+i)}const n=mI.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=gI.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[s,i]=Ay(n[1]||Ur,n[2]);return ol(i,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},"chromeStackParserFn"),vI=[fI,yI],bI=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_I=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wI=o(t=>{const e=bI.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=_I.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||Ur;return[s,r]=Ay(s,r),ol(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),SI=[hI,wI],EI=[vI,SI],TI=Eg(...EI),Ay=o((t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Ur,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails"),Oo=1024,kI="Breadcrumbs",II=o((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:kI,setup(n){e.console&&a0(AI(n)),e.dom&&xy(CI(n,e.dom)),e.xhr&&Cy(OI(n)),e.fetch&&Ig(PI(n)),e.history&&dc(MI(n)),e.sentry&&n.on("beforeSendEvent",RI(n))}}},"_breadcrumbsIntegration"),xI=II;function RI(t){return o(function(n){fe()===t&&cr({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Hn(n)},{event:n})},"addSentryBreadcrumb")}o(RI,"_getSentryBreadcrumbHandler");function CI(t,e){return o(function(r){if(fe()!==t)return;let s,i,a=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>Oo&&(St&&M.warn(`\`dom.maxStringLength\` cannot exceed ${Oo}, but a value of ${c} was configured. Sentry will use ${Oo} instead.`),c=Oo),typeof a=="string"&&(a=[a]);try{const l=r.event,f=NI(l)?l.target:l;s=Fn(f,{keyAttrs:a,maxStringLength:c}),i=yg(f)}catch{s="<unknown>"}if(s.length===0)return;const u={category:`ui.${r.name}`,message:s};i&&(u.data={"ui.component_name":i}),cr(u,{event:r.event,name:r.name,global:r.global})},"_innerDomBreadcrumb")}o(CI,"_getDomBreadcrumbHandler");function AI(t){return o(function(n){if(fe()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Mg(n.level),message:Lf(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Lf(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;cr(r,{input:n.args,level:n.level})},"_consoleBreadcrumb")}o(AI,"_getConsoleBreadcrumbHandler");function OI(t){return o(function(n){if(fe()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[xr];if(!r||!s||!i)return;const{method:a,url:c,status_code:u,body:l}=i,f={method:a,url:c,status_code:u},d={xhr:n.xhr,input:l,startTimestamp:r,endTimestamp:s},h=mg(u);cr({category:"xhr",data:f,type:"http",level:h},d)},"_xhrBreadcrumb")}o(OI,"_getXhrBreadcrumbHandler");function PI(t){return o(function(n){if(fe()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};cr({category:"fetch",data:i,level:"error",type:"http"},a)}else{const i=n.response,a={...n.fetchData,status_code:i&&i.status},c={input:n.args,response:i,startTimestamp:r,endTimestamp:s},u=mg(a.status_code);cr({category:"fetch",data:a,type:"http",level:u},c)}},"_fetchBreadcrumb")}o(PI,"_getFetchBreadcrumbHandler");function MI(t){return o(function(n){if(fe()!==t)return;let r=n.from,s=n.to;const i=Pr(K.location.href);let a=r?Pr(r):void 0;const c=Pr(s);(!a||!a.path)&&(a=i),i.protocol===c.protocol&&i.host===c.host&&(s=c.relative),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),cr({category:"navigation",data:{from:r,to:s}})},"_historyBreadcrumb")}o(MI,"_getHistoryBreadcrumbHandler");function NI(t){return!!t&&!!t.target}o(NI,"_isEvent");const DI=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],LI="BrowserApiErrors",FI=o((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:LI,setupOnce(){e.setTimeout&&wt(K,"setTimeout",xh),e.setInterval&&wt(K,"setInterval",xh),e.requestAnimationFrame&&wt(K,"requestAnimationFrame",BI),e.XMLHttpRequest&&"XMLHttpRequest"in K&&wt(XMLHttpRequest.prototype,"send",$I);const n=e.eventTarget;n&&(Array.isArray(n)?n:DI).forEach(jI)}}},"_browserApiErrorsIntegration"),UI=FI;function xh(t){return function(...e){const n=e[0];return e[0]=Ns(n,{mechanism:{data:{function:Un(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(xh,"_wrapTimeFunction");function BI(t){return function(e){return t.apply(this,[Ns(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Un(t)},handled:!1,type:"instrument"}})])}}o(BI,"_wrapRAF");function $I(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&wt(n,s,function(i){const a={mechanism:{data:{function:s,handler:Un(i)},handled:!1,type:"instrument"}},c=id(i);return c&&(a.mechanism.data.handler=Un(c)),Ns(i,a)})}),t.apply(this,e)}}o($I,"_wrapXHR");function jI(t){const e=K,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(wt(n,"addEventListener",function(r){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ns(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Un(i),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ns(i,{mechanism:{data:{function:"addEventListener",handler:Un(i),target:t},handled:!1,type:"instrument"}}),a])}}),wt(n,"removeEventListener",function(r){return function(s,i,a){const c=i;try{const u=c&&c.__sentry_wrapped__;u&&r.call(this,s,u,a)}catch{}return r.call(this,s,c,a)}}))}o(jI,"_wrapEventTarget");const zI="GlobalHandlers",qI=o((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:zI,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(HI(n),Rh("onerror")),e.onunhandledrejection&&(VI(n),Rh("onunhandledrejection"))}}},"_globalHandlersIntegration"),WI=qI;function HI(t){Rg(e=>{const{stackParser:n,attachStacktrace:r}=Oy();if(fe()!==t||fy())return;const{msg:s,url:i,line:a,column:c,error:u}=e,l=ZI(yd(n,u||s,void 0,r,!1),i,a,c);l.level="error",ty(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}o(HI,"_installGlobalOnErrorHandler");function VI(t){Cg(e=>{const{stackParser:n,attachStacktrace:r}=Oy();if(fe()!==t||fy())return;const s=GI(e),i=sd(s)?KI(s):yd(n,s,void 0,r,!0);i.level="error",ty(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(VI,"_installGlobalOnUnhandledRejectionHandler");function GI(t){if(sd(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(GI,"_getUnhandledRejectionError");function KI(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(KI,"_eventFromRejectionWithPrimitive");function ZI(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{},c=a.stacktrace=a.stacktrace||{},u=c.frames=c.frames||[],l=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,d=Nn(e)&&e.length>0?e:gg();return u.length===0&&u.push({colno:l,filename:d,function:Ur,in_app:!0,lineno:f}),t}o(ZI,"_enhanceEventWithInitialFrame");function Rh(t){St&&M.log(`Global Handler attached: ${t}`)}o(Rh,"globalHandlerLog");function Oy(){const t=fe();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}o(Oy,"getOptions");const YI=()=>({name:"HttpContext",preprocessEvent(t){if(!K.navigator&&!K.location&&!K.document)return;const e=t.request&&t.request.url||K.location&&K.location.href,{referrer:n}=K.document||{},{userAgent:r}=K.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),QI="cause",XI=5,JI="LinkedErrors",ex=o((t={})=>{const e=t.limit||XI,n=t.key||QI;return{name:JI,preprocessEvent(r,s,i){const a=i.getOptions();HS(md,a.stackParser,a.maxValueLength,n,e,r,s)}}},"_linkedErrorsIntegration"),Py=ex;function tx(t){return[ET(),bT(),UI(),xI(),WI(),Py(),LT(),YI()]}o(tx,"getDefaultIntegrations");function nx(t={}){const e={defaultIntegrations:tx(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:K.SENTRY_RELEASE&&K.SENTRY_RELEASE.id?K.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(nx,"applyDefaultOptions");function rx(){const t=typeof K.window<"u"&&K;if(!t)return!1;const e=t.chrome?"chrome":"browser",n=t[e],r=n&&n.runtime&&n.runtime.id,s=K.location&&K.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!r&&K===K.top&&i.some(u=>s.startsWith(`${u}//`)),c=typeof t.nw<"u";return!!r&&!a&&!c}o(rx,"shouldShowBrowserExtensionError");function sx(t={}){const e=nx(t);if(!e.skipBrowserExtensionCheck&&rx()){Xs(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}St&&(Tg()||M.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:i0(e.stackParser||TI),integrations:sT(e),transport:e.transport||dI},r=uT(sk,n);return e.autoSessionTracking&&ix(),r}o(sx,"init$2");function Ch(t={}){if(!K.document){St&&M.error("Global document not defined in showReportDialog call");return}const e=ke(),n=e.getClient(),r=n&&n.getDsn();if(!r){St&&M.error("DSN not configured for showReportDialog call");return}if(e&&(t.user={...e.getUser(),...t.user}),!t.eventId){const c=YE();c&&(t.eventId=c)}const s=K.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=nT(r,t),t.onLoad&&(s.onload=t.onLoad);const{onClose:i}=t;if(i){const c=o(u=>{if(u.data==="__sentry_reportdialog_closed__")try{i()}finally{K.removeEventListener("message",c)}},"reportDialogClosedMessageHandler");K.addEventListener("message",c)}const a=K.document.head||K.document.body;a?a.appendChild(s):St&&M.error("Not injecting report dialog. No injection point found in HTML")}o(Ch,"showReportDialog");function ix(){if(typeof K.document>"u"){St&&M.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}uh({ignoreDuration:!0}),lh(),dc(({from:t,to:e})=>{t!==void 0&&t!==e&&(uh({ignoreDuration:!0}),lh())})}o(ix,"startSessionTracking");const Oe=pe,wd="sentryReplaySession",ox="replay_event",Sd="Unable to send Replay",ax=3e5,cx=9e5,ux=5e3,lx=5500,dx=6e4,fx=5e3,hx=3,Ah=15e4,Po=5e3,px=3e3,mx=300,Ed=2e7,gx=4999,yx=15e3,Oh=36e5;function al(t,e){return t??e()}o(al,"_nullishCoalesce$1");function Mi(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(Mi,"_optionalChain$5");var Ze;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Ze||(Ze={}));function vx(t){return t.nodeType===t.ELEMENT_NODE}o(vx,"isElement$1");function _i(t){const e=Mi([t,"optionalAccess",n=>n.host]);return Mi([e,"optionalAccess",n=>n.shadowRoot])===t}o(_i,"isShadowRoot");function wi(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}o(wi,"isNativeShadowDom");function bx(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}o(bx,"fixBrowserCompatibilityIssuesInCSS");function _x(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}o(_x,"escapeImportStatement");function Ea(t){try{const e=t.rules||t.cssRules;return e?bx(Array.from(e,My).join("")):null}catch{return null}}o(Ea,"stringifyStylesheet");function My(t){let e;if(Sx(t))try{e=Ea(t.styleSheet)||_x(t)}catch{}else if(Ex(t)&&t.selectorText.includes(":"))return wx(t.cssText);return e||t.cssText}o(My,"stringifyRule");function wx(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}o(wx,"fixSafariColons");function Sx(t){return"styleSheet"in t}o(Sx,"isCSSImportRule");function Ex(t){return"selectorText"in t}o(Ex,"isCSSStyleRule");class Ny{static{o(this,"Mirror")}constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const n=Mi([this,"access",r=>r.getMeta,"call",r=>r(e),"optionalAccess",r=>r.id]);return al(n,()=>-1)}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Tx(){return new Ny}o(Tx,"createMirror");function fc({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}o(fc,"shouldMaskInput");function Ni({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}o(Ni,"maskInputValue");function Fs(t){return t.toLowerCase()}o(Fs,"toLowerCase");function cl(t){return t.toUpperCase()}o(cl,"toUpperCase");const Ph="__rrweb_original__";function kx(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const i=e.getImageData,a=Ph in i?i[Ph]:i;if(new Uint32Array(a.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(u=>u!==0))return!1}return!0}o(kx,"is2DCanvasBlank");function Td(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Fs(e):null}o(Td,"getInputType");function Ta(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}o(Ta,"getInputValue");function Dy(t,e){let n;try{n=new URL(t,al(e,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return al(Mi([s,"optionalAccess",i=>i[1]]),()=>null)}o(Dy,"extractFileExtension");const Mh={};function Ly(t){const e=Mh[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(s)}catch{}return Mh[t]=r.bind(window)}o(Ly,"getImplementation$1");function ul(...t){return Ly("setTimeout")(...t)}o(ul,"setTimeout$2");function Fy(...t){return Ly("clearTimeout")(...t)}o(Fy,"clearTimeout$2");let Ix=1;const xx=new RegExp("[^a-z0-9-_:]"),Di=-2;function kd(){return Ix++}o(kd,"genId");function Rx(t){if(t instanceof HTMLFormElement)return"form";const e=Fs(t.tagName);return xx.test(e)?"div":e}o(Rx,"getValidTagName");function Cx(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}o(Cx,"extractOrigin");let as,Nh;const Ax=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ox=/^(?:[a-z+]+:)?\/\//i,Px=/^www\..*/i,Mx=/^(data:)([^,]*),(.*)/i;function ka(t,e){return(t||"").replace(Ax,(n,r,s,i,a,c)=>{const u=s||a||c,l=r||i||"";if(!u)return n;if(Ox.test(u)||Px.test(u))return`url(${l}${u}${l})`;if(Mx.test(u))return`url(${l}${u}${l})`;if(u[0]==="/")return`url(${l}${Cx(e)+u}${l})`;const f=e.split("/"),d=u.split("/");f.pop();for(const h of d)h!=="."&&(h===".."?f.pop():f.push(h));return`url(${l}${f.join("/")}${l})`})}o(ka,"absoluteToStylesheet");const Nx=/^[^ \t\n\r\u000c]+/,Dx=/^[, \t\n\r\u000c]+/;function Lx(t,e){if(e.trim()==="")return e;let n=0;function r(i){let a;const c=i.exec(e.substring(n));return c?(a=c[0],n+=a.length,a):""}o(r,"collectCharacters");const s=[];for(;r(Dx),!(n>=e.length);){let i=r(Nx);if(i.slice(-1)===",")i=ys(t,i.substring(0,i.length-1)),s.push(i);else{let a="";i=ys(t,i);let c=!1;for(;;){const u=e.charAt(n);if(u===""){s.push((i+a).trim());break}else if(c)u===")"&&(c=!1);else if(u===","){n+=1,s.push((i+a).trim());break}else u==="("&&(c=!0);a+=u,n+=1}}}return s.join(", ")}o(Lx,"getAbsoluteSrcsetString");const Dh=new WeakMap;function ys(t,e){return!e||e.trim()===""?e:hc(t,e)}o(ys,"absoluteToDoc");function Fx(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}o(Fx,"isSVGElement");function hc(t,e){let n=Dh.get(t);if(n||(n=t.createElement("a"),Dh.set(t,n)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return n.setAttribute("href",e),n.href}o(hc,"getHref");function Uy(t,e,n,r,s,i){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?ys(t,r):n==="srcset"?Lx(t,r):n==="style"?ka(r,hc(t)):e==="object"&&n==="data"?ys(t,r):typeof i=="function"?i(n,r,s):r)}o(Uy,"transformAttribute");function By(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}o(By,"ignoreAttribute");function Ux(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const i=t.classList[s];if(e.test(i))return!0}if(n)return t.matches(n)}catch{}return!1}o(Ux,"_isBlockedElement");function Bx(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}o(Bx,"elementClassMatchesRegex");function Rr(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:Rr(t.parentNode,e,n,r+1)}o(Rr,"distanceToMatch");function vs(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(Bx(r,t))return!0}return!!(e&&r.matches(e))}catch{return!1}}}o(vs,"createMatchPredicate");function Us(t,e,n,r,s,i){try{const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(a===null)return!1;if(a.tagName==="INPUT"){const l=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(l))return!0}let c=-1,u=-1;if(i){if(u=Rr(a,vs(r,s)),u<0)return!0;c=Rr(a,vs(e,n),u>=0?u:1/0)}else{if(c=Rr(a,vs(e,n)),c<0)return!1;u=Rr(a,vs(r,s),c>=0?c:1/0)}return c>=0?u>=0?c<=u:!0:u>=0?!1:!!i}catch{}return!!i}o(Us,"needMaskingText");function $x(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const c=ul(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{Fy(c),s=!0,e()});return}const a="about:blank";if(r.location.href!==a||t.src===a||t.src==="")return ul(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}o($x,"onceIframeLoaded");function jx(t,e,n){let r=!1,s;try{s=t.sheet}catch{return}if(s)return;const i=ul(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{Fy(i),r=!0,e()})}o(jx,"onceStylesheetLoaded");function zx(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:c,maskAttributeFn:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:m,maskInputOptions:p={},maskTextFn:g,maskInputFn:y,dataURLOptions:b={},inlineImages:_,recordCanvas:w,keepIframeSrcFn:R,newlyAddedElement:I=!1}=e,S=qx(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Ze.Document,childNodes:[],compatMode:t.compatMode}:{type:Ze.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Ze.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:S};case t.ELEMENT_NODE:return Hx(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:a,inlineStylesheet:m,maskAttributeFn:u,maskInputOptions:p,maskInputFn:y,dataURLOptions:b,inlineImages:_,recordCanvas:w,keepIframeSrcFn:R,newlyAddedElement:I,rootId:S,maskAllText:c,maskTextClass:l,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:h});case t.TEXT_NODE:return Wx(t,{doc:n,maskAllText:c,maskTextClass:l,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:g,maskInputOptions:p,maskInputFn:y,rootId:S});case t.CDATA_SECTION_NODE:return{type:Ze.CDATA,textContent:"",rootId:S};case t.COMMENT_NODE:return{type:Ze.Comment,textContent:t.textContent||"",rootId:S};default:return!1}}o(zx,"serializeNode");function qx(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}o(qx,"getRootId");function Wx(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:l,rootId:f}=e,d=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const m=d==="STYLE"?!0:void 0,p=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(m&&h){try{t.nextSibling||t.previousSibling||Mi([t,"access",b=>b.parentNode,"access",b=>b.sheet,"optionalAccess",b=>b.cssRules])&&(h=Ea(t.parentNode.sheet))}catch(b){`${b}`}h=ka(h,hc(e.doc))}p&&(h="SCRIPT_PLACEHOLDER");const y=Us(t,r,i,s,a,n);if(!m&&!p&&!g&&h&&y&&(h=c?c(h,t.parentElement):h.replace(/[\S]/g,"*")),g&&h&&(u.textarea||y)&&(h=l?l(h,t.parentNode):h.replace(/[\S]/g,"*")),d==="OPTION"&&h){const b=fc({type:null,tagName:d,maskInputOptions:u});h=Ni({isMasked:Us(t,r,i,s,a,b),element:t,value:h,maskInputFn:l})}return{type:Ze.Text,textContent:h||"",isStyle:m,rootId:f}}o(Wx,"serializeTextNode");function Hx(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:a,maskInputOptions:c={},maskAttributeFn:u,maskInputFn:l,dataURLOptions:f={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:m,newlyAddedElement:p=!1,rootId:g,maskAllText:y,maskTextClass:b,unmaskTextClass:_,maskTextSelector:w,unmaskTextSelector:R}=e,I=Ux(t,r,s,i),S=Rx(t);let E={};const v=t.attributes.length;for(let k=0;k<v;k++){const x=t.attributes[k];x.name&&!By(S,x.name,x.value)&&(E[x.name]=Uy(n,S,Fs(x.name),x.value,t,u))}if(S==="link"&&a){const k=Array.from(n.styleSheets).find(A=>A.href===t.href);let x=null;k&&(x=Ea(k)),x&&(delete E.rel,delete E.href,E._cssText=ka(x,k.href))}if(S==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const k=Ea(t.sheet);k&&(E._cssText=ka(k,hc(n)))}if(S==="input"||S==="textarea"||S==="select"||S==="option"){const k=t,x=Td(k),A=Ta(k,cl(S),x),P=k.checked;if(x!=="submit"&&x!=="button"&&A){const B=Us(k,b,w,_,R,fc({type:x,tagName:cl(S),maskInputOptions:c}));E.value=Ni({isMasked:B,element:k,value:A,maskInputFn:l})}P&&(E.checked=P)}if(S==="option"&&(t.selected&&!c.select?E.selected=!0:delete E.selected),S==="canvas"&&h){if(t.__context==="2d")kx(t)||(E.rr_dataURL=t.toDataURL(f.type,f.quality));else if(!("__context"in t)){const k=t.toDataURL(f.type,f.quality),x=n.createElement("canvas");x.width=t.width,x.height=t.height;const A=x.toDataURL(f.type,f.quality);k!==A&&(E.rr_dataURL=k)}}if(S==="img"&&d){as||(as=n.createElement("canvas"),Nh=as.getContext("2d"));const k=t,x=k.currentSrc||k.getAttribute("src")||"<unknown-src>",A=k.crossOrigin,P=o(()=>{k.removeEventListener("load",P);try{as.width=k.naturalWidth,as.height=k.naturalHeight,Nh.drawImage(k,0,0),E.rr_dataURL=as.toDataURL(f.type,f.quality)}catch(B){if(k.crossOrigin!=="anonymous"){k.crossOrigin="anonymous",k.complete&&k.naturalWidth!==0?P():k.addEventListener("load",P);return}else`${x}${B}`}k.crossOrigin==="anonymous"&&(A?E.crossOrigin=A:k.removeAttribute("crossorigin"))},"recordInlineImage");k.complete&&k.naturalWidth!==0?P():k.addEventListener("load",P)}if((S==="audio"||S==="video")&&(E.rr_mediaState=t.paused?"paused":"played",E.rr_mediaCurrentTime=t.currentTime),p||(t.scrollLeft&&(E.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(E.rr_scrollTop=t.scrollTop)),I){const{width:k,height:x}=t.getBoundingClientRect();E={class:E.class,rr_width:`${k}px`,rr_height:`${x}px`}}S==="iframe"&&!m(E.src)&&(!I&&!t.contentDocument&&(E.rr_src=E.src),delete E.src);let T;try{customElements.get(S)&&(T=!0)}catch{}return{type:Ze.Element,tagName:S,attributes:E,childNodes:[],isSVG:Fx(t)||void 0,needBlock:I,rootId:g,isCustom:T}}o(Hx,"serializeElementNode");function Ae(t){return t==null?"":t.toLowerCase()}o(Ae,"lowerIfExists");function Vx(t,e){if(e.comment&&t.type===Ze.Comment)return!0;if(t.type===Ze.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&Dy(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Ae(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Ae(t.attributes.name)==="application-name"||Ae(t.attributes.rel)==="icon"||Ae(t.attributes.rel)==="apple-touch-icon"||Ae(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Ae(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Ae(t.attributes.property).match(/^(og|twitter|fb):/)||Ae(t.attributes.name).match(/^(og|twitter):/)||Ae(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Ae(t.attributes.name)==="robots"||Ae(t.attributes.name)==="googlebot"||Ae(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Ae(t.attributes.name)==="author"||Ae(t.attributes.name)==="generator"||Ae(t.attributes.name)==="framework"||Ae(t.attributes.name)==="publisher"||Ae(t.attributes.name)==="progid"||Ae(t.attributes.property).match(/^article:/)||Ae(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Ae(t.attributes.name)==="google-site-verification"||Ae(t.attributes.name)==="yandex-verification"||Ae(t.attributes.name)==="csrf-token"||Ae(t.attributes.name)==="p:domain_verify"||Ae(t.attributes.name)==="verify-v1"||Ae(t.attributes.name)==="verification"||Ae(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}o(Vx,"slimDOMExcluded");function bs(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:m=!0,maskInputOptions:p={},maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOMOptions:_,dataURLOptions:w={},inlineImages:R=!1,recordCanvas:I=!1,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:v=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:x=o(()=>!1,"keepIframeSrcFn"),newlyAddedElement:A=!1}=e;let{preserveWhiteSpace:P=!0}=e;const B=zx(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:c,unblockSelector:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,dataURLOptions:w,inlineImages:R,recordCanvas:I,keepIframeSrcFn:x,newlyAddedElement:A});if(!B)return null;let F;r.hasNode(t)?F=r.getId(t):Vx(B,_)||!P&&B.type===Ze.Text&&!B.isStyle&&!B.textContent.replace(/^\s+|\s+$/gm,"").length?F=Di:F=kd();const N=Object.assign(B,{id:F});if(r.add(t,N),F===Di)return null;S&&S(t);let Q=!h;if(N.type===Ze.Element){Q=Q&&!N.needBlock,delete N.needBlock;const j=t.shadowRoot;j&&wi(j)&&(N.isShadowHost=!0)}if((N.type===Ze.Document||N.type===Ze.Element)&&Q){_.headWhitespace&&N.type===Ze.Element&&N.tagName==="head"&&(P=!1);const j={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:c,unblockSelector:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:d,skipChild:h,inlineStylesheet:m,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOMOptions:_,dataURLOptions:w,inlineImages:R,recordCanvas:I,preserveWhiteSpace:P,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:k,keepIframeSrcFn:x};for(const Se of Array.from(t.childNodes)){const Xe=bs(Se,j);Xe&&N.childNodes.push(Xe)}if(vx(t)&&t.shadowRoot)for(const Se of Array.from(t.shadowRoot.childNodes)){const Xe=bs(Se,j);Xe&&(wi(t.shadowRoot)&&(Xe.isShadow=!0),N.childNodes.push(Xe))}}return t.parentNode&&_i(t.parentNode)&&wi(t.parentNode)&&(N.isShadow=!0),N.type===Ze.Element&&N.tagName==="iframe"&&$x(t,()=>{const j=t.contentDocument;if(j&&E){const Se=bs(j,{doc:j,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOMOptions:_,dataURLOptions:w,inlineImages:R,recordCanvas:I,preserveWhiteSpace:P,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:k,keepIframeSrcFn:x});Se&&E(t,Se)}},v),N.type===Ze.Element&&N.tagName==="link"&&typeof N.attributes.rel=="string"&&(N.attributes.rel==="stylesheet"||N.attributes.rel==="preload"&&typeof N.attributes.href=="string"&&Dy(N.attributes.href)==="css")&&jx(t,()=>{if(T){const j=bs(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOMOptions:_,dataURLOptions:w,inlineImages:R,recordCanvas:I,preserveWhiteSpace:P,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:k,keepIframeSrcFn:x});j&&T(t,j)}},k),N}o(bs,"serializeNodeWithId");function Gx(t,e){const{mirror:n=new Ny,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:c="rr-mask",unmaskTextClass:u=null,maskTextSelector:l=null,unmaskTextSelector:f=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:m=!1,maskAllInputs:p=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOM:_=!1,dataURLOptions:w,preserveWhiteSpace:R,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:E,onStylesheetLoad:v,stylesheetLoadTimeout:T,keepIframeSrcFn:k=o(()=>!1,"keepIframeSrcFn")}=e||{};return bs(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:d,maskInputOptions:p===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:p===!1?{}:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:b,slimDOMOptions:_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:_==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:_===!1?{}:_,dataURLOptions:w,inlineImages:h,recordCanvas:m,preserveWhiteSpace:R,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:E,onStylesheetLoad:v,stylesheetLoadTimeout:T,keepIframeSrcFn:k,newlyAddedElement:!1})}o(Gx,"snapshot");function Vn(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(Vn,"_optionalChain$4");function ht(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}o(ht,"on");const ds=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Lh={map:{},getId(){return console.error(ds),-1},getNode(){return console.error(ds),null},removeNodeFromMap(){console.error(ds)},has(){return console.error(ds),!1},reset(){console.error(ds)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Lh=new Proxy(Lh,{get(t,e,n){return e==="map"&&console.error(ds),Reflect.get(t,e,n)}}));function Li(t,e,n={}){let r=null,s=0;return function(...i){const a=Date.now();!s&&n.leading===!1&&(s=a);const c=e-(a-s),u=this;c<=0||c>e?(r&&(eR(r),r=null),s=a,t.apply(u,i)):!r&&n.trailing!==!1&&(r=pc(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(u,i)},c))}}o(Li,"throttle$1");function $y(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(a){pc(()=>{n.set.call(this,a)},0),i&&i.set&&i.set.call(this,a)}}),()=>$y(t,e,i||{},!0)}o($y,"hookSetter");function Id(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch{return()=>{}}}o(Id,"patch");let Ia=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ia=o(()=>new Date().getTime(),"nowTimestamp"));function jy(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:Vn([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Vn([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Vn([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:Vn([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Vn([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Vn([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}o(jy,"getWindowScroll");function zy(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}o(zy,"getWindowHeight");function qy(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}o(qy,"getWindowWidth");function Wy(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}o(Wy,"closestElementOfNode");function At(t,e,n,r,s){if(!t)return!1;const i=Wy(t);if(!i)return!1;const a=vs(e,n);if(!s){const l=r&&i.matches(r);return a(i)&&!l}const c=Rr(i,a);let u=-1;return c<0?!1:(r&&(u=Rr(i,vs(null,r))),c>-1&&u<0?!0:c<u)}o(At,"isBlocked");function Kx(t,e){return e.getId(t)!==-1}o(Kx,"isSerialized");function Jc(t,e){return e.getId(t)===Di}o(Jc,"isIgnored");function Hy(t,e){if(_i(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?Hy(t.parentNode,e):!0:!0}o(Hy,"isAncestorRemoved");function ll(t){return!!t.changedTouches}o(ll,"legacy_isTouchEvent");function Zx(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}o(Zx,"polyfill");function Vy(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}o(Vy,"isSerializedIframe");function Gy(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}o(Gy,"isSerializedStylesheet");function dl(t){return!!Vn([t,"optionalAccess",e=>e.shadowRoot])}o(dl,"hasShadowRoot");class Yx{static{o(this,"StyleSheetMirror")}constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return H0(this.styleIDMap.get(e),()=>-1)}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ky(t){let e=null;return Vn([t,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}o(Ky,"getShadowHost");function Qx(t){let e=t,n;for(;n=Ky(e);)e=n;return e}o(Qx,"getRootShadowHost");function Xx(t){const e=t.ownerDocument;if(!e)return!1;const n=Qx(t);return e.contains(n)}o(Xx,"shadowHostInDom");function Zy(t){const e=t.ownerDocument;return e?e.contains(t)||Xx(t):!1}o(Zy,"inDom");const Fh={};function xd(t){const e=Fh[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(s)}catch{}return Fh[t]=r.bind(window)}o(xd,"getImplementation");function Jx(...t){return xd("requestAnimationFrame")(...t)}o(Jx,"onRequestAnimationFrame");function pc(...t){return xd("setTimeout")(...t)}o(pc,"setTimeout$1");function eR(...t){return xd("clearTimeout")(...t)}o(eR,"clearTimeout$1");var le=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(le||{}),ne=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ne||{}),ft=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ft||{}),kn=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(kn||{});function tR(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(tR,"_optionalChain$3");function Uh(t){return"__ln"in t}o(Uh,"isNodeInLinkedList");class nR{static{o(this,"DoubleLinkedList")}constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=tR([n,"optionalAccess",s=>s.next])||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Uh(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Uh(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Bh=o((t,e)=>`${t}@${e}`,"moveKey");class rR{static{o(this,"MutationBuffer")}constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new nR,s=o(u=>{let l=u,f=Di;for(;f===Di;)l=l&&l.nextSibling,f=l&&this.mirror.getId(l);return f},"getNextId"),i=o(u=>{if(!u.parentNode||!Zy(u))return;const l=_i(u.parentNode)?this.mirror.getId(Ky(u)):this.mirror.getId(u.parentNode),f=s(u);if(l===-1||f===-1)return r.addNode(u);const d=bs(u,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{Vy(h,this.mirror)&&!At(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(h),Gy(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),dl(u)&&this.shadowDomManager.addShadowRoot(u.shadowRoot,this.doc)},onIframeLoad:(h,m)=>{At(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(h,m),h.contentWindow&&this.canvasManager.addWindow(h.contentWindow),this.shadowDomManager.observeAttachShadow(h))},onStylesheetLoad:(h,m)=>{this.stylesheetManager.attachLinkElement(h,m)}});d&&(e.push({parentId:l,nextId:f,node:d}),n.add(d.id))},"pushAdd");for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const u of this.movedSet)$h(this.removes,u,this.mirror)&&!this.movedSet.has(u.parentNode)||i(u);for(const u of this.addedSet)!jh(this.droppedSet,u)&&!$h(this.removes,u,this.mirror)||jh(this.movedSet,u)?i(u):this.droppedSet.add(u);let a=null;for(;r.length;){let u=null;if(a){const l=this.mirror.getId(a.value.parentNode),f=s(a.value);l!==-1&&f!==-1&&(u=a)}if(!u){let l=r.tail;for(;l;){const f=l;if(l=l.previous,f){const d=this.mirror.getId(f.value.parentNode);if(s(f.value)===-1)continue;if(d!==-1){u=f;break}else{const m=f.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=m.parentNode.host;if(this.mirror.getId(p)!==-1){u=f;break}}}}}}if(!u){for(;r.head;)r.removeNode(r.head.value);break}a=u.previous,r.removeNode(u.value),i(u.value)}const c={texts:this.texts.map(u=>({id:this.mirror.getId(u.node),value:u.value})).filter(u=>!n.has(u.id)).filter(u=>this.mirror.has(u.id)),attributes:this.attributes.map(u=>{const{attributes:l}=u;if(typeof l.style=="string"){const f=JSON.stringify(u.styleDiff),d=JSON.stringify(u._unchangedStyles);f.length<l.style.length&&(f+d).split("var(").length===l.style.split("var(").length&&(l.style=u.styleDiff)}return{id:this.mirror.getId(u.node),attributes:l}}).filter(u=>!n.has(u.id)).filter(u=>this.mirror.has(u.id)),removes:this.removes,adds:e};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=e=>{if(!Jc(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!At(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Us(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Wy(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if(r==="value"){const a=Td(n),c=n.tagName;s=Ta(n,c,a);const u=fc({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=Us(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);s=Ni({isMasked:l,element:n,value:s,maskInputFn:this.maskInputFn})}if(At(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let i=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!By(n.tagName,r)&&(i.attributes[r]=Uy(this.doc,Fs(n.tagName),Fs(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const a=this.unattachedDoc.createElement("span");e.oldValue&&a.setAttribute("style",e.oldValue);for(const c of Array.from(n.style)){const u=n.style.getPropertyValue(c),l=n.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?i.styleDiff[c]=u:i.styleDiff[c]=[u,l]:i._unchangedStyles[c]=[u,l]}for(const c of Array.from(a.style))n.style.getPropertyValue(c)===""&&(i.styleDiff[c]=!1)}break}case"childList":{if(At(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=_i(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);At(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Jc(n,this.mirror)||!Kx(n,this.mirror)||(this.addedSet.has(n)?(fl(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||Hy(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Bh(r,s)]?fl(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:_i(e.target)&&wi(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Jc(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Bh(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);At(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),dl(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function fl(t,e){t.delete(e),e.childNodes.forEach(n=>fl(t,n))}o(fl,"deepDelete");function $h(t,e,n){return t.length===0?!1:sR(t,e,n)}o($h,"isParentRemoved");function sR(t,e,n){let r=e.parentNode;for(;r;){const s=n.getId(r);if(t.some(i=>i.id===s))return!0;r=r.parentNode}return!1}o(sR,"_isParentRemoved");function jh(t,e){return t.size===0?!1:Yy(t,e)}o(jh,"isAncestorInSet");function Yy(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:Yy(t,n):!1}o(Yy,"_isAncestorInSet");let Si;function iR(t){Si=t}o(iR,"registerErrorHandler");function oR(){Si=void 0}o(oR,"unregisterErrorHandler");const ve=o(t=>Si?o((...n)=>{try{return t(...n)}catch(r){if(Si&&Si(r)===!0)return()=>{};throw r}},"rrwebWrapped"):t,"callbackWrapper");function Kt(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(Kt,"_optionalChain$2");const _s=[];function fo(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}o(fo,"getEventTarget");function Qy(t,e){const n=new rR;_s.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=Kt([window,"optionalAccess",a=>a.Zone,"optionalAccess",a=>a.__symbol__,"optionalCall",a=>a("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(ve(a=>{t.onMutation&&t.onMutation(a)===!1||n.processMutations.bind(n)(a)}));return i.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}o(Qy,"initMutationObserver");function aR({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let a=[],c;const u=Li(ve(d=>{const h=Date.now()-c;t(a.map(m=>(m.timeOffset-=h,m)),d),a=[],c=null}),i),l=ve(Li(ve(d=>{const h=fo(d),{clientX:m,clientY:p}=ll(d)?d.changedTouches[0]:d;c||(c=Ia()),a.push({x:m,y:p,id:r.getId(h),timeOffset:Ia()-c}),u(typeof DragEvent<"u"&&d instanceof DragEvent?ne.Drag:d instanceof MouseEvent?ne.MouseMove:ne.TouchMove)}),s,{trailing:!1})),f=[ht("mousemove",l,n),ht("touchmove",l,n),ht("drag",l,n)];return ve(()=>{f.forEach(d=>d())})}o(aR,"initMoveObserver");function cR({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const c=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,u=[];let l=null;const f=o(d=>h=>{const m=fo(h);if(At(m,r,s,i,!0))return;let p=null,g=d;if("pointerType"in h){switch(h.pointerType){case"mouse":p=kn.Mouse;break;case"touch":p=kn.Touch;break;case"pen":p=kn.Pen;break}p===kn.Touch?ft[d]===ft.MouseDown?g="TouchStart":ft[d]===ft.MouseUp&&(g="TouchEnd"):kn.Pen}else ll(h)&&(p=kn.Touch);p!==null?(l=p,(g.startsWith("Touch")&&p===kn.Touch||g.startsWith("Mouse")&&p===kn.Mouse)&&(p=null)):ft[d]===ft.Click&&(p=l,l=null);const y=ll(h)?h.changedTouches[0]:h;if(!y)return;const b=n.getId(m),{clientX:_,clientY:w}=y;ve(t)({type:ft[g],id:b,x:_,y:w,...p!==null&&{pointerType:p}})},"getHandler");return Object.keys(ft).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&c[d]!==!1).forEach(d=>{let h=Fs(d);const m=f(d);if(window.PointerEvent)switch(ft[d]){case ft.MouseDown:case ft.MouseUp:h=h.replace("mouse","pointer");break;case ft.TouchStart:case ft.TouchEnd:return}u.push(ht(h,m,e))}),ve(()=>{u.forEach(d=>d())})}o(cR,"initMouseInteractionObserver");function Xy({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:a}){const c=ve(Li(ve(u=>{const l=fo(u);if(!l||At(l,r,s,i,!0))return;const f=n.getId(l);if(l===e&&e.defaultView){const d=jy(e.defaultView);t({id:f,x:d.left,y:d.top})}else t({id:f,x:l.scrollLeft,y:l.scrollTop})}),a.scroll||100));return ht("scroll",c,e)}o(Xy,"initScrollObserver");function uR({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=ve(Li(ve(()=>{const i=zy(),a=qy();(n!==i||r!==a)&&(t({width:Number(a),height:Number(i)}),n=i,r=a)}),200));return ht("resize",s,e)}o(uR,"initViewportResizeObserver");const lR=["INPUT","TEXTAREA","SELECT"],zh=new WeakMap;function dR({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:a,ignoreSelector:c,maskInputOptions:u,maskInputFn:l,sampling:f,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:m,maskTextSelector:p,unmaskTextSelector:g}){function y(E){let v=fo(E);const T=E.isTrusted,k=v&&cl(v.tagName);if(k==="OPTION"&&(v=v.parentElement),!v||!k||lR.indexOf(k)<0||At(v,r,s,i,!0))return;const x=v;if(x.classList.contains(a)||c&&x.matches(c))return;const A=Td(v);let P=Ta(x,k,A),B=!1;const F=fc({maskInputOptions:u,tagName:k,type:A}),N=Us(v,h,p,m,g,F);(A==="radio"||A==="checkbox")&&(B=v.checked),P=Ni({isMasked:N,element:v,value:P,maskInputFn:l}),b(v,d?{text:P,isChecked:B,userTriggered:T}:{text:P,isChecked:B});const Q=v.name;A==="radio"&&Q&&B&&e.querySelectorAll(`input[type="radio"][name="${Q}"]`).forEach(j=>{if(j!==v){const Se=Ni({isMasked:N,element:j,value:Ta(j,k,A),maskInputFn:l});b(j,d?{text:Se,isChecked:!B,userTriggered:!1}:{text:Se,isChecked:!B})}})}o(y,"eventHandler");function b(E,v){const T=zh.get(E);if(!T||T.text!==v.text||T.isChecked!==v.isChecked){zh.set(E,v);const k=n.getId(E);ve(t)({...v,id:k})}}o(b,"cbWithDedup");const w=(f.input==="last"?["change"]:["input","change"]).map(E=>ht(E,ve(y),e)),R=e.defaultView;if(!R)return()=>{w.forEach(E=>E())};const I=R.Object.getOwnPropertyDescriptor(R.HTMLInputElement.prototype,"value"),S=[[R.HTMLInputElement.prototype,"value"],[R.HTMLInputElement.prototype,"checked"],[R.HTMLSelectElement.prototype,"value"],[R.HTMLTextAreaElement.prototype,"value"],[R.HTMLSelectElement.prototype,"selectedIndex"],[R.HTMLOptionElement.prototype,"selected"]];return I&&I.set&&w.push(...S.map(E=>$y(E[0],E[1],{set(){ve(y)({target:this,isTrusted:!1})}},!1,R))),ve(()=>{w.forEach(E=>E())})}o(dR,"initInputObserver");function xa(t){const e=[];function n(r,s){if(Mo("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Mo("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Mo("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Mo("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const a=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(a)}else if(r.parentStyleSheet){const a=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(a)}return s}return o(n,"recurse"),n(t,e)}o(xa,"getNestedCSSRulePositions");function Gn(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}o(Gn,"getIdAndStyleId");function fR({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:ve((f,d,h)=>{const[m,p]=h,{id:g,styleId:y}=Gn(d,e,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&t({id:g,styleId:y,adds:[{rule:m,index:p}]}),f.apply(d,h)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:ve((f,d,h)=>{const[m]=h,{id:p,styleId:g}=Gn(d,e,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&t({id:p,styleId:g,removes:[{index:m}]}),f.apply(d,h)})});let a;r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:ve((f,d,h)=>{const[m]=h,{id:p,styleId:g}=Gn(d,e,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&t({id:p,styleId:g,replace:m}),f.apply(d,h)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:ve((f,d,h)=>{const[m]=h,{id:p,styleId:g}=Gn(d,e,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&t({id:p,styleId:g,replaceSync:m}),f.apply(d,h)})}));const u={};No("CSSGroupingRule")?u.CSSGroupingRule=r.CSSGroupingRule:(No("CSSMediaRule")&&(u.CSSMediaRule=r.CSSMediaRule),No("CSSConditionRule")&&(u.CSSConditionRule=r.CSSConditionRule),No("CSSSupportsRule")&&(u.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(u).forEach(([f,d])=>{l[f]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(l[f].insertRule,{apply:ve((h,m,p)=>{const[g,y]=p,{id:b,styleId:_}=Gn(m.parentStyleSheet,e,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&t({id:b,styleId:_,adds:[{rule:g,index:[...xa(m),y||0]}]}),h.apply(m,p)})}),d.prototype.deleteRule=new Proxy(l[f].deleteRule,{apply:ve((h,m,p)=>{const[g]=p,{id:y,styleId:b}=Gn(m.parentStyleSheet,e,n.styleMirror);return(y&&y!==-1||b&&b!==-1)&&t({id:y,styleId:b,removes:[{index:[...xa(m),g]}]}),h.apply(m,p)})})}),ve(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,a&&(r.CSSStyleSheet.prototype.replace=a),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach(([f,d])=>{d.prototype.insertRule=l[f].insertRule,d.prototype.deleteRule=l[f].deleteRule})})}o(fR,"initStyleSheetObserver");function Jy({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const s=n.nodeName==="#document"?Kt([n,"access",a=>a.defaultView,"optionalAccess",a=>a.Document]):Kt([n,"access",a=>a.ownerDocument,"optionalAccess",a=>a.defaultView,"optionalAccess",a=>a.ShadowRoot]),i=Kt([s,"optionalAccess",a=>a.prototype])?Object.getOwnPropertyDescriptor(Kt([s,"optionalAccess",a=>a.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Kt([i,"access",a=>a.get,"optionalAccess",a=>a.call,"call",a=>a(this)])},set(a){const c=Kt([i,"access",u=>u.set,"optionalAccess",u=>u.call,"call",u=>u(this,a)]);if(r!==null&&r!==-1)try{e.adoptStyleSheets(a,r)}catch{}return c}}),ve(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}o(Jy,"initAdoptedStyleSheetObserver");function hR({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:ve((c,u,l)=>{const[f,d,h]=l;if(n.has(f))return i.apply(u,[f,d,h]);const{id:m,styleId:p}=Gn(Kt([u,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),e,r.styleMirror);return(m&&m!==-1||p&&p!==-1)&&t({id:m,styleId:p,set:{property:f,value:d,priority:h},index:xa(u.parentRule)}),c.apply(u,l)})});const a=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:ve((c,u,l)=>{const[f]=l;if(n.has(f))return a.apply(u,[f]);const{id:d,styleId:h}=Gn(Kt([u,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),e,r.styleMirror);return(d&&d!==-1||h&&h!==-1)&&t({id:d,styleId:h,remove:{property:f},index:xa(u.parentRule)}),c.apply(u,l)})}),ve(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=a})}o(hR,"initStyleDeclarationObserver");function pR({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:a}){const c=ve(l=>Li(ve(f=>{const d=fo(f);if(!d||At(d,e,n,r,!0))return;const{currentTime:h,volume:m,muted:p,playbackRate:g}=d;t({type:l,id:s.getId(d),currentTime:h,volume:m,muted:p,playbackRate:g})}),i.media||500)),u=[ht("play",c(0),a),ht("pause",c(1),a),ht("seeked",c(2),a),ht("volumechange",c(3),a),ht("ratechange",c(4),a)];return ve(()=>{u.forEach(l=>l())})}o(pR,"initMediaInteractionObserver");function mR({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=o(function(u,l,f){const d=new i(u,l,f);return s.set(d,{family:u,buffer:typeof l!="string",descriptors:f,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),d},"FontFace");const a=Id(e.fonts,"add",function(c){return function(u){return pc(ve(()=>{const l=s.get(u);l&&(t(l),s.delete(u))}),0),c.apply(this,[u])}});return r.push(()=>{n.FontFace=i}),r.push(a),ve(()=>{r.forEach(c=>c())})}o(mR,"initFontObserver");function gR(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:a}=t;let c=!0;const u=ve(()=>{const l=e.getSelection();if(!l||c&&Kt([l,"optionalAccess",h=>h.isCollapsed]))return;c=l.isCollapsed||!1;const f=[],d=l.rangeCount||0;for(let h=0;h<d;h++){const m=l.getRangeAt(h),{startContainer:p,startOffset:g,endContainer:y,endOffset:b}=m;At(p,r,s,i,!0)||At(y,r,s,i,!0)||f.push({start:n.getId(p),startOffset:g,end:n.getId(y),endOffset:b})}a({ranges:f})});return u(),ht("selectionchange",u)}o(gR,"initSelectionObserver");function yR({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:Id(n.customElements,"define",function(s){return function(i,a,c){try{e({define:{name:i}})}catch{}return s.apply(this,[i,a,c])}})}o(yR,"initCustomElementObserver");function vR(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let r;t.recordDOM&&(r=Qy(t,t.doc));const s=aR(t),i=cR(t),a=Xy(t),c=uR(t,{win:n}),u=dR(t),l=pR(t);let f=o(()=>{},"styleSheetObserver"),d=o(()=>{},"adoptedStyleSheetObserver"),h=o(()=>{},"styleDeclarationObserver"),m=o(()=>{},"fontObserver");t.recordDOM&&(f=fR(t,{win:n}),d=Jy(t,t.doc),h=hR(t,{win:n}),t.collectFonts&&(m=mR(t)));const p=gR(t),g=yR(t),y=[];for(const b of t.plugins)y.push(b.observer(b.callback,n,b.options));return ve(()=>{_s.forEach(b=>b.reset()),Kt([r,"optionalAccess",b=>b.disconnect,"call",b=>b()]),s(),i(),a(),c(),u(),l(),f(),d(),h(),m(),p(),g(),y.forEach(b=>b())})}o(vR,"initObservers");function Mo(t){return typeof window[t]<"u"}o(Mo,"hasNestedCSSRule");function No(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}o(No,"canMonkeyPatchNestedCSSRule");class hl{static{o(this,"CrossOriginIframeMirror")}constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const i=r||this.getIdToRemoteIdMap(e),a=s||this.getRemoteIdToIdMap(e);let c=i.get(n);return c||(c=this.generateIdFn(),i.set(n,c),a.set(c,n)),c}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(i=>this.getId(e,i,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}function qh(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(e,...a)),e=void 0)}return n}o(qh,"_optionalChain$1");class bR{static{o(this,"IframeManagerNoop")}constructor(){this.crossOriginIframeMirror=new hl(kd),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class _R{static{o(this,"IframeManager")}constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new hl(kd),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new hl(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),qh([this,"access",r=>r.loadListener,"optionalCall",r=>r(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case le.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:le.IncrementalSnapshot,data:{source:ne.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case le.Meta:case le.Load:case le.DomContentLoaded:return!1;case le.Plugin:return n;case le.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case le.IncrementalSnapshot:switch(n.data.source){case ne.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case ne.Drag:case ne.TouchMove:case ne.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case ne.ViewportResize:return!1;case ne.MediaInteraction:case ne.MouseInteraction:case ne.Scroll:case ne.CanvasMutation:case ne.Input:return this.replaceIds(n.data,e,["id"]),n;case ne.StyleSheetRule:case ne.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case ne.Font:return n;case ne.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case ne.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),qh([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,e,["styleId"])})]),n}}return!1}replace(e,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=e.getIds(r,n[i]):n[i]=e.getId(r,n[i]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==Ze.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class wR{static{o(this,"ShadowDomManagerNoop")}init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class SR{static{o(this,"ShadowDomManager")}constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!wi(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const r=Qy({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Xy({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),pc(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Jy({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(Id(e.prototype,"attachShadow",function(s){return function(i){const a=s.call(this,i);return this.shadowRoot&&Zy(this)&&r.addShadowRoot(this.shadowRoot,n),a}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Wh{static{o(this,"CanvasManagerNoop")}reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ER{static{o(this,"StylesheetManager")}constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Yx,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of e){let a;this.styleMirror.has(i)?a=this.styleMirror.getId(i):(a=this.styleMirror.add(i),s.push({styleId:a,rules:Array.from(i.rules||CSSRule,(c,u)=>({rule:My(c),index:u}))})),r.styleIds.push(a)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class TR{static{o(this,"ProcessedNodeManager")}constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.active||(this.active=!0,Jx(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}destroy(){}}let Ue,Ra;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=Ot([t,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(t)}}catch(t){}const Ht=Tx();function Dn(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:c="rr-ignore",ignoreSelector:u=null,maskAllText:l=!1,maskTextClass:f="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:m=null,inlineStylesheet:p=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:b,maskAttributeFn:_,maskInputFn:w,maskTextFn:R,maxCanvasSize:I=null,packFn:S,sampling:E={},dataURLOptions:v={},mousemoveWait:T,recordDOM:k=!0,recordCanvas:x=!1,recordCrossOriginIframes:A=!1,recordAfter:P=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:B=!1,collectFonts:F=!1,inlineImages:N=!1,plugins:Q,keepIframeSrcFn:j=o(()=>!1,"keepIframeSrcFn"),ignoreCSSAttributes:Se=new Set([]),errorHandler:Xe,onMutation:bt,getCanvasManager:Dt}=t;iR(Xe);const me=A?window.parent===window:!0;let Re=!1;if(!me)try{window.parent.document&&(Re=!1)}catch{Re=!0}if(me&&!e)throw new Error("emit function is required");if(!me&&!Re)return()=>{};T!==void 0&&E.mousemove===void 0&&(E.mousemove=T),Ht.reset();const $e=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},ut=b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:b==="all",headMetaDescKeywords:b==="all"}:b||{};Zx();let _n,ts=0;const ii=o(ge=>{for(const Fe of Q||[])Fe.eventProcessor&&(ge=Fe.eventProcessor(ge));return S&&!Re&&(ge=S(ge)),ge},"eventProcessor");Ue=o((ge,Fe)=>{const ae=ge;if(ae.timestamp=Ia(),Ot([_s,"access",xe=>xe[0],"optionalAccess",xe=>xe.isFrozen,"call",xe=>xe()])&&ae.type!==le.FullSnapshot&&!(ae.type===le.IncrementalSnapshot&&ae.data.source===ne.Mutation)&&_s.forEach(xe=>xe.unfreeze()),me)Ot([e,"optionalCall",xe=>xe(ii(ae),Fe)]);else if(Re){const xe={type:"rrweb",event:ii(ae),origin:window.location.origin,isCheckout:Fe};window.parent.postMessage(xe,"*")}if(ae.type===le.FullSnapshot)_n=ae,ts=0;else if(ae.type===le.IncrementalSnapshot){if(ae.data.source===ne.Mutation&&ae.data.isAttachIframe)return;ts++;const xe=r&&ts>=r,$=n&&_n&&ae.timestamp-_n.timestamp>n;(xe||$)&&ss(!0)}},"wrappedEmit");const ns=o(ge=>{Ue({type:le.IncrementalSnapshot,data:{source:ne.Mutation,...ge}})},"wrappedMutationEmit"),yr=o(ge=>Ue({type:le.IncrementalSnapshot,data:{source:ne.Scroll,...ge}}),"wrappedScrollEmit"),_o=o(ge=>Ue({type:le.IncrementalSnapshot,data:{source:ne.CanvasMutation,...ge}}),"wrappedCanvasMutationEmit"),vr=o(ge=>Ue({type:le.IncrementalSnapshot,data:{source:ne.AdoptedStyleSheet,...ge}}),"wrappedAdoptedStyleSheetEmit"),wn=new ER({mutationCb:ns,adoptedStyleSheetCb:vr}),Wt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new bR:new _R({mirror:Ht,mutationCb:ns,stylesheetManager:wn,recordCrossOriginIframes:A,wrappedEmit:Ue});for(const ge of Q||[])ge.getMirror&&ge.getMirror({nodeMirror:Ht,crossOriginIframeMirror:Wt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Wt.crossOriginIframeStyleMirror});const Sn=new TR,br=IR(Dt,{mirror:Ht,win:window,mutationCb:ge=>Ue({type:le.IncrementalSnapshot,data:{source:ne.CanvasMutation,...ge}}),recordCanvas:x,blockClass:s,blockSelector:i,unblockSelector:a,maxCanvasSize:I,sampling:E.canvas,dataURLOptions:v,errorHandler:Xe}),rs=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new wR:new SR({mutationCb:ns,scrollCb:yr,bypassOptions:{onMutation:bt,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:f,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:m,inlineStylesheet:p,maskInputOptions:$e,dataURLOptions:v,maskAttributeFn:_,maskTextFn:R,maskInputFn:w,recordCanvas:x,inlineImages:N,sampling:E,slimDOMOptions:ut,iframeManager:Wt,stylesheetManager:wn,canvasManager:br,keepIframeSrcFn:j,processedNodeManager:Sn},mirror:Ht}),ss=o((ge=!1)=>{if(!k)return;Ue({type:le.Meta,data:{href:window.location.href,width:qy(),height:zy()}},ge),wn.reset(),rs.init(),_s.forEach(ae=>ae.lock());const Fe=Gx(document,{mirror:Ht,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:f,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:m,inlineStylesheet:p,maskAllInputs:$e,maskAttributeFn:_,maskInputFn:w,maskTextFn:R,slimDOM:ut,dataURLOptions:v,recordCanvas:x,inlineImages:N,onSerialize:ae=>{Vy(ae,Ht)&&Wt.addIframe(ae),Gy(ae,Ht)&&wn.trackLinkElement(ae),dl(ae)&&rs.addShadowRoot(ae.shadowRoot,document)},onIframeLoad:(ae,xe)=>{Wt.attachIframe(ae,xe),ae.contentWindow&&br.addWindow(ae.contentWindow),rs.observeAttachShadow(ae)},onStylesheetLoad:(ae,xe)=>{wn.attachLinkElement(ae,xe)},keepIframeSrcFn:j});if(!Fe)return console.warn("Failed to snapshot the document");Ue({type:le.FullSnapshot,data:{node:Fe,initialOffset:jy(window)}}),_s.forEach(ae=>ae.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&wn.adoptStyleSheets(document.adoptedStyleSheets,Ht.getId(document))},"takeFullSnapshot");Ra=ss;try{const ge=[],Fe=o(xe=>ve(vR)({onMutation:bt,mutationCb:ns,mousemoveCb:($,de)=>Ue({type:le.IncrementalSnapshot,data:{source:de,positions:$}}),mouseInteractionCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.MouseInteraction,...$}}),scrollCb:yr,viewportResizeCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.ViewportResize,...$}}),inputCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.Input,...$}}),mediaInteractionCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.MediaInteraction,...$}}),styleSheetRuleCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.StyleSheetRule,...$}}),styleDeclarationCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.StyleDeclaration,...$}}),canvasMutationCb:_o,fontCb:$=>Ue({type:le.IncrementalSnapshot,data:{source:ne.Font,...$}}),selectionCb:$=>{Ue({type:le.IncrementalSnapshot,data:{source:ne.Selection,...$}})},customElementCb:$=>{Ue({type:le.IncrementalSnapshot,data:{source:ne.CustomElement,...$}})},blockClass:s,ignoreClass:c,ignoreSelector:u,maskAllText:l,maskTextClass:f,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:m,maskInputOptions:$e,inlineStylesheet:p,sampling:E,recordDOM:k,recordCanvas:x,inlineImages:N,userTriggeredOnInput:B,collectFonts:F,doc:xe,maskAttributeFn:_,maskInputFn:w,maskTextFn:R,keepIframeSrcFn:j,blockSelector:i,unblockSelector:a,slimDOMOptions:ut,dataURLOptions:v,mirror:Ht,iframeManager:Wt,stylesheetManager:wn,shadowDomManager:rs,processedNodeManager:Sn,canvasManager:br,ignoreCSSAttributes:Se,plugins:Ot([Q,"optionalAccess",$=>$.filter,"call",$=>$(de=>de.observer),"optionalAccess",$=>$.map,"call",$=>$(de=>({observer:de.observer,options:de.options,callback:re=>Ue({type:le.Plugin,data:{plugin:de.name,payload:re}})}))])||[]},{}),"observe");Wt.addLoadListener(xe=>{try{ge.push(Fe(xe.contentDocument))}catch($){}});const ae=o(()=>{ss(),ge.push(Fe(document))},"init");return document.readyState==="interactive"||document.readyState==="complete"?ae():(ge.push(ht("DOMContentLoaded",()=>{Ue({type:le.DomContentLoaded,data:{}}),P==="DOMContentLoaded"&&ae()})),ge.push(ht("load",()=>{Ue({type:le.Load,data:{}}),P==="load"&&ae()},window))),()=>{ge.forEach(xe=>xe()),Sn.destroy(),Ra=void 0,oR()}}catch(ge){}}o(Dn,"record");function kR(t){if(!Ra)throw new Error("please take full snapshot after start recording");Ra(t)}o(kR,"takeFullSnapshot");Dn.mirror=Ht;Dn.takeFullSnapshot=kR;function IR(t,e){try{return t?t(e):new Wh}catch{return new Wh}}o(IR,"_getCanvasManager");const G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Hh=["info","warn","error","log"],Qo="[Replay] ";function eu(t,e="info"){cr({category:"console",data:{logger:"replay"},level:e,message:`${Qo}${t}`},{level:e})}o(eu,"_addBreadcrumb");function xR(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{t=r.captureExceptions,e=r.traceInternals}};return G?(Hh.forEach(r=>{n[r]=(...s)=>{M[r](Qo,...s),e&&eu(s.join(""),Mg(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),M.error(Qo,r),t?uc(r):e&&eu(r,"error")},n.infoTick=(...r)=>{M.info(Qo,...r),e&&setTimeout(()=>eu(r[0]),0)}):Hh.forEach(r=>{n[r]=()=>{}}),n}o(xR,"makeReplayLogger");const J=xR(),RR=3,CR=5;function Rd(t){return t>9999999999?t:t*1e3}o(Rd,"timestampToMs");function tu(t){return t>9999999999?t/1e3:t}o(tu,"timestampToS");function ho(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:le.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:un(e,10,1e3)}}),e.category==="console")))}o(ho,"addBreadcrumbEvent");const AR="button,a";function ev(t){return t.closest(AR)||t}o(ev,"getClosestInteractive");function tv(t){const e=nv(t);return!e||!(e instanceof Element)?e:ev(e)}o(tv,"getClickTargetNode");function nv(t){return OR(t)?t.target:t}o(nv,"getTargetNode");function OR(t){return typeof t=="object"&&!!t&&"target"in t}o(OR,"isEventWithTarget");let Kn;function PR(t){return Kn||(Kn=[],MR()),Kn.push(t),()=>{const e=Kn?Kn.indexOf(t):-1;e>-1&&Kn.splice(e,1)}}o(PR,"onWindowOpen");function MR(){wt(Oe,"open",function(t){return function(...e){if(Kn)try{Kn.forEach(n=>n())}catch{}return t.apply(Oe,e)}})}o(MR,"monkeyPatchWindowOpen");const NR=new Set([ne.Mutation,ne.StyleSheetRule,ne.StyleDeclaration,ne.AdoptedStyleSheet,ne.CanvasMutation,ne.Selection,ne.MediaInteraction]);function DR(t,e,n){t.handleClick(e,n)}o(DR,"handleClick");class LR{static{o(this,"ClickDetector")}constructor(e,n,r=ho){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=PR(()=>{this._lastMutation=Vh()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(UR(n,this._ignoreSelector)||!BR(e))return;const r={timestamp:tu(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=tu(e)}registerScroll(e=Date.now()){this._lastScroll=tu(e)}registerClick(e){const n=ev(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=Vh();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:a,clickBreadcrumb:c}=e;if(i){const u=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,l=u<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:{...c.data,url:Oe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:u,endReason:l,clickCount:a||1}};this._addBreadcrumbEvent(n,f);return}if(a>1){const u={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:{...c.data,url:Oe.location.href,route:n.getCurrentRoute(),clickCount:a,metric:!0}};this._addBreadcrumbEvent(n,u)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ls(()=>this._checkClicks(),1e3)}}const FR=["A","BUTTON","INPUT"];function UR(t,e){return!!(!FR.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}o(UR,"ignoreElement");function BR(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}o(BR,"isClickBreadcrumb");function Vh(){return Date.now()/1e3}o(Vh,"nowInSeconds");function $R(t,e){try{if(!jR(e))return;const{source:n}=e.data;if(NR.has(n)&&t.registerMutation(e.timestamp),n===ne.Scroll&&t.registerScroll(e.timestamp),zR(e)){const{type:r,id:s}=e.data,i=Dn.mirror.getNode(s);i instanceof HTMLElement&&r===ft.Click&&t.registerClick(i)}}catch{}}o($R,"updateClickDetectorForRecordingEvent");function jR(t){return t.type===RR}o(jR,"isIncrementalEvent");function zR(t){return t.data.source===ne.MouseInteraction}o(zR,"isIncrementalMouseInteraction");function hn(t){return{timestamp:Date.now()/1e3,type:"default",...t}}o(hn,"createBreadcrumb");var Ca;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Ca||(Ca={}));const qR=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function WR(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(qR.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}o(WR,"getAttributesToRecord");const HR=o(t=>e=>{if(!t.isEnabled())return;const n=VR(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&DR(t.clickDetector,n,tv(e.event)),ho(t,n)},"handleDomListener");function rv(t,e){const n=Dn.mirror.getId(t),r=n&&Dn.mirror.getNode(n),s=r&&Dn.mirror.getMeta(r),i=s&&KR(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(a=>a.type===Ca.Text&&a.textContent).filter(Boolean).map(a=>a.trim()).join(""),attributes:WR(i.attributes)}}:{}}}o(rv,"getBaseDomBreadcrumb");function VR(t){const{target:e,message:n}=GR(t);return hn({category:`ui.${t.name}`,...rv(e,n)})}o(VR,"handleDom");function GR(t){const e=t.name==="click";let n,r=null;try{r=e?tv(t.event):nv(t.event),n=Fn(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}o(GR,"getDomTarget");function KR(t){return t.type===Ca.Element}o(KR,"isElement");function ZR(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=YR(e);n&&ho(t,n)}o(ZR,"handleKeyboardEvent");function YR(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:a}=t;if(!a||QR(a)||!i)return null;const c=e||r||s,u=i.length===1;if(!c&&u)return null;const l=Fn(a,{maxStringLength:200})||"<unknown>",f=rv(a,l);return hn({category:"ui.keyDown",message:l,data:{...f.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}o(YR,"getKeyboardBreadcrumb");function QR(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}o(QR,"isInputElement");const XR={resource:rC,paint:tC,navigation:nC};function Do(t,e){return({metric:n})=>void e.replayPerformanceEntries.push(t(n))}o(Do,"webVitalHandler");function JR(t){return t.map(eC).filter(Boolean)}o(JR,"createPerformanceEntries");function eC(t){const e=XR[t.entryType];return e?e(t):null}o(eC,"createPerformanceEntry");function Bs(t){return((mt||Oe.performance.timeOrigin)+t)/1e3}o(Bs,"getAbsoluteTime$1");function tC(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=Bs(s);return{type:n,name:r,start:i,end:i+e,data:void 0}}o(tC,"createPaintEntry");function nC(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,domInteractive:l,loadEventStart:f,loadEventEnd:d,redirectCount:h,startTime:m,transferSize:p,type:g}=t;return s===0?null:{type:`${e}.${g}`,start:Bs(m),end:Bs(i),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:a,duration:s,domInteractive:l,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,loadEventStart:f,loadEventEnd:d,domComplete:i,redirectCount:h}}}o(nC,"createNavigationEntry");function rC(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:a,encodedBodySize:c,responseStatus:u,transferSize:l}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Bs(i),end:Bs(s),name:r,data:{size:l,statusCode:u,decodedBodySize:a,encodedBodySize:c}}}o(rC,"createResourceEntry");function sC(t){const e=t.entries[t.entries.length-1],n=e&&e.element?[e.element]:void 0;return mc(t,"largest-contentful-paint",n)}o(sC,"getLargestContentfulPaint");function iC(t){return t.sources!==void 0}o(iC,"isLayoutShift");function oC(t){const e=[],n=[];for(const r of t.entries)if(iC(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const a=Dn.mirror.getId(i.node);a&&s.push(a)}e.push({value:r.value,nodeIds:s.length?s:void 0})}return mc(t,"cumulative-layout-shift",n,e)}o(oC,"getCumulativeLayoutShift");function aC(t){const e=t.entries[t.entries.length-1],n=e&&e.target?[e.target]:void 0;return mc(t,"first-input-delay",n)}o(aC,"getFirstInputDelay");function cC(t){const e=t.entries[t.entries.length-1],n=e&&e.target?[e.target]:void 0;return mc(t,"interaction-to-next-paint",n)}o(cC,"getInteractionToNextPaint");function mc(t,e,n,r){const s=t.value,i=t.rating,a=Bs(s);return{type:"web-vital",name:e,start:a,end:a,data:{value:s,size:s,rating:i,nodeIds:n?n.map(c=>Dn.mirror.getId(c)):void 0,attributions:r}}}o(mc,"getWebVital");function uC(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}o(e,"addPerformanceEntry");function n({entries:s}){s.forEach(e)}o(n,"onEntries");const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ds(s,n))}),r.push(wy(Do(sC,t)),bd(Do(oC,t)),Sy(Do(aC,t)),Ey(Do(cC,t))),()=>{r.forEach(s=>s())}}o(uC,"setupPerformanceObserver");const lC='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function dC(){const t=new Blob([lC]);return URL.createObjectURL(t)}o(dC,"e$3");class Cd extends Error{static{o(this,"EventBufferSizeExceededError")}constructor(){super(`Event buffer exceeded maximum size of ${Ed}.`)}}class sv{static{o(this,"EventBufferArray")}constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>Ed)throw new Cd;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?Rd(e):null}}class fC{static{o(this,"WorkerHandler")}constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){G&&J.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const a=o(({data:c})=>{const u=c;if(u.method===e&&u.id===r){if(this._worker.removeEventListener("message",a),!u.success){G&&J.error("Error in compression worker: ",u.response),i(new Error("Error in compression worker"));return}s(u.response)}},"listener");this._worker.addEventListener("message",a),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class hC{static{o(this,"EventBufferCompressionWorker")}constructor(e){this._worker=new fC(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=Rd(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>Ed?Promise.reject(new Cd):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{G&&J.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class pC{static{o(this,"EventBufferProxy")}constructor(e){this._fallback=new sv,this._compression=new hC(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){G&&J.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(s){G&&J.exception(s,"Failed to add events when switching buffers.")}}}function mC({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=gC(e);if(n)return n}return G&&J.info("Using simple buffer"),new sv}o(mC,"createEventBuffer");function gC(t){try{const e=t||yC();if(!e)return;G&&J.info(`Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new pC(n)}catch(e){G&&J.exception(e,"Failed to create compression worker")}}o(gC,"_loadWorker");function yC(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?dC():""}o(yC,"_getWorkerUrl");function Ad(){try{return"sessionStorage"in Oe&&!!Oe.sessionStorage}catch{return!1}}o(Ad,"hasSessionStorage");function vC(t){bC(),t.session=void 0}o(vC,"clearSession");function bC(){if(Ad())try{Oe.sessionStorage.removeItem(wd)}catch{}}o(bC,"deleteSession");function iv(t){return t===void 0?!1:Math.random()<t}o(iv,"isSampled");function ov(t){const e=Date.now(),n=t.id||Me(),r=t.started||e,s=t.lastActivity||e,i=t.segmentId||0,a=t.sampled,c=t.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:a,previousSessionId:c}}o(ov,"makeSession");function Od(t){if(Ad())try{Oe.sessionStorage.setItem(wd,JSON.stringify(t))}catch{}}o(Od,"saveSession");function _C(t,e){return iv(t)?"session":e?"buffer":!1}o(_C,"getSessionSampleType");function Gh({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=_C(t,e),i=ov({sampled:s,previousSessionId:r});return n&&Od(i),i}o(Gh,"createSession");function wC(){if(!Ad())return null;try{const t=Oe.sessionStorage.getItem(wd);if(!t)return null;const e=JSON.parse(t);return G&&J.infoTick("Loading existing session"),ov(e)}catch{return null}}o(wC,"fetchSession");function pl(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}o(pl,"isExpired");function av(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return pl(t.started,e,r)||pl(t.lastActivity,n,r)}o(av,"isSessionExpired$1");function cv(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!av(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}o(cv,"shouldRefreshSession");function nu({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},r){const s=r.stickySession&&wC();return s?cv(s,{sessionIdleExpire:t,maxReplayDuration:e})?(G&&J.infoTick("Session in sessionStorage is expired, creating new one..."),Gh(r,{previousSessionId:s.id})):s:(G&&J.infoTick("Creating new session"),Gh(r,{previousSessionId:n}))}o(nu,"loadOrCreateSession");function SC(t){return t.type===le.Custom}o(SC,"isCustomEvent");function Pd(t,e,n){return lv(t,e)?(uv(t,e,n),!0):!1}o(Pd,"addEventSync");function EC(t,e,n){return lv(t,e)?uv(t,e,n):Promise.resolve(null)}o(EC,"addEvent");async function uv(t,e,n){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),s=TC(e,r.beforeAddRecordingEvent);return s?await t.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof Cd?"addEventSizeExceeded":"addEvent";t.handleException(r),await t.stop({reason:s});const i=fe();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}o(uv,"_addEvent");function lv(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Rd(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(G&&J.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}o(lv,"shouldAddEvent");function TC(t,e){try{if(typeof e=="function"&&SC(t))return e(t)}catch(n){return G&&J.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}o(TC,"maybeApplyCallback");function Md(t){return!t.type}o(Md,"isErrorEvent");function ml(t){return t.type==="transaction"}o(ml,"isTransactionEvent");function kC(t){return t.type==="replay_event"}o(kC,"isReplayEvent");function Kh(t){return t.type==="feedback"}o(Kh,"isFeedbackEvent");function IC(t){return(e,n)=>{if(!t.isEnabled()||!Md(e)&&!ml(e))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(ml(e)){xC(t,e);return}RC(t,e)}}}o(IC,"handleAfterSendEvent");function xC(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}o(xC,"handleTransactionEvent");function RC(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||Ls(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(s){t.handleException(s)}})}o(RC,"handleErrorEvent");function CC(t){return e=>{!t.isEnabled()||!Md(e)||AC(t,e)}}o(CC,"handleBeforeSendEvent");function AC(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=hn({category:"replay.hydrate-error",data:{url:gg()}});ho(t,r)}}o(AC,"handleHydrationError");function OC(t){const e=fe();e&&e.on("beforeAddBreadcrumb",n=>PC(t,n))}o(OC,"handleBreadcrumbs");function PC(t,e){if(!t.isEnabled()||!dv(e))return;const n=MC(e);n&&ho(t,n)}o(PC,"beforeAddBreadcrumb");function MC(t){return!dv(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?NC(t):hn(t)}o(MC,"normalizeBreadcrumb");function NC(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return hn(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Po?(n=!0,`${s.slice(0,Po)}`):s;if(typeof s=="object")try{const i=un(s,7);return JSON.stringify(i).length>Po?(n=!0,`${JSON.stringify(i,null,2).slice(0,Po)}`):i}catch{}return s});return hn({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}o(NC,"normalizeConsoleBreadcrumb");function dv(t){return!!t.category}o(dv,"isBreadcrumbWithCategory");function DC(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}o(DC,"isRrwebError");function LC(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:le.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}o(LC,"addFeedbackBreadcrumb");function FC(t,e){return t.recordingMode!=="buffer"||e.message===Sd||!e.exception||e.type?!1:iv(t.getOptions().errorSampleRate)}o(FC,"shouldSampleForBufferEvent");function UC(t){return Object.assign((e,n)=>!t.isEnabled()||t.isPaused()?e:kC(e)?(delete e.breadcrumbs,e):!Md(e)&&!ml(e)&&!Kh(e)||!t.checkAndHandleExpiredSession()?e:Kh(e)?(t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),LC(t,e),e):DC(e,n)&&!t.getOptions()._experiments.captureExceptions?(G&&J.log("Ignoring error from rrweb internals",e),null):((FC(t,e)||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),e),{id:"Replay"})}o(UC,"handleGlobalEventListener");function gc(t,e){return e.map(({type:n,start:r,end:s,name:i,data:a})=>{const c=t.throttledAddEvent({type:le.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:a}}});return typeof c=="string"?Promise.resolve(null):c})}o(gc,"createPerformanceSpans");function BC(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}o(BC,"handleHistory");function $C(t){return e=>{if(!t.isEnabled())return;const n=BC(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(gc(t,[n]),!1)))}}o($C,"handleHistorySpanListener");function jC(t,e){return G&&t.getOptions()._experiments.traceInternals?!1:hT(e,fe())}o(jC,"shouldFilterRequest");function fv(t,e){t.isEnabled()&&e!==null&&(jC(t,e.name)||t.addUpdate(()=>(gc(t,[e]),!0)))}o(fv,"addNetworkBreadcrumb");function yc(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=gv(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}o(yc,"getBodySize");function hv(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}o(hv,"parseContentLengthHeader");function pv(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[gv(t)];if(!t)return[void 0]}catch(e){return G&&J.exception(e,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return G&&J.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}o(pv,"getBodyString");function Aa(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}o(Aa,"mergeWarning");function mv(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:a,request:c,response:u}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:Qe({method:i,statusCode:a,request:c,response:u})}}o(mv,"makeNetworkReplayBreadcrumb");function Fi(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}o(Fi,"buildSkippedNetworkRequestOrResponse");function sr(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=zC(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}o(sr,"buildNetworkRequestOrResponse");function gl(t,e){return Object.entries(t).reduce((n,[r,s])=>{const i=r.toLowerCase();return e.includes(i)&&t[r]&&(n[i]=s),n},{})}o(gl,"getAllowedHeaders");function gv(t){return new URLSearchParams(t).toString()}o(gv,"_serializeFormData");function zC(t){if(!t||typeof t!="string")return{body:t};const e=t.length>Ah,n=qC(t);if(e){const r=t.slice(0,Ah);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}o(zC,"normalizeNetworkBody");function qC(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}o(qC,"_strIsProbablyJson");function Oa(t,e){const n=WC(t);return rr(n,e)}o(Oa,"urlMatches");function WC(t,e=Oe.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Oe.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}o(WC,"getFullUrl");async function HC(t,e,n){try{const r=await GC(t,e,n),s=mv("resource.fetch",r);fv(n.replay,s)}catch(r){G&&J.exception(r,"Failed to capture fetch breadcrumb")}}o(HC,"captureFetchBreadcrumbToReplay");function VC(t,e){const{input:n,response:r}=e,s=n?yv(n):void 0,i=yc(s),a=r?hv(r.headers.get("content-length")):void 0;i!==void 0&&(t.data.request_body_size=i),a!==void 0&&(t.data.response_body_size=a)}o(VC,"enrichFetchBreadcrumb");async function GC(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:a,method:c,status_code:u=0,request_body_size:l,response_body_size:f}=t.data,d=Oa(a,n.networkDetailAllowUrls)&&!Oa(a,n.networkDetailDenyUrls),h=d?KC(n,e.input,l):Fi(l),m=await ZC(d,n,e.response,f);return{startTimestamp:s,endTimestamp:i,url:a,method:c,statusCode:u,request:h,response:m}}o(GC,"_prepareFetchData");function KC({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?XC(n,e):{};if(!t)return sr(s,r,void 0);const i=yv(n),[a,c]=pv(i),u=sr(s,r,a);return c?Aa(u,c):u}o(KC,"_getRequestInfo");async function ZC(t,{networkCaptureBodies:e,networkResponseHeaders:n},r,s){if(!t&&s!==void 0)return Fi(s);const i=r?vv(r.headers,n):{};if(!r||!e&&s!==void 0)return sr(i,s,void 0);const[a,c]=await QC(r),u=YC(a,{networkCaptureBodies:e,responseBodySize:s,captureDetails:t,headers:i});return c?Aa(u,c):u}o(ZC,"_getResponseInfo");function YC(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:r,headers:s}){try{const i=t&&t.length&&n===void 0?yc(t):n;return r?e?sr(s,i,t):sr(s,i,void 0):Fi(i)}catch(i){return G&&J.exception(i,"Failed to serialize response body"),sr(s,n,void 0)}}o(YC,"getResponseData");async function QC(t){const e=JC(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await eA(e)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(G&&J.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(G&&J.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}o(QC,"_parseFetchResponseBody");function yv(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}o(yv,"_getFetchRequestArgBody");function vv(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}o(vv,"getAllHeaders");function XC(t,e){return t.length===1&&typeof t[0]!="string"?Zh(t[0],e):t.length===2?Zh(t[1],e):{}}o(XC,"getRequestHeaders");function Zh(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?vv(n,e):Array.isArray(n)?{}:gl(n,e):{}}o(Zh,"getHeadersFromOptions");function JC(t){try{return t.clone()}catch(e){G&&J.exception(e,"Failed to clone response body")}}o(JC,"_tryCloneResponse");function eA(t){return new Promise((e,n)=>{const r=Ls(()=>n(new Error("Timeout while trying to read response body")),500);tA(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}o(eA,"_tryGetResponseText");async function tA(t){return await t.text()}o(tA,"_getResponseText");async function nA(t,e,n){try{const r=sA(t,e,n),s=mv("resource.xhr",r);fv(n.replay,s)}catch(r){G&&J.exception(r,"Failed to capture xhr breadcrumb")}}o(nA,"captureXhrBreadcrumbToReplay");function rA(t,e){const{xhr:n,input:r}=e;if(!n)return;const s=yc(r),i=n.getResponseHeader("content-length")?hv(n.getResponseHeader("content-length")):cA(n.response,n.responseType);s!==void 0&&(t.data.request_body_size=s),i!==void 0&&(t.data.response_body_size=i)}o(rA,"enrichXhrBreadcrumb");function sA(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:a,xhr:c}=e,{url:u,method:l,status_code:f=0,request_body_size:d,response_body_size:h}=t.data;if(!u)return null;if(!c||!Oa(u,n.networkDetailAllowUrls)||Oa(u,n.networkDetailDenyUrls)){const S=Fi(d),E=Fi(h);return{startTimestamp:s,endTimestamp:i,url:u,method:l,statusCode:f,request:S,response:E}}const m=c[xr],p=m?gl(m.request_headers,n.networkRequestHeaders):{},g=gl(iA(c),n.networkResponseHeaders),[y,b]=n.networkCaptureBodies?pv(a):[void 0],[_,w]=n.networkCaptureBodies?oA(c):[void 0],R=sr(p,d,y),I=sr(g,h,_);return{startTimestamp:s,endTimestamp:i,url:u,method:l,statusCode:f,request:b?Aa(R,b):R,response:w?Aa(I,w):I}}o(sA,"_prepareXhrData");function iA(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}o(iA,"getResponseHeaders");function oA(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return aA(t.response,t.responseType)}catch(n){e.push(n)}return G&&J.warn("Failed to get xhr response body",...e),[void 0]}o(oA,"_getXhrResponseBody");function aA(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return G&&J.exception(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return G&&J.info("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}o(aA,"_parseXhrResponse");function cA(t,e){try{const n=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return yc(n)}catch{return}}o(cA,"_getBodySize");function uA(t){const e=fe();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=t.getOptions(),c={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};e&&e.on("beforeAddBreadcrumb",(u,l)=>lA(c,u,l))}catch{}}o(uA,"handleNetworkBreadcrumbs");function lA(t,e,n){if(e.data)try{dA(e)&&hA(n)&&(rA(e,n),nA(e,n,t)),fA(e)&&pA(n)&&(VC(e,n),HC(e,n,t))}catch(r){G&&J.exception(r,"Error when enriching network breadcrumb")}}o(lA,"beforeAddNetworkBreadcrumb");function dA(t){return t.category==="xhr"}o(dA,"_isXhrBreadcrumb");function fA(t){return t.category==="fetch"}o(fA,"_isFetchBreadcrumb");function hA(t){return t&&t.xhr}o(hA,"_isXhrHint");function pA(t){return t&&t.response}o(pA,"_isFetchHint");function mA(t){const e=fe();xy(HR(t)),dc($C(t)),OC(t),uA(t);const n=UC(t);QE(n),e&&(e.on("beforeSendEvent",CC(t)),e.on("afterSendEvent",IC(t)),e.on("createDsc",r=>{const s=t.getSessionId();s&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(r.replay_id=s)}),e.on("spanStart",r=>{t.lastActiveSpan=r}),e.on("spanEnd",r=>{t.lastActiveSpan=r}),e.on("beforeSendFeedback",(r,s)=>{const i=t.getSessionId();s&&s.includeReplay&&t.isEnabled()&&i&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=i)}))}o(mA,"addGlobalListeners");async function gA(t){try{return Promise.all(gc(t,[yA(Oe.performance.memory)]))}catch{return[]}}o(gA,"addMemoryEntry");function yA(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}o(yA,"createMemoryEntry");function vA(t,e,n){let r,s,i;const a=n&&n.maxWait?Math.max(n.maxWait,e):0;function c(){return u(),r=t(),r}o(c,"invokeFunc");function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}o(u,"cancelTimers");function l(){return s!==void 0||i!==void 0?c():r}o(l,"flush");function f(){return s&&clearTimeout(s),s=Ls(c,e),a&&i===void 0&&(i=Ls(c,a)),r}return o(f,"debounced"),f.cancel=u,f.flush=l,f}o(vA,"debounce");function bA(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){G&&J.warn("Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&$R(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!Pd(t,n,s))return!0;if(!s)return!1;const i=t.session;if(wA(t,s),t.recordingMode==="buffer"&&i&&t.eventBuffer){const a=t.eventBuffer.getEarliestTimestamp();a&&(G&&J.info(`Updating session start time to earliest event in buffer to ${new Date(a)}`),i.started=a,t.getOptions().stickySession&&Od(i))}return i&&i.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}o(bA,"getHandleRecordingEmit");function _A(t){const e=t.getOptions();return{type:le.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}o(_A,"createOptionsEvent");function wA(t,e){!e||!t.session||t.session.segmentId!==0||Pd(t,_A(t),!1)}o(wA,"addSettingsEvent");function SA(){const t=ke().getPropagationContext().dsc;t&&delete t.replay_id;const e=ct();if(e){const n=gr(e);delete n.replay_id}}o(SA,"resetReplayIdOnDynamicSamplingContext");function EA(t,e,n,r){return Gr(Lg(t,cd(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}o(EA,"createReplayEnvelope");function TA({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}o(TA,"prepareRecordingData");async function kA({client:t,scope:e,replayId:n,event:r}){const s=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,i={event_id:n,integrations:s};t.emit("preprocessEvent",r,i);const a=await ey(t.getOptions(),r,i,e,t,vt());if(!a)return null;a.platform=a.platform||"javascript";const c=t.getSdkMetadata(),{name:u,version:l}=c&&c.sdk||{};return a.sdk={...a.sdk,name:u||"sentry.javascript.unknown",version:l||"0.0.0"},a}o(kA,"prepareReplayEvent");async function IA({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const a=TA({recordingData:t,headers:{segment_id:n}}),{urls:c,errorIds:u,traceIds:l,initialTimestamp:f}=r,d=fe(),h=ke(),m=d&&d.getTransport(),p=d&&d.getDsn();if(!d||!m||!p||!i.sampled)return Bn({});const g={type:ox,replay_start_timestamp:f/1e3,timestamp:s/1e3,error_ids:u,trace_ids:l,urls:c,replay_id:e,segment_id:n,replay_type:i.sampled},y=await kA({scope:h,client:d,replayId:e,event:g});if(!y)return d.recordDroppedEvent("event_processor","replay",g),G&&J.info("An event processor returned `null`, will not send event."),Bn({});delete y.sdkProcessingMetadata;const b=EA(y,a,p,d.getOptions().tunnel);let _;try{_=await m.send(b)}catch(R){const I=new Error(Sd);try{I.cause=R}catch{}throw I}if(typeof _.statusCode=="number"&&(_.statusCode<200||_.statusCode>=300))throw new bv(_.statusCode);const w=Ug({},_);if(Fg(w,"replay"))throw new Nd(w);return _}o(IA,"sendReplayRequest");class bv extends Error{static{o(this,"TransportStatusCodeError")}constructor(e){super(`Transport returned status code ${e}`)}}class Nd extends Error{static{o(this,"RateLimitError")}constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function _v(t,e={count:0,interval:fx}){const{recordingData:n,onError:r}=t;if(n.length)try{return await IA(t),!0}catch(s){if(s instanceof bv||s instanceof Nd)throw s;if(pd("Replays",{_retryCount:e.count}),r&&r(s),e.count>=hx){const i=new Error(`${Sd} - max retries exceeded`);try{i.cause=s}catch{}throw i}return e.interval*=++e.count,new Promise((i,a)=>{Ls(async()=>{try{await _v(t,e),i(!0)}catch(c){a(c)}},e.interval)})}}o(_v,"sendReplay");const wv="__THROTTLED",xA="__SKIPPED";function RA(t,e,n){const r=new Map,s=o(c=>{const u=c-n;r.forEach((l,f)=>{f<u&&r.delete(f)})},"_cleanup"),i=o(()=>[...r.values()].reduce((c,u)=>c+u,0),"_getTotalCount");let a=!1;return(...c)=>{const u=Math.floor(Date.now()/1e3);if(s(u),i()>=e){const f=a;return a=!0,f?xA:wv}a=!1;const l=r.get(u)||0;return r.set(u,l+1),t(...c)}}o(RA,"throttle");class Zn{static{o(this,"ReplayContainer")}constructor({options:e,recordingOptions:n}){Zn.prototype.__init.call(this),Zn.prototype.__init2.call(this),Zn.prototype.__init3.call(this),Zn.prototype.__init4.call(this),Zn.prototype.__init5.call(this),Zn.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:ax,sessionIdleExpire:cx},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=vA(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=RA((a,c)=>EC(this,a,c),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(px,r),timeout:r,scrollTimeout:mx,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new LR(this,i)),G){const a=e._experiments;J.setConfig({captureExceptions:!!a.captureExceptions,traceInternals:!!a.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){G&&J.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(e),!this.session){G&&J.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",G&&J.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){G&&J.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){G&&J.info("Buffering is in progress, call `flush()` to save the replay");return}G&&J.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=nu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled){G&&J.info("Buffering is in progress, call `flush()` to save the replay");return}G&&J.infoTick("Starting replay in buffer mode");const e=nu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Dn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:dx}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:bA(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{G&&J.info(`Stopping Replay${n?` triggered by ${n}`:""}`),SA(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,vC(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),G&&J.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),G&&J.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();G&&J.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&pl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Oe.location.pathname}${Oe.location.hash}${Oe.location.search}`,n=`${Oe.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===wv){const s=hn({category:"replay.throttled"});this.addUpdate(()=>!Pd(this,{type:CR,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastActiveSpan||ct(),n=e&&at(e),s=(n&&_e(n).data||{})[On];if(!(!n||!s||!["route","custom"].includes(s)))return _e(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=mC({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=nu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return cv(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Oe.document.addEventListener("visibilitychange",this._handleVisibilityChange),Oe.addEventListener("blur",this._handleWindowBlur),Oe.addEventListener("focus",this._handleWindowFocus),Oe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(mA(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=uC(this)}_removeListeners(){try{Oe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Oe.removeEventListener("blur",this._handleWindowBlur),Oe.removeEventListener("focus",this._handleWindowFocus),Oe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}__init(){this._handleVisibilityChange=()=>{Oe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=hn({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=hn({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{ZR(this,e)}}_doChangeToBackgroundTasks(e){!this.session||av(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){G&&J.info("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:le.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=JR(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;e=e.filter(r=>r.start>=n)}return Promise.all(gc(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||this._requiresManualStart||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){G&&J.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await gA(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await _v({replayId:e,recordingData:i,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:a=>this.handleException(a)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=fe();if(r){const s=n instanceof Nd?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){G&&J.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,a=s>this._options.maxReplayDuration+5e3;if(i||a){G&&J.info(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const c=this.eventBuffer;c&&this.session.segmentId===0&&!c.hasCheckout&&G&&J.info("Flushing initial segment without checkout.");const u=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(l){this.handleException(l)}finally{this._flushLock=void 0,u&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Od(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const a=hn({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function ui(t,e){return[...t,...e].join(",")}o(ui,"getOption");function CA({mask:t,unmask:e,block:n,unblock:r,ignore:s}){const i=['base[href="/"]'],a=ui(t,[".sentry-mask","[data-sentry-mask]"]),c=ui(e,[]);return{maskTextSelector:a,unmaskTextSelector:c,blockSelector:ui(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:ui(r,[]),ignoreSelector:ui(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}o(CA,"getPrivacyOptions");function AA({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}o(AA,"maskAttribute");const Yh='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',OA=["content-length","content-type","accept"];let Qh=!1;const PA=o(t=>new vc(t),"replayIntegration");class vc{static{o(this,"Replay")}static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=ux,flushMaxDelay:n=lx,minReplayDuration:r=gx,maxReplayDuration:s=Oh,stickySession:i=!0,useCompression:a=!0,workerUrl:c,_experiments:u={},maskAllText:l=!0,maskAllInputs:f=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:h=750,mutationLimit:m=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:b=[],networkCaptureBodies:_=!0,networkRequestHeaders:w=[],networkResponseHeaders:R=[],mask:I=[],maskAttributes:S=["title","placeholder"],unmask:E=[],block:v=[],unblock:T=[],ignore:k=[],maskFn:x,beforeAddRecordingEvent:A,beforeErrorSampling:P,onError:B}={}){this.name=vc.id;const F=CA({mask:I,unmask:E,block:v,unblock:T,ignore:k});if(this._recordingOptions={maskAllInputs:f,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:x,maskInputFn:x,maskAttributeFn:(N,Q,j)=>AA({maskAttributes:S,maskAllText:l,privacyOptions:F,key:N,value:Q,el:j}),...F,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:N=>{try{N.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,yx),maxReplayDuration:Math.min(s,Oh),stickySession:i,useCompression:a,workerUrl:c,blockAllMedia:d,maskAllInputs:f,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:m,slowClickTimeout:p,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:b,networkCaptureBodies:_,networkRequestHeaders:Xh(w),networkResponseHeaders:Xh(R),beforeAddRecordingEvent:A,beforeErrorSampling:P,onError:B,_experiments:u},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Yh}`:Yh),this._isInitialized&&Vf())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Qh}set _isInitialized(e){Qh=e}afterAllSetup(e){!Vf()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const n=MA(this._initialOptions,e);this._replay=new Zn({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const n=e.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}vc.__initStatic();function MA(t,e){const n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Qe(t)},s=ba(n.replaysSessionSampleRate),i=ba(n.replaysOnErrorSampleRate);return s==null&&i==null&&Xs(()=>{}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}o(MA,"loadReplayOptionsFromClient");function Xh(t){return[...OA,...t.map(e=>e.toLowerCase())]}o(Xh,"_getMergedNetworkHeaders");const Jh=new WeakMap,ru=new Map,Xo={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function NA(t,e){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:a,tracePropagationTargets:c}={traceFetch:Xo.traceFetch,traceXHR:Xo.traceXHR,trackFetchStreamPerformance:Xo.trackFetchStreamPerformance,...e},u=typeof i=="function"?i:d=>!0,l=o(d=>UA(d,c),"shouldAttachHeadersWithTargets"),f={};n&&(t.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(h=>{if(h.op==="http.client"){const m=ru.get(h.span_id);m&&(h.timestamp=m/1e3,ru.delete(h.span_id))}}),d)),s&&d0(d=>{if(d.response){const h=Jh.get(d.response);h&&d.endTimestamp&&ru.set(h,d.endTimestamp)}}),Ig(d=>{const h=$T(d,u,l,f);if(d.response&&d.fetchData.__span&&Jh.set(d.response,d.fetchData.__span),h){const m=Sv(d.fetchData.url),p=m?Pr(m).host:void 0;h.setAttributes({"http.url":m,"server.address":p})}a&&h&&ep(h)})),r&&Cy(d=>{const h=BA(d,u,l,f);a&&h&&ep(h)})}o(NA,"instrumentOutgoingRequests");function DA(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(DA,"isPerformanceResourceTiming");function ep(t){const{url:e}=_e(t).data||{};if(!e||typeof e!="string")return;const n=Ds("resource",({entries:r})=>{r.forEach(s=>{DA(s)&&s.name.endsWith(e)&&(FA(s).forEach(a=>t.setAttribute(...a)),setTimeout(n))})})}o(ep,"addHTTPTimings");function LA(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}o(LA,"extractNetworkProtocol");function rn(t=0){return((mt||performance.timeOrigin)+t)/1e3}o(rn,"getAbsoluteTime");function FA(t){const{name:e,version:n}=LA(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),mt?[...r,["http.request.redirect_start",rn(t.redirectStart)],["http.request.fetch_start",rn(t.fetchStart)],["http.request.domain_lookup_start",rn(t.domainLookupStart)],["http.request.domain_lookup_end",rn(t.domainLookupEnd)],["http.request.connect_start",rn(t.connectStart)],["http.request.secure_connection_start",rn(t.secureConnectionStart)],["http.request.connection_end",rn(t.connectEnd)],["http.request.request_start",rn(t.requestStart)],["http.request.response_start",rn(t.responseStart)],["http.request.response_end",rn(t.responseEnd)]]:r}o(FA,"resourceTimingEntryToSpanData");function UA(t,e){const n=K.location&&K.location.href;if(n){let r,s;try{r=new URL(t,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return e?rr(r.toString(),e)||i&&rr(r.pathname,e):i}else{const r=!!t.match(/^\/(?!\/)/);return e?rr(t,e):r}}o(UA,"shouldAttachHeaders");function BA(t,e,n,r){const s=t.xhr,i=s&&s[xr];if(!s||s.__sentry_own_request__||!i)return;const a=$n()&&e(i.url);if(t.endTimestamp&&a){const h=s.__sentry_xhr_span_id__;if(!h)return;const m=r[h];m&&i.status_code!==void 0&&(jg(m,i.status_code),m.end(),delete r[h]);return}const c=Sv(i.url),u=c?Pr(c).host:void 0,l=!!ct(),f=a&&l?Zr({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":c,url:i.url,"server.address":u,[nt]:"auto.http.browser",[Br]:"http.client"}}):new ti;s.__sentry_xhr_span_id__=f.spanContext().spanId,r[s.__sentry_xhr_span_id__]=f;const d=fe();return s.setRequestHeader&&n(i.url)&&d&&$A(s,d,$n()&&l?f:void 0),f}o(BA,"xhrCallback");function $A(t,e,n){const r=ke(),s=vt(),{traceId:i,spanId:a,sampled:c,dsc:u}={...s.getPropagationContext(),...r.getPropagationContext()},l=n&&$n()?Wg(n):ad(i,a,c),f=Dg(u||(n?gr(n):cc(i,e)));jA(t,l,f)}o($A,"addTracingHeadersToXhrRequest");function jA(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(ls,n)}catch{}}o(jA,"setHeaderOnXhr");function Sv(t){try{return new URL(t,K.location.origin).href}catch{return}}o(Sv,"getFullURL");function zA(){K&&K.document?K.document.addEventListener("visibilitychange",()=>{const t=ct();if(!t)return;const e=at(t);if(K.document.hidden&&e){const n="cancelled",{op:r,status:s}=_e(e);St&&M.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||e.setStatus({code:et,message:n}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):St&&M.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(zA,"registerBackgroundTabDetection");const qA="BrowserTracing",WA={...Ko,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Xo},HA=o((t={})=>{hE();const{enableInp:e,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:i},beforeStartSpan:a,idleTimeout:c,finalTimeout:u,childSpanTimeout:l,markBackgroundSpan:f,traceFetch:d,traceXHR:h,trackFetchStreamPerformance:m,shouldCreateSpanForRequest:p,enableHTTPTimings:g,instrumentPageLoad:y,instrumentNavigation:b}={...WA,...t},_=Uk({recordClsStandaloneSpans:i||!1});e&&cI(),r&&pe.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?$k():n&&Bk(),s&&jk();const w={name:void 0,source:void 0};function R(I,S){const E=S.op==="pageload",v=a?a(S):S,T=v.attributes||{};S.name!==v.name&&(T[On]="custom",v.attributes=T),w.name=v.name,w.source=T[On];const k=Jg(v,{idleTimeout:c,finalTimeout:u,childSpanTimeout:l,disableAutoFinish:E,beforeSpanEnd:A=>{_(),Vk(A,{recordClsOnPageloadSpan:!i})}});function x(){["interactive","complete"].includes(K.document.readyState)&&I.emit("idleSpanEnableAutoFinish",k)}return o(x,"emitFinish"),E&&K.document&&(K.document.addEventListener("readystatechange",()=>{x()}),x()),k}return o(R,"_createRouteSpan"),{name:qA,afterAllSetup(I){let S,E=K.location&&K.location.href;I.on("startNavigationSpan",v=>{fe()===I&&(S&&!_e(S).timestamp&&(St&&M.log(`[Tracing] Finishing current root span with op: ${_e(S).op}`),S.end()),S=R(I,{op:"navigation",...v}))}),I.on("startPageLoadSpan",(v,T={})=>{if(fe()!==I)return;S&&!_e(S).timestamp&&(St&&M.log(`[Tracing] Finishing current root span with op: ${_e(S).op}`),S.end());const k=T.sentryTrace||tp("sentry-trace"),x=T.baggage||tp("baggage"),A=N0(k,x);ke().setPropagationContext(A),S=R(I,{op:"pageload",...v})}),I.on("spanEnd",v=>{const T=_e(v).op;if(v!==at(v)||T!=="navigation"&&T!=="pageload")return;const k=ke(),x=k.getPropagationContext();k.setPropagationContext({...x,sampled:x.sampled!==void 0?x.sampled:Kr(v),dsc:x.dsc||gr(v)})}),K.location&&(y&&VA(I,{name:K.location.pathname,startTime:mt?mt/1e3:void 0,attributes:{[On]:"url",[nt]:"auto.pageload.browser"}}),b&&dc(({to:v,from:T})=>{if(T===void 0&&E&&E.indexOf(v)!==-1){E=void 0;return}T!==v&&(E=void 0,GA(I,{name:K.location.pathname,attributes:{[On]:"url",[nt]:"auto.navigation.browser"}}))})),f&&zA(),s&&KA(c,u,l,w),e&&lI(),NA(I,{traceFetch:d,traceXHR:h,trackFetchStreamPerformance:m,tracePropagationTargets:I.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:g})}}},"browserTracingIntegration");function VA(t,e,n){t.emit("startPageLoadSpan",e,n),ke().setTransactionName(e.name);const r=ct();return(r&&_e(r).op)==="pageload"?r:void 0}o(VA,"startBrowserTracingPageLoadSpan");function GA(t,e){vt().setPropagationContext(ya()),ke().setPropagationContext(ya()),t.emit("startNavigationSpan",e),ke().setTransactionName(e.name);const n=ct();return(n&&_e(n).op)==="navigation"?n:void 0}o(GA,"startBrowserTracingNavigationSpan");function tp(t){const e=ZS(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o(tp,"getMetaContent");function KA(t,e,n,r){let s;const i=o(()=>{const a="ui.action.click",c=ct(),u=c&&at(c);if(u){const l=_e(u).op;if(["navigation","pageload"].includes(l)){St&&M.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Yu,"interactionInterrupted"),s.end(),s=void 0),!r.name){St&&M.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}s=Jg({name:r.name,op:a,attributes:{[On]:r.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:n})},"registerInteractionTransaction");K.document&&addEventListener("click",i,{once:!1,capture:!0})}o(KA,"registerInteractionListener");function ZA(t){const e={...t};return uy(e,"react"),pd("react",{version:D.version}),sx(e)}o(ZA,"init$1");function YA(t){const e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}o(YA,"isAtLeastReact17");function QA(t,e){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}o(r,"recurse"),r(t,e)}o(QA,"setCause");function XA(t,{componentStack:e},n){if(YA(D.version)&&tc(t)&&e){const r=new Error(t.message);r.name=`React ErrorBoundary ${t.name}`,r.stack=e,QA(t,r)}return uc(t,{...n,captureContext:{contexts:{react:{componentStack:e}}}})}o(XA,"captureReactException");var Ev={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt=typeof Symbol=="function"&&Symbol.for,Dd=rt?Symbol.for("react.element"):60103,Ld=rt?Symbol.for("react.portal"):60106,bc=rt?Symbol.for("react.fragment"):60107,_c=rt?Symbol.for("react.strict_mode"):60108,wc=rt?Symbol.for("react.profiler"):60114,Sc=rt?Symbol.for("react.provider"):60109,Ec=rt?Symbol.for("react.context"):60110,Fd=rt?Symbol.for("react.async_mode"):60111,Tc=rt?Symbol.for("react.concurrent_mode"):60111,kc=rt?Symbol.for("react.forward_ref"):60112,Ic=rt?Symbol.for("react.suspense"):60113,JA=rt?Symbol.for("react.suspense_list"):60120,xc=rt?Symbol.for("react.memo"):60115,Rc=rt?Symbol.for("react.lazy"):60116,eO=rt?Symbol.for("react.block"):60121,tO=rt?Symbol.for("react.fundamental"):60117,nO=rt?Symbol.for("react.responder"):60118,rO=rt?Symbol.for("react.scope"):60119;function Nt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dd:switch(t=t.type,t){case Fd:case Tc:case bc:case wc:case _c:case Ic:return t;default:switch(t=t&&t.$$typeof,t){case Ec:case kc:case Rc:case xc:case Sc:return t;default:return e}}case Ld:return e}}}o(Nt,"z$1");function Tv(t){return Nt(t)===Tc}o(Tv,"A");Ie.AsyncMode=Fd;Ie.ConcurrentMode=Tc;Ie.ContextConsumer=Ec;Ie.ContextProvider=Sc;Ie.Element=Dd;Ie.ForwardRef=kc;Ie.Fragment=bc;Ie.Lazy=Rc;Ie.Memo=xc;Ie.Portal=Ld;Ie.Profiler=wc;Ie.StrictMode=_c;Ie.Suspense=Ic;Ie.isAsyncMode=function(t){return Tv(t)||Nt(t)===Fd};Ie.isConcurrentMode=Tv;Ie.isContextConsumer=function(t){return Nt(t)===Ec};Ie.isContextProvider=function(t){return Nt(t)===Sc};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dd};Ie.isForwardRef=function(t){return Nt(t)===kc};Ie.isFragment=function(t){return Nt(t)===bc};Ie.isLazy=function(t){return Nt(t)===Rc};Ie.isMemo=function(t){return Nt(t)===xc};Ie.isPortal=function(t){return Nt(t)===Ld};Ie.isProfiler=function(t){return Nt(t)===wc};Ie.isStrictMode=function(t){return Nt(t)===_c};Ie.isSuspense=function(t){return Nt(t)===Ic};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bc||t===Tc||t===wc||t===_c||t===Ic||t===JA||typeof t=="object"&&t!==null&&(t.$$typeof===Rc||t.$$typeof===xc||t.$$typeof===Sc||t.$$typeof===Ec||t.$$typeof===kc||t.$$typeof===tO||t.$$typeof===nO||t.$$typeof===rO||t.$$typeof===eO)};Ie.typeOf=Nt;Ev.exports=Ie;var sO=Ev.exports,kv=sO,iO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Iv={};Iv[kv.ForwardRef]=iO;Iv[kv.Memo]=oO;const aO=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,np={componentStack:null,error:null,eventId:null};class Ud extends D.Component{static{o(this,"ErrorBoundary")}constructor(e){super(e),Ud.prototype.__init.call(this),this.state=np,this._openFallbackReportDialog=!0;const n=fe();n&&e.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Ch({...e.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(e,n){const{componentStack:r}=n,s=r??void 0,{beforeCapture:i,onError:a,showDialog:c,dialogOptions:u}=this.props;ic(l=>{i&&i(l,e,s);const f=XA(e,n,{mechanism:{handled:!!this.props.fallback}});a&&a(e,s,f),c&&(this._lastEventId=f,this._openFallbackReportDialog&&Ch({...u,eventId:f})),this.setState({error:e,componentStack:r,eventId:f})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(e,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:n,componentStack:r,eventId:s}=this.state;e&&e(n,r,s),this.setState(np)}}render(){const{fallback:e,children:n}=this.props,r=this.state;if(r.error){let s;return typeof e=="function"?s=D.createElement(e,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=e,D.isValidElement(s)?s:(e&&aO&&M.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}var be;(function(t){t.assertEqual=s=>s;function e(s){}o(e,"assertIs"),t.assertIs=e;function n(s){throw new Error}o(n,"assertNever"),t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}o(r,"joinValues"),t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(be||(be={}));var yl;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(yl||(yl={}));const U=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=o(t=>{switch(typeof t){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(t)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(t)?U.array:t===null?U.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?U.promise:typeof Map<"u"&&t instanceof Map?U.map:typeof Set<"u"&&t instanceof Set?U.set:typeof Date<"u"&&t instanceof Date?U.date:U.object;default:return U.unknown}},"getParsedType"),O=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cO=o(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class Et extends Error{static{o(this,"ZodError")}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=o(i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const l=a.path[u];u===a.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(n(a))):c[l]=c[l]||{_errors:[]},c=c[l],u++}}},"processError");return s(this),r}static assert(e){if(!(e instanceof Et))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Et.create=t=>new Et(t);const $s=o((t,e)=>{let n;switch(t.code){case O.invalid_type:t.received===U.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,be.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${be.joinValues(t.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${be.joinValues(t.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${be.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case O.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case O.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=e.defaultError,be.assertNever(t)}return{message:n}},"errorMap");let xv=$s;function uO(t){xv=t}o(uO,"setErrorMap");function Pa(){return xv}o(Pa,"getErrorMap");const Ma=o(t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=r.filter(l=>!!l).slice().reverse();for(const l of u)c=l(a,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},"makeIssue"),lO=[];function L(t,e){const n=Pa(),r=Ma({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===$s?void 0:$s].filter(s=>!!s)});t.common.issues.push(r)}o(L,"addIssueToContext");class dt{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return X;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return dt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return X;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const X=Object.freeze({status:"aborted"}),ws=o(t=>({status:"dirty",value:t}),"DIRTY"),gt=o(t=>({status:"valid",value:t}),"OK"),vl=o(t=>t.status==="aborted","isAborted"),bl=o(t=>t.status==="dirty","isDirty"),Ui=o(t=>t.status==="valid","isValid"),Bi=o(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function Na(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}o(Na,"__classPrivateFieldGet$2");function Rv(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}o(Rv,"__classPrivateFieldSet$1");var q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(q||(q={}));var hi,pi;class yn{static{o(this,"ParseInputLazyPath")}constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rp=o((t,e)=>{if(Ui(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Et(t.common.issues);return this._error=n,this._error}}},"handleResult");function oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:o((a,c)=>{var u,l;const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(l=f??n)!==null&&l!==void 0?l:c.defaultError}},"customMap"),description:s}}o(oe,"processCreateParams");class ue{static{o(this,"ZodType")}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Xn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dt,ctx:{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bi(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},i=this._parseSync({data:e,path:s.path,parent:s});return rp(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Bi(s)?s:Promise.resolve(s));return rp(r,i)}refine(e,n){const r=o(s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n,"getIssueProperties");return this._refinement((s,i)=>{const a=e(s),c=o(()=>i.addIssue({code:O.custom,...r(s)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Jt({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pn.create(this,this._def)}nullable(){return fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this,this._def)}promise(){return zs.create(this,this._def)}or(e){return qi.create([this,e],this._def)}and(e){return Wi.create(this,e,this._def)}transform(e){return new Jt({...oe(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zi({...oe(this._def),innerType:this,defaultValue:n,typeName:Y.ZodDefault})}brand(){return new Bd({typeName:Y.ZodBranded,type:this,...oe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Yi({...oe(this._def),innerType:this,catchValue:n,typeName:Y.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return po.create(this,e)}readonly(){return Qi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dO=/^c[^\s-]{8,}$/i,fO=/^[0-9a-z]+$/,hO=/^[0-9A-HJKMNP-TV-Z]{26}$/,pO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mO=/^[a-z0-9_-]{21}$/i,gO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let su;const bO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_O=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SO=new RegExp(`^${Cv}$`);function Av(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}o(Av,"timeRegexSource");function EO(t){return new RegExp(`^${Av(t)}$`)}o(EO,"timeRegex");function Ov(t){let e=`${Cv}T${Av(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}o(Ov,"datetimeRegex");function TO(t,e){return!!((e==="v4"||!e)&&bO.test(t)||(e==="v6"||!e)&&_O.test(t))}o(TO,"isValidIP");class Qt extends ue{static{o(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const i=this._getOrReturnCtx(e);return L(i,{code:O.invalid_type,expected:U.string,received:i.parsedType}),X}const r=new dt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,c=e.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(e,s),a?L(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&L(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")yO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"email",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")su||(su=new RegExp(vO,"u")),su.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"emoji",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")pO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"uuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")mO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"nanoid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")dO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")fO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid2",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")hO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ulid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),L(s,{validation:"url",code:O.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"regex",code:O.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Ov(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?SO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?EO(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:O.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?gO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"duration",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?TO(e.data,i.version)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ip",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?wO.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"base64",code:O.invalid_string,message:i.message}),r.dirty()):be.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:O.invalid_string,...q.errToObj(r)})}_addCheck(e){return new Qt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...q.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...q.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...q.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...q.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...q.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...q.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...q.errToObj(n)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qt.create=t=>{var e;return new Qt({checks:[],typeName:Y.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...oe(t)})};function kO(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}o(kO,"floatSafeRemainder");class ur extends ue{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const i=this._getOrReturnCtx(e);return L(i,{code:O.invalid_type,expected:U.number,received:i.parsedType}),X}let r;const s=new dt;for(const i of this._def.checks)i.kind==="int"?be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),L(r,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?kO(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),L(r,{code:O.not_finite,message:i.message}),s.dirty()):be.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,q.toString(n))}gt(e,n){return this.setLimit("min",e,!1,q.toString(n))}lte(e,n){return this.setLimit("max",e,!0,q.toString(n))}lt(e,n){return this.setLimit("max",e,!1,q.toString(n))}setLimit(e,n,r,s){return new ur({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:q.toString(s)}]})}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ur.create=t=>new ur({checks:[],typeName:Y.ZodNumber,coerce:t?.coerce||!1,...oe(t)});class lr extends ue{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==U.bigint){const i=this._getOrReturnCtx(e);return L(i,{code:O.invalid_type,expected:U.bigint,received:i.parsedType}),X}let r;const s=new dt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),L(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):be.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,q.toString(n))}gt(e,n){return this.setLimit("min",e,!1,q.toString(n))}lte(e,n){return this.setLimit("max",e,!0,q.toString(n))}lt(e,n){return this.setLimit("max",e,!1,q.toString(n))}setLimit(e,n,r,s){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:q.toString(s)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lr.create=t=>{var e;return new lr({checks:[],typeName:Y.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...oe(t)})};class $i extends ue{static{o(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.boolean,received:r.parsedType}),X}return gt(e.data)}}$i.create=t=>new $i({typeName:Y.ZodBoolean,coerce:t?.coerce||!1,...oe(t)});class jr extends ue{static{o(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const i=this._getOrReturnCtx(e);return L(i,{code:O.invalid_type,expected:U.date,received:i.parsedType}),X}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return L(i,{code:O.invalid_date}),X}const r=new dt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):be.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}jr.create=t=>new jr({checks:[],coerce:t?.coerce||!1,typeName:Y.ZodDate,...oe(t)});class Da extends ue{static{o(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==U.symbol){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.symbol,received:r.parsedType}),X}return gt(e.data)}}Da.create=t=>new Da({typeName:Y.ZodSymbol,...oe(t)});class ji extends ue{static{o(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.undefined,received:r.parsedType}),X}return gt(e.data)}}ji.create=t=>new ji({typeName:Y.ZodUndefined,...oe(t)});class zi extends ue{static{o(this,"ZodNull")}_parse(e){if(this._getType(e)!==U.null){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.null,received:r.parsedType}),X}return gt(e.data)}}zi.create=t=>new zi({typeName:Y.ZodNull,...oe(t)});class js extends ue{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return gt(e.data)}}js.create=t=>new js({typeName:Y.ZodAny,...oe(t)});class Dr extends ue{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return gt(e.data)}}Dr.create=t=>new Dr({typeName:Y.ZodUnknown,...oe(t)});class jn extends ue{static{o(this,"ZodNever")}_parse(e){const n=this._getOrReturnCtx(e);return L(n,{code:O.invalid_type,expected:U.never,received:n.parsedType}),X}}jn.create=t=>new jn({typeName:Y.ZodNever,...oe(t)});class La extends ue{static{o(this,"ZodVoid")}_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.void,received:r.parsedType}),X}return gt(e.data)}}La.create=t=>new La({typeName:Y.ZodVoid,...oe(t)});class Xt extends ue{static{o(this,"ZodArray")}_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==U.array)return L(n,{code:O.invalid_type,expected:U.array,received:n.parsedType}),X;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(L(n,{code:a?O.too_big:O.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(L(n,{code:O.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(L(n,{code:O.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new yn(n,a,n.path,c)))).then(a=>dt.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new yn(n,a,n.path,c)));return dt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Xt({...this._def,minLength:{value:e,message:q.toString(n)}})}max(e,n){return new Xt({...this._def,maxLength:{value:e,message:q.toString(n)}})}length(e,n){return new Xt({...this._def,exactLength:{value:e,message:q.toString(n)}})}nonempty(e){return this.min(1,e)}}Xt.create=(t,e)=>new Xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...oe(e)});function fs(t){if(t instanceof De){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pn.create(fs(r))}return new De({...t._def,shape:()=>e})}else return t instanceof Xt?new Xt({...t._def,type:fs(t.element)}):t instanceof pn?pn.create(fs(t.unwrap())):t instanceof fr?fr.create(fs(t.unwrap())):t instanceof vn?vn.create(t.items.map(e=>fs(e))):t}o(fs,"deepPartialify");class De extends ue{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=be.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==U.object){const l=this._getOrReturnCtx(e);return L(l,{code:O.invalid_type,expected:U.object,received:l.parsedType}),X}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof jn&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||c.push(l);const u=[];for(const l of a){const f=i[l],d=s.data[l];u.push({key:{status:"valid",value:l},value:f._parse(new yn(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof jn){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of c)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(l==="strict")c.length>0&&(L(s,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of c){const d=s.data[f];u.push({key:{status:"valid",value:f},value:l._parse(new yn(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of u){const d=await f.key,h=await f.value;l.push({key:d,value:h,alwaysSet:f.alwaysSet})}return l}).then(l=>dt.mergeObjectSync(r,l)):dt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new De({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=q.errToObj(e).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new De({...this._def,unknownKeys:"strip"})}passthrough(){return new De({...this._def,unknownKeys:"passthrough"})}extend(e){return new De({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new De({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new De({...this._def,catchall:e})}pick(e){const n={};return be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new De({...this._def,shape:()=>n})}omit(e){const n={};return be.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new De({...this._def,shape:()=>n})}deepPartial(){return fs(this)}partial(e){const n={};return be.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new De({...this._def,shape:()=>n})}required(e){const n={};return be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof pn;)i=i._def.innerType;n[r]=i}}),new De({...this._def,shape:()=>n})}keyof(){return Pv(be.objectKeys(this.shape))}}De.create=(t,e)=>new De({shape:()=>t,unknownKeys:"strip",catchall:jn.create(),typeName:Y.ZodObject,...oe(e)});De.strictCreate=(t,e)=>new De({shape:()=>t,unknownKeys:"strict",catchall:jn.create(),typeName:Y.ZodObject,...oe(e)});De.lazycreate=(t,e)=>new De({shape:t,unknownKeys:"strip",catchall:jn.create(),typeName:Y.ZodObject,...oe(e)});class qi extends ue{static{o(this,"ZodUnion")}_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new Et(c.ctx.common.issues));return L(n,{code:O.invalid_union,unionErrors:a}),X}if(o(s,"handleResults"),n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const l={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(u=>new Et(u));return L(n,{code:O.invalid_union,unionErrors:c}),X}}get options(){return this._def.options}}qi.create=(t,e)=>new qi({options:t,typeName:Y.ZodUnion,...oe(e)});const In=o(t=>t instanceof Vi?In(t.schema):t instanceof Jt?In(t.innerType()):t instanceof Gi?[t.value]:t instanceof dr?t.options:t instanceof Ki?be.objectValues(t.enum):t instanceof Zi?In(t._def.innerType):t instanceof ji?[void 0]:t instanceof zi?[null]:t instanceof pn?[void 0,...In(t.unwrap())]:t instanceof fr?[null,...In(t.unwrap())]:t instanceof Bd||t instanceof Qi?In(t.unwrap()):t instanceof Yi?In(t._def.innerType):[],"getDiscriminator");class Cc extends ue{static{o(this,"ZodDiscriminatedUnion")}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.object)return L(n,{code:O.invalid_type,expected:U.object,received:n.parsedType}),X;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(L(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=In(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Cc({typeName:Y.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...oe(r)})}}function _l(t,e){const n=Xn(t),r=Xn(e);if(t===e)return{valid:!0,data:t};if(n===U.object&&r===U.object){const s=be.objectKeys(e),i=be.objectKeys(t).filter(c=>s.indexOf(c)!==-1),a={...t,...e};for(const c of i){const u=_l(t[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===U.array&&r===U.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],c=e[i],u=_l(a,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===U.date&&r===U.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}o(_l,"mergeValues");class Wi extends ue{static{o(this,"ZodIntersection")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=o((i,a)=>{if(vl(i)||vl(a))return X;const c=_l(i.value,a.value);return c.valid?((bl(i)||bl(a))&&n.dirty(),{status:n.value,value:c.data}):(L(r,{code:O.invalid_intersection_types}),X)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wi.create=(t,e,n)=>new Wi({left:t,right:e,typeName:Y.ZodIntersection,...oe(n)});class vn extends ue{static{o(this,"ZodTuple")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.array)return L(r,{code:O.invalid_type,expected:U.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return L(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(L(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new yn(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>dt.mergeArray(n,a)):dt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new vn({...this._def,rest:e})}}vn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vn({items:t,typeName:Y.ZodTuple,rest:null,...oe(e)})};class Hi extends ue{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.object)return L(r,{code:O.invalid_type,expected:U.object,received:r.parsedType}),X;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new yn(r,c,r.path,c)),value:a._parse(new yn(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?dt.mergeObjectAsync(n,s):dt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ue?new Hi({keyType:e,valueType:n,typeName:Y.ZodRecord,...oe(r)}):new Hi({keyType:Qt.create(),valueType:e,typeName:Y.ZodRecord,...oe(n)})}}class Fa extends ue{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.map)return L(r,{code:O.invalid_type,expected:U.map,received:r.parsedType}),X;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,u],l)=>({key:s._parse(new yn(r,c,r.path,[l,"key"])),value:i._parse(new yn(r,u,r.path,[l,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const l=await u.key,f=await u.value;if(l.status==="aborted"||f.status==="aborted")return X;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(l.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const l=u.key,f=u.value;if(l.status==="aborted"||f.status==="aborted")return X;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(l.value,f.value)}return{status:n.value,value:c}}}}Fa.create=(t,e,n)=>new Fa({valueType:e,keyType:t,typeName:Y.ZodMap,...oe(n)});class zr extends ue{static{o(this,"ZodSet")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.set)return L(r,{code:O.invalid_type,expected:U.set,received:r.parsedType}),X;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(L(r,{code:O.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(L(r,{code:O.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const l=new Set;for(const f of u){if(f.status==="aborted")return X;f.status==="dirty"&&n.dirty(),l.add(f.value)}return{status:n.value,value:l}}o(a,"finalizeSet");const c=[...r.data.values()].map((u,l)=>i._parse(new yn(r,u,r.path,l)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,n){return new zr({...this._def,minSize:{value:e,message:q.toString(n)}})}max(e,n){return new zr({...this._def,maxSize:{value:e,message:q.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}zr.create=(t,e)=>new zr({valueType:t,minSize:null,maxSize:null,typeName:Y.ZodSet,...oe(e)});class ks extends ue{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.function)return L(n,{code:O.invalid_type,expected:U.function,received:n.parsedType}),X;function r(c,u){return Ma({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pa(),$s].filter(l=>!!l),issueData:{code:O.invalid_arguments,argumentsError:u}})}o(r,"makeArgsIssue");function s(c,u){return Ma({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pa(),$s].filter(l=>!!l),issueData:{code:O.invalid_return_type,returnTypeError:u}})}o(s,"makeReturnsIssue");const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof zs){const c=this;return gt(async function(...u){const l=new Et([]),f=await c._def.args.parseAsync(u,i).catch(m=>{throw l.addIssue(r(u,m)),l}),d=await Reflect.apply(a,this,f);return await c._def.returns._def.type.parseAsync(d,i).catch(m=>{throw l.addIssue(s(d,m)),l})})}else{const c=this;return gt(function(...u){const l=c._def.args.safeParse(u,i);if(!l.success)throw new Et([r(u,l.error)]);const f=Reflect.apply(a,this,l.data),d=c._def.returns.safeParse(f,i);if(!d.success)throw new Et([s(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ks({...this._def,args:vn.create(e).rest(Dr.create())})}returns(e){return new ks({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ks({args:e||vn.create([]).rest(Dr.create()),returns:n||Dr.create(),typeName:Y.ZodFunction,...oe(r)})}}class Vi extends ue{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vi.create=(t,e)=>new Vi({getter:t,typeName:Y.ZodLazy,...oe(e)});class Gi extends ue{static{o(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return L(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gi.create=(t,e)=>new Gi({value:t,typeName:Y.ZodLiteral,...oe(e)});function Pv(t,e){return new dr({values:t,typeName:Y.ZodEnum,...oe(e)})}o(Pv,"createZodEnum");class dr extends ue{static{o(this,"ZodEnum")}constructor(){super(...arguments),hi.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return L(n,{expected:be.joinValues(r),received:n.parsedType,code:O.invalid_type}),X}if(Na(this,hi,"f")||Rv(this,hi,new Set(this._def.values),"f"),!Na(this,hi,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return L(n,{received:n.data,code:O.invalid_enum_value,options:r}),X}return gt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return dr.create(e,{...this._def,...n})}exclude(e,n=this._def){return dr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hi=new WeakMap;dr.create=Pv;class Ki extends ue{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),pi.set(this,void 0)}_parse(e){const n=be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==U.string&&r.parsedType!==U.number){const s=be.objectValues(n);return L(r,{expected:be.joinValues(s),received:r.parsedType,code:O.invalid_type}),X}if(Na(this,pi,"f")||Rv(this,pi,new Set(be.getValidEnumValues(this._def.values)),"f"),!Na(this,pi,"f").has(e.data)){const s=be.objectValues(n);return L(r,{received:r.data,code:O.invalid_enum_value,options:s}),X}return gt(e.data)}get enum(){return this._def.values}}pi=new WeakMap;Ki.create=(t,e)=>new Ki({values:t,typeName:Y.ZodNativeEnum,...oe(e)});class zs extends ue{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.promise&&n.common.async===!1)return L(n,{code:O.invalid_type,expected:U.promise,received:n.parsedType}),X;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return gt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}zs.create=(t,e)=>new zs({type:t,typeName:Y.ZodPromise,...oe(e)});class Jt extends ue{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{L(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return X;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?X:u.status==="dirty"||n.value==="dirty"?ws(u.value):u});{if(n.value==="aborted")return X;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?X:c.status==="dirty"||n.value==="dirty"?ws(c.value):c}}if(s.type==="refinement"){const a=o(c=>{const u=s.refinement(c,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c},"executeRefinement");if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ui(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ui(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);be.assertNever(s)}}Jt.create=(t,e,n)=>new Jt({schema:t,typeName:Y.ZodEffects,effect:e,...oe(n)});Jt.createWithPreprocess=(t,e,n)=>new Jt({schema:e,effect:{type:"preprocess",transform:t},typeName:Y.ZodEffects,...oe(n)});class pn extends ue{static{o(this,"ZodOptional")}_parse(e){return this._getType(e)===U.undefined?gt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pn.create=(t,e)=>new pn({innerType:t,typeName:Y.ZodOptional,...oe(e)});class fr extends ue{static{o(this,"ZodNullable")}_parse(e){return this._getType(e)===U.null?gt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:Y.ZodNullable,...oe(e)});class Zi extends ue{static{o(this,"ZodDefault")}_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zi.create=(t,e)=>new Zi({innerType:t,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...oe(e)});class Yi extends ue{static{o(this,"ZodCatch")}_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bi(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Et(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Et(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yi.create=(t,e)=>new Yi({innerType:t,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...oe(e)});class Ua extends ue{static{o(this,"ZodNaN")}_parse(e){if(this._getType(e)!==U.nan){const r=this._getOrReturnCtx(e);return L(r,{code:O.invalid_type,expected:U.nan,received:r.parsedType}),X}return{status:"valid",value:e.data}}}Ua.create=t=>new Ua({typeName:Y.ZodNaN,...oe(t)});const IO=Symbol("zod_brand");class Bd extends ue{static{o(this,"ZodBranded")}_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class po extends ue{static{o(this,"ZodPipeline")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return o(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?X:i.status==="dirty"?(n.dirty(),ws(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})},"handleAsync")();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?X:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new po({in:e,out:n,typeName:Y.ZodPipeline})}}class Qi extends ue{static{o(this,"ZodReadonly")}_parse(e){const n=this._def.innerType._parse(e),r=o(s=>(Ui(s)&&(s.value=Object.freeze(s.value)),s),"freeze");return Bi(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Qi.create=(t,e)=>new Qi({innerType:t,typeName:Y.ZodReadonly,...oe(e)});function Mv(t,e={},n){return t?js.create().superRefine((r,s)=>{var i,a;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,l=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...l,fatal:u})}}):js.create()}o(Mv,"custom");const xO={object:De.lazycreate};var Y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Y||(Y={}));const RO=o((t,e={message:`Input not instance of ${t.name}`})=>Mv(n=>n instanceof t,e),"instanceOfType"),Nv=Qt.create,Dv=ur.create,CO=Ua.create,AO=lr.create,Lv=$i.create,OO=jr.create,PO=Da.create,MO=ji.create,NO=zi.create,DO=js.create,LO=Dr.create,FO=jn.create,UO=La.create,BO=Xt.create,$O=De.create,jO=De.strictCreate,zO=qi.create,qO=Cc.create,WO=Wi.create,HO=vn.create,VO=Hi.create,GO=Fa.create,KO=zr.create,ZO=ks.create,YO=Vi.create,QO=Gi.create,XO=dr.create,JO=Ki.create,eP=zs.create,sp=Jt.create,tP=pn.create,nP=fr.create,rP=Jt.createWithPreprocess,sP=po.create,iP=o(()=>Nv().optional(),"ostring"),oP=o(()=>Dv().optional(),"onumber"),aP=o(()=>Lv().optional(),"oboolean"),cP={string:t=>Qt.create({...t,coerce:!0}),number:t=>ur.create({...t,coerce:!0}),boolean:t=>$i.create({...t,coerce:!0}),bigint:t=>lr.create({...t,coerce:!0}),date:t=>jr.create({...t,coerce:!0})},uP=X;var JL=Object.freeze({__proto__:null,defaultErrorMap:$s,setErrorMap:uO,getErrorMap:Pa,makeIssue:Ma,EMPTY_PATH:lO,addIssueToContext:L,ParseStatus:dt,INVALID:X,DIRTY:ws,OK:gt,isAborted:vl,isDirty:bl,isValid:Ui,isAsync:Bi,get util(){return be},get objectUtil(){return yl},ZodParsedType:U,getParsedType:Xn,ZodType:ue,datetimeRegex:Ov,ZodString:Qt,ZodNumber:ur,ZodBigInt:lr,ZodBoolean:$i,ZodDate:jr,ZodSymbol:Da,ZodUndefined:ji,ZodNull:zi,ZodAny:js,ZodUnknown:Dr,ZodNever:jn,ZodVoid:La,ZodArray:Xt,ZodObject:De,ZodUnion:qi,ZodDiscriminatedUnion:Cc,ZodIntersection:Wi,ZodTuple:vn,ZodRecord:Hi,ZodMap:Fa,ZodSet:zr,ZodFunction:ks,ZodLazy:Vi,ZodLiteral:Gi,ZodEnum:dr,ZodNativeEnum:Ki,ZodPromise:zs,ZodEffects:Jt,ZodTransformer:Jt,ZodOptional:pn,ZodNullable:fr,ZodDefault:Zi,ZodCatch:Yi,ZodNaN:Ua,BRAND:IO,ZodBranded:Bd,ZodPipeline:po,ZodReadonly:Qi,custom:Mv,Schema:ue,ZodSchema:ue,late:xO,get ZodFirstPartyTypeKind(){return Y},coerce:cP,any:DO,array:BO,bigint:AO,boolean:Lv,date:OO,discriminatedUnion:qO,effect:sp,enum:XO,function:ZO,instanceof:RO,intersection:WO,lazy:YO,literal:QO,map:GO,nan:CO,nativeEnum:JO,never:FO,null:NO,nullable:nP,number:Dv,object:$O,oboolean:aP,onumber:oP,optional:tP,ostring:iP,pipeline:sP,preprocess:rP,promise:eP,record:VO,set:KO,strictObject:jO,string:Nv,symbol:PO,transformer:sp,tuple:HO,undefined:MO,union:zO,unknown:LO,void:UO,NEVER:uP,ZodIssueCode:O,quotelessJson:cO,ZodError:Et}),$d=(t=>(t[t.UnsupportedFormat=0]="UnsupportedFormat",t[t.Corrupted=1]="Corrupted",t[t.Unknown=2]="Unknown",t))($d||{});const lP={0:["CameraMetadataException"],1:["RawDecoderException","TiffParserException","RawParserException"],2:[]};function Fv(t){if(!(t instanceof WebAssembly.RuntimeError))return 2;const e=t.message.toLowerCase(),n=Number(Object.entries(lP).find(([r,s])=>s.some(i=>e.includes(i.toLowerCase())))?.[0]);return Number.isInteger(n)?n:2}o(Fv,"classifyRawError");var Uv={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}o(r,"Events"),Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,l,f){this.fn=u,this.context=l,this.once=f||!1}o(s,"EE");function i(u,l,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new s(f,d||u,h),p=n?n+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],m]:u._events[p].push(m):(u._events[p]=m,u._eventsCount++),u}o(i,"addListener");function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}o(a,"clearEvent");function c(){this._events=new r,this._eventsCount=0}o(c,"EventEmitter"),c.prototype.eventNames=o(function(){var l=[],f,d;if(this._eventsCount===0)return l;for(d in f=this._events)e.call(f,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},"eventNames"),c.prototype.listeners=o(function(l){var f=n?n+l:l,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,p=new Array(m);h<m;h++)p[h]=d[h].fn;return p},"listeners"),c.prototype.listenerCount=o(function(l){var f=n?n+l:l,d=this._events[f];return d?d.fn?1:d.length:0},"listenerCount"),c.prototype.emit=o(function(l,f,d,h,m,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,h),!0;case 5:return y.fn.call(y.context,f,d,h,m),!0;case 6:return y.fn.call(y.context,f,d,h,m,p),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var R=y.length,I;for(w=0;w<R;w++)switch(y[w].once&&this.removeListener(l,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,f);break;case 3:y[w].fn.call(y[w].context,f,d);break;case 4:y[w].fn.call(y[w].context,f,d,h);break;default:if(!_)for(I=1,_=new Array(b-1);I<b;I++)_[I-1]=arguments[I];y[w].fn.apply(y[w].context,_)}}return!0},"emit"),c.prototype.on=o(function(l,f,d){return i(this,l,f,d,!1)},"on"),c.prototype.once=o(function(l,f,d){return i(this,l,f,d,!0)},"once"),c.prototype.removeListener=o(function(l,f,d,h){var m=n?n+l:l;if(!this._events[m])return this;if(!f)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===f&&(!h||p.once)&&(!d||p.context===d)&&a(this,m);else{for(var g=0,y=[],b=p.length;g<b;g++)(p[g].fn!==f||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},"removeListener"),c.prototype.removeAllListeners=o(function(l){var f;return l?(f=n?n+l:l,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},"removeAllListeners"),c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Uv);var dP=Uv.exports;const fP=um(dP);class Bv extends Error{static{o(this,"TimeoutError")}constructor(e){super(e),this.name="TimeoutError"}}let hP=class extends Error{static{o(this,"AbortError")}constructor(e){super(),this.name="AbortError",this.message=e}};const ip=o(t=>globalThis.DOMException===void 0?new hP(t):new DOMException(t),"getDOMException"),op=o(t=>{const e=t.reason===void 0?ip("This operation was aborted."):t.reason;return e instanceof Error?e:ip(e)},"getAbortedReason");function pP(t,e,n,r){let s;const i=new Promise((a,c)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){a(t);return}if(r={customTimers:{setTimeout,clearTimeout},...r},r.signal){const{signal:u}=r;u.aborted&&c(op(u)),u.addEventListener("abort",()=>{c(op(u))})}s=r.customTimers.setTimeout.call(void 0,()=>{if(typeof n=="function"){try{a(n())}catch(f){c(f)}return}const u=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,l=n instanceof Error?n:new Bv(u);typeof t.cancel=="function"&&t.cancel(),c(l)},e),(async()=>{try{a(await t)}catch(u){c(u)}finally{r.customTimers.clearTimeout.call(void 0,s)}})()});return i.clear=()=>{clearTimeout(s),s=void 0},i}o(pP,"pTimeout");function mP(t,e,n){let r=0,s=t.length;for(;s>0;){const i=Math.trunc(s/2);let a=r+i;n(t[a],e)<=0?(r=++a,s-=i+1):s=i}return r}o(mP,"lowerBound");var _r=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},xn;class gP{static{o(this,"PriorityQueue")}constructor(){xn.set(this,[])}enqueue(e,n){n={priority:0,...n};const r={priority:n.priority,run:e};if(this.size&&_r(this,xn,"f")[this.size-1].priority>=n.priority){_r(this,xn,"f").push(r);return}const s=mP(_r(this,xn,"f"),r,(i,a)=>a.priority-i.priority);_r(this,xn,"f").splice(s,0,r)}dequeue(){const e=_r(this,xn,"f").shift();return e?.run}filter(e){return _r(this,xn,"f").filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return _r(this,xn,"f").length}}xn=new WeakMap;var Ne=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},z=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},je,Ei,Ti,Jn,Ba,ki,Jo,Vt,mi,xt,ea,Rt,Ii,Yn,ta,ap,cp,$v,up,lp,na,iu,ou,$a,jv,ra;class jd extends Error{static{o(this,"AbortError")}}class tF extends fP{static{o(this,"PQueue")}constructor(e){var n,r,s,i;if(super(),je.add(this),Ei.set(this,void 0),Ti.set(this,void 0),Jn.set(this,0),Ba.set(this,void 0),ki.set(this,void 0),Jo.set(this,0),Vt.set(this,void 0),mi.set(this,void 0),xt.set(this,void 0),ea.set(this,void 0),Rt.set(this,0),Ii.set(this,void 0),Yn.set(this,void 0),ta.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:gP,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(i=(s=e.interval)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""}\` (${typeof e.interval})`);Ne(this,Ei,e.carryoverConcurrencyCount,"f"),Ne(this,Ti,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),Ne(this,Ba,e.intervalCap,"f"),Ne(this,ki,e.interval,"f"),Ne(this,xt,new e.queueClass,"f"),Ne(this,ea,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Ne(this,ta,e.throwOnTimeout===!0,"f"),Ne(this,Yn,e.autoStart===!1,"f")}get concurrency(){return z(this,Ii,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);Ne(this,Ii,e,"f"),z(this,je,"m",$a).call(this)}async add(e,n={}){return n={timeout:this.timeout,throwOnTimeout:z(this,ta,"f"),...n},new Promise((r,s)=>{z(this,xt,"f").enqueue(async()=>{var i,a,c;Ne(this,Rt,(a=z(this,Rt,"f"),a++,a),"f"),Ne(this,Jn,(c=z(this,Jn,"f"),c++,c),"f");try{if(!((i=n.signal)===null||i===void 0)&&i.aborted)throw new jd("The task was aborted.");let u=e({signal:n.signal});n.timeout&&(u=pP(Promise.resolve(u),n.timeout)),n.signal&&(u=Promise.race([u,z(this,je,"m",jv).call(this,n.signal)]));const l=await u;r(l),this.emit("completed",l)}catch(u){if(u instanceof Bv&&!n.throwOnTimeout){r();return}s(u),this.emit("error",u)}finally{z(this,je,"m",$v).call(this)}},n),this.emit("add"),z(this,je,"m",na).call(this)})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return z(this,Yn,"f")?(Ne(this,Yn,!1,"f"),z(this,je,"m",$a).call(this),this):this}pause(){Ne(this,Yn,!0,"f")}clear(){Ne(this,xt,new(z(this,ea,"f")),"f")}async onEmpty(){z(this,xt,"f").size!==0&&await z(this,je,"m",ra).call(this,"empty")}async onSizeLessThan(e){z(this,xt,"f").size<e||await z(this,je,"m",ra).call(this,"next",()=>z(this,xt,"f").size<e)}async onIdle(){z(this,Rt,"f")===0&&z(this,xt,"f").size===0||await z(this,je,"m",ra).call(this,"idle")}get size(){return z(this,xt,"f").size}sizeBy(e){return z(this,xt,"f").filter(e).length}get pending(){return z(this,Rt,"f")}get isPaused(){return z(this,Yn,"f")}}Ei=new WeakMap,Ti=new WeakMap,Jn=new WeakMap,Ba=new WeakMap,ki=new WeakMap,Jo=new WeakMap,Vt=new WeakMap,mi=new WeakMap,xt=new WeakMap,ea=new WeakMap,Rt=new WeakMap,Ii=new WeakMap,Yn=new WeakMap,ta=new WeakMap,je=new WeakSet,ap=o(function(){return z(this,Ti,"f")||z(this,Jn,"f")<z(this,Ba,"f")},"_PQueue_doesIntervalAllowAnother_get"),cp=o(function(){return z(this,Rt,"f")<z(this,Ii,"f")},"_PQueue_doesConcurrentAllowAnother_get"),$v=o(function(){var e;Ne(this,Rt,(e=z(this,Rt,"f"),e--,e),"f"),z(this,je,"m",na).call(this),this.emit("next")},"_PQueue_next"),up=o(function(){z(this,je,"m",ou).call(this),z(this,je,"m",iu).call(this),Ne(this,mi,void 0,"f")},"_PQueue_onResumeInterval"),lp=o(function(){const e=Date.now();if(z(this,Vt,"f")===void 0){const n=z(this,Jo,"f")-e;if(n<0)Ne(this,Jn,z(this,Ei,"f")?z(this,Rt,"f"):0,"f");else return z(this,mi,"f")===void 0&&Ne(this,mi,setTimeout(()=>{z(this,je,"m",up).call(this)},n),"f"),!0}return!1},"_PQueue_isIntervalPaused_get"),na=o(function(){if(z(this,xt,"f").size===0)return z(this,Vt,"f")&&clearInterval(z(this,Vt,"f")),Ne(this,Vt,void 0,"f"),this.emit("empty"),z(this,Rt,"f")===0&&this.emit("idle"),!1;if(!z(this,Yn,"f")){const e=!z(this,je,"a",lp);if(z(this,je,"a",ap)&&z(this,je,"a",cp)){const n=z(this,xt,"f").dequeue();return n?(this.emit("active"),n(),e&&z(this,je,"m",iu).call(this),!0):!1}}return!1},"_PQueue_tryToStartAnother"),iu=o(function(){z(this,Ti,"f")||z(this,Vt,"f")!==void 0||(Ne(this,Vt,setInterval(()=>{z(this,je,"m",ou).call(this)},z(this,ki,"f")),"f"),Ne(this,Jo,Date.now()+z(this,ki,"f"),"f"))},"_PQueue_initializeIntervalIfNeeded"),ou=o(function(){z(this,Jn,"f")===0&&z(this,Rt,"f")===0&&z(this,Vt,"f")&&(clearInterval(z(this,Vt,"f")),Ne(this,Vt,void 0,"f")),Ne(this,Jn,z(this,Ei,"f")?z(this,Rt,"f"):0,"f"),z(this,je,"m",$a).call(this)},"_PQueue_onInterval"),$a=o(function(){for(;z(this,je,"m",na).call(this););},"_PQueue_processQueue"),jv=o(async function(e){return new Promise((n,r)=>{e.addEventListener("abort",()=>{r(new jd("The task was aborted."))},{once:!0})})},"_PQueue_throwOnAbort"),ra=o(async function(e,n){return new Promise(r=>{const s=o(()=>{n&&!n()||(this.off(e,s),r())},"listener");this.on(e,s)})},"_PQueue_onEvent");class nF extends Map{static{o(this,"ErrorMap")}defaultMessage;constructor(e,n){super(e),this.defaultMessage=n}getErrorMessage(e){for(const[n,r]of this.entries())if(n(e))return typeof r=="function"?r(e):r;return e instanceof Error?e.message:this.defaultMessage}}const rF=o(t=>t instanceof DOMException&&t.name==="abort"||t==="abort"||t instanceof jd?!0:t instanceof Error&&t.name==="AbortError","isAbortError"),sF=o(t=>t instanceof Error&&t.name==="NotFoundError","isNotFoundError"),iF=o(t=>t instanceof Error&&t.name==="AbortError"&&t.message?.includes("QuotaExceededError"),"isBrowserStorageQuotaError"),oF=o(t=>t instanceof Error&&t.name==="QuotaExceededError"?!0:t instanceof Error&&(t.name==="NotReadableError"||t.message?.includes("NotReadableError"))?"maybe":!1,"isStorageQuotaError"),aF=o(t=>t instanceof Et&&t.issues.some(e=>e.path.includes("type")),"isUnsupportedLRTemplateError"),cF=o(t=>Fv(t)===$d.UnsupportedFormat,"isUnsupportedFileError"),yP=o(t=>Fv(t)===$d.Corrupted,"isCorruptedFileError"),dp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope;ZA({enabled:!0,environment:"production",release:"2.2.12+7b192bf",dsn:"https://4890aafc8e8dce271cb8169b5dfde882@o239071.ingest.us.sentry.io/4508455574568960",ignoreErrors:[/Failed to register a ServiceWorker/i,/Operation has been aborted/i,/Unable to preload CSS/i,/Failed to fetch dynamically imported module/i],beforeSend(t){return t.exception?.values?.some(e=>yP(e.value))?null:t},integrations:[Py(),HA({instrumentPageLoad:!dp,instrumentNavigation:!dp}),PA({blockAllMedia:!1,maskAllInputs:!1,maskAllText:!1,networkDetailAllowUrls:[Nf.basePaths.projects,Nf.basePaths.presets]})],sampleRate:.5,tracesSampleRate:.01,tracePropagationTargets:["localhost",/^https:\/\/polarrnext\.com/,/^https:\/\/polarr-next(.*)\.vercel\.app/],replaysSessionSampleRate:0,replaysOnErrorSampleRate:1});const vP="/assets/Browser-BFzx4Rff.svg",bP="/assets/logo-Qqe5HfZE.png",mo=o(({title:t,description:e,action:n})=>se.jsxs("div",{className:"electron-drag flex size-full flex-col bg-base-800",children:[se.jsxs("div",{className:"relative flex size-full items-center justify-center",children:[se.jsx("img",{className:"absolute z-0 mx-auto hidden size-4/5 items-center justify-center sm:block",src:vP}),se.jsxs("div",{className:"absolute z-10 flex w-full flex-col items-center justify-center space-y-4 px-4 text-center sm:px-0",children:[se.jsx("img",{className:"w-[32px]",src:bP}),se.jsx("div",{className:"text-lg",children:t}),se.jsx("div",{className:"text-sm text-base-400",children:e}),n]})]}),se.jsxs("div",{className:"w-fit self-center pb-8 text-center text-sm hover:opacity-50",onClick:()=>document.location="mailto:next@polarr.com",children:["Need help? ",se.jsx("span",{className:"text-accent-500",children:"Contact us."})]})]}),"ErrorView"),ja=o(({api:t})=>{const e=t==="webgl2"?"WebGL2":"WebGL";return se.jsx(mo,{title:`${e} is not available`,description:`Polarr Next requires ${e} to function.`,action:se.jsx("a",{className:"electron-no-drag hidden text-sm text-accent-500 hover:opacity-50 sm:block",href:"https://get.webgl.org/",target:"_blank",rel:"noreferrer",children:"Check WebGL support"})})},"WebGLUnavailableErrorView"),fp=o(()=>se.jsx(mo,{title:"Something went wrong",description:"We've been notified. In the meantime, please try refreshing your browser."}),"GenericErrorView"),zv=o(()=>se.jsx(mo,{title:"File system access is not available",description:"Polarr Next requires the file system API to function.",action:se.jsx("a",{className:"electron-no-drag hidden text-sm text-accent-500 hover:opacity-50 sm:block",href:"https://www.google.com/chrome/",target:"_blank",rel:"noreferrer",children:"Install the latest version of Chrome"})}),"FSAPIUnavailableErrorView");var wl={exports:{}};(function(t,e){(function(n,r){var s="",i="?",a="function",c="undefined",u="object",l="string",f="major",d="model",h="name",m="type",p="vendor",g="version",y="architecture",b="console",_="mobile",w="tablet",R="smarttv",I="wearable",S="embedded",E=500,v="Amazon",T="Apple",k="ASUS",x="BlackBerry",A="Browser",P="Chrome",B="Edge",F="Firefox",N="Google",Q="Huawei",j="LG",Se="Microsoft",Xe="Motorola",bt="Opera",Dt="Samsung",me="Sharp",Re="Sony",$e="Xiaomi",ut="Zebra",_n="Facebook",ts="Chromium OS",ii="Mac OS",ns=o(function($,de){var re={};for(var Ce in $)de[Ce]&&de[Ce].length%2===0?re[Ce]=de[Ce].concat($[Ce]):re[Ce]=$[Ce];return re},"extend"),yr=o(function($){for(var de={},re=0;re<$.length;re++)de[$[re].toUpperCase()]=$[re];return de},"enumerize"),_o=o(function($,de){return typeof $===l?vr(de).indexOf(vr($))!==-1:!1},"has"),vr=o(function($){return $.toLowerCase()},"lowerize"),wn=o(function($){return typeof $===l?$.replace(/[^\d\.]/g,s).split(".")[0]:r},"majorize"),Wt=o(function($,de){if(typeof $===l)return $=$.replace(/^\s\s*/,s),typeof de===c?$:$.substring(0,E)},"trim"),Sn=o(function($,de){for(var re=0,Ce,En,tn,Ee,te,nn;re<de.length&&!te;){var Lc=de[re],ef=de[re+1];for(Ce=En=0;Ce<Lc.length&&!te&&Lc[Ce];)if(te=Lc[Ce++].exec($),te)for(tn=0;tn<ef.length;tn++)nn=te[++En],Ee=ef[tn],typeof Ee===u&&Ee.length>0?Ee.length===2?typeof Ee[1]==a?this[Ee[0]]=Ee[1].call(this,nn):this[Ee[0]]=Ee[1]:Ee.length===3?typeof Ee[1]===a&&!(Ee[1].exec&&Ee[1].test)?this[Ee[0]]=nn?Ee[1].call(this,nn,Ee[2]):r:this[Ee[0]]=nn?nn.replace(Ee[1],Ee[2]):r:Ee.length===4&&(this[Ee[0]]=nn?Ee[3].call(this,nn.replace(Ee[1],Ee[2])):r):this[Ee]=nn||r;re+=2}},"rgxMapper"),br=o(function($,de){for(var re in de)if(typeof de[re]===u&&de[re].length>0){for(var Ce=0;Ce<de[re].length;Ce++)if(_o(de[re][Ce],$))return re===i?r:re}else if(_o(de[re],$))return re===i?r:re;return $},"strMapper"),rs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ss={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ge={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,bt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[h,bt+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[h,bt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/\bddg\/([\w\.]+)/i],[g,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[h,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+A],g],[/\bfocus\/([\w\.]+)/i],[g,[h,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,bt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,bt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[g,[h,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+A]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+A],g],[/samsungbrowser\/([\w\.]+)/i],[g,[h,Dt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,_n],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,P+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,br,rs]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,g],[/(cobalt)\/([\w\.]+)/i],[h,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,vr]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,s,vr]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,vr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,Dt],[m,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,Dt],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,T],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,T],[m,w]],[/(macintosh);/i],[d,[p,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,me],[m,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,Q],[m,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,Q],[m,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,$e],[m,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,$e],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[m,_]],[/\b(opd2\d{3}a?) bui/i],[d,[p,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,Xe],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,Xe],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,j],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,j],[m,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[m,_]],[/(pixel c)\b/i],[d,[p,N],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,N],[m,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,Re],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,Re],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,v],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,v],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,x],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,k],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,k],[m,_]],[/(nexus 9)/i],[d,[p,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[m,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[m,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[m,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[m,w]],[/(surface duo)/i],[d,[p,Se],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[m,_]],[/(u304aa)/i],[d,[p,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[m,w]],[/\b(k88) b/i],[d,[p,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[m,w]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[m,_]],[/\b(ph-1) /i],[d,[p,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[p,d,[m,_]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,Se],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,ut],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,ut],[m,_]],[/smart-tv.+(samsung)/i],[p,[m,R]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,Dt],[m,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,j],[m,R]],[/(apple) ?tv/i],[p,[d,T+" TV"],[m,R]],[/crkey/i],[[d,P+"cast"],[p,N],[m,R]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,v],[m,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,me],[m,R]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,Re],[m,R]],[/(mitv-\w{5}) bui/i],[d,[p,$e],[m,R]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[m,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Wt],[d,Wt],[m,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[m,b]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[p,Re],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,Se],[m,b]],[/((pebble))app/i],[p,d,[m,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,T],[m,I]],[/droid.+; (glass) \d/i],[d,[p,N],[m,I]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,ut],[m,I]],[/(quest( \d| pro)?)/i],[d,[p,_n],[m,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[m,S]],[/(aeobc)\b/i],[d,[p,v],[m,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,B+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[g,br,ss]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,br,ss],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,ii],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,g],[/\(bb(10);/i],[g,[h,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[h,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,ts],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,g]]},Fe=o(function($,de){if(typeof $===u&&(de=$,$=r),!(this instanceof Fe))return new Fe($,de).getResult();var re=typeof n!==c&&n.navigator?n.navigator:r,Ce=$||(re&&re.userAgent?re.userAgent:s),En=re&&re.userAgentData?re.userAgentData:r,tn=de?ns(ge,de):ge,Ee=re&&re.userAgent==Ce;return this.getBrowser=function(){var te={};return te[h]=r,te[g]=r,Sn.call(te,Ce,tn.browser),te[f]=wn(te[g]),Ee&&re&&re.brave&&typeof re.brave.isBrave==a&&(te[h]="Brave"),te},this.getCPU=function(){var te={};return te[y]=r,Sn.call(te,Ce,tn.cpu),te},this.getDevice=function(){var te={};return te[p]=r,te[d]=r,te[m]=r,Sn.call(te,Ce,tn.device),Ee&&!te[m]&&En&&En.mobile&&(te[m]=_),Ee&&te[d]=="Macintosh"&&re&&typeof re.standalone!==c&&re.maxTouchPoints&&re.maxTouchPoints>2&&(te[d]="iPad",te[m]=w),te},this.getEngine=function(){var te={};return te[h]=r,te[g]=r,Sn.call(te,Ce,tn.engine),te},this.getOS=function(){var te={};return te[h]=r,te[g]=r,Sn.call(te,Ce,tn.os),Ee&&!te[h]&&En&&En.platform&&En.platform!="Unknown"&&(te[h]=En.platform.replace(/chrome os/i,ts).replace(/macos/i,ii)),te},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(te){return Ce=typeof te===l&&te.length>E?Wt(te,E):te,this},this.setUA(Ce),this},"UAParser");Fe.BROWSER=yr([h,g,f]),Fe.CPU=yr([y]),Fe.DEVICE=yr([d,p,m,b,_,R,w,I,S]),Fe.ENGINE=Fe.OS=yr([h,g]),t.exports&&(e=t.exports=Fe),e.UAParser=Fe;var ae=typeof n!==c&&(n.jQuery||n.Zepto);if(ae&&!ae.ua){var xe=new Fe;ae.ua=xe.getResult(),ae.ua.get=function(){return xe.getUA()},ae.ua.set=function($){xe.setUA($);var de=xe.getResult();for(var re in de)ae.ua[re]=de[re]}}})(typeof window=="object"?window:i_)})(wl,wl.exports);var _P=wl.exports;const qv=o(()=>se.jsx(mo,{title:"Your device is not compatible",description:"Polarr Next is designed for desktop and laptop usage."}),"SmallScreenErrorView"),Wv=o(()=>se.jsx(mo,{title:"Your browser is not compatible",description:"In order to use Polarr Next you will need to update to the latest version of Chrome.",action:se.jsx("a",{className:"electron-no-drag hidden text-sm text-accent-500 hover:opacity-50 sm:block",href:"https://www.google.com/chrome/",target:"_blank",rel:"noreferrer",children:"Install the latest version of Chrome"})}),"UnsupportedBrowserErrorView");var Sl=o(function(t,e){return Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Sl(t,e)},"extendStatics");function Qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sl(t,e);function n(){this.constructor=t}o(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}o(Qr,"__extends");var Z=o(function(){return Z=Object.assign||o(function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},"__assign"),Z.apply(this,arguments)},"__assign$1");function El(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}o(El,"__rest");function W(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return o(s,"adopt"),new(n||(n=Promise))(function(i,a){function c(f){try{l(r.next(f))}catch(d){a(d)}}o(c,"fulfilled");function u(f){try{l(r.throw(f))}catch(d){a(d)}}o(u,"rejected");function l(f){f.done?i(f.value):s(f.value).then(c,u)}o(l,"step"),l((r=r.apply(t,e||[])).next())})}o(W,"__awaiter");function H(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}o(H,"__generator");function qs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(qs,"__values");function it(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}o(it,"__read");function on(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}o(on,"__spreadArray");var wP="Event tracked successfully",SP="Unexpected error occurred",EP="Event rejected due to exceeded retry count",TP="Event skipped due to optOut config",kP="Event rejected due to missing API key",IP="Invalid API key",xP="Client not initialized",Je;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(Je||(Je={}));var Sr;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(Sr||(Sr={}));var Ws;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(Ws||(Ws={}));var Ft;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(Ft||(Ft={}));var Ke;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(Ke||(Ke={}));var Is=o(function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Ke.Unknown),{event:t,code:e,message:n}},"buildResult"),go=o(function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,go)},"UUID"),RP=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return o(t,"Timeline"),t.prototype.register=function(e,n){var r,s,i;return W(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return e.name=(r=e.name)!==null&&r!==void 0?r:go(),e.type=(s=e.type)!==null&&s!==void 0?s:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,n,this.client)];case 1:return a.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var n;return W(this,void 0,void 0,function(){var r,s;return H(this,function(i){switch(i.label){case 0:return r=this.plugins.findIndex(function(a){return a.name===e}),s=this.plugins[r],this.plugins.splice(r,1),[4,(n=s.teardown)===null||n===void 0?void 0:n.call(s)];case 1:return i.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var n=this.plugins;n.map(function(r){var s;return(s=r.teardown)===null||s===void 0?void 0:s.call(r)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(r){n.queue.push([e,r]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return W(this,void 0,void 0,function(){var n,r,s,i,a,c,u,m,p,l,f,d,h,m,p,g,y,b,_,w,R,I;return H(this,function(S){switch(S.label){case 0:if(!e)return[2];n=it(e,1),r=n[0],s=it(e,2),i=s[1],a=this.plugins.filter(function(E){return E.type==="before"}),S.label=1;case 1:S.trys.push([1,6,7,8]),c=qs(a),u=c.next(),S.label=2;case 2:return u.done?[3,5]:(m=u.value,m.execute?[4,m.execute(Z({},r))]:[3,4]);case 3:if(p=S.sent(),p===null)return i({event:r,code:100,message:"Event was dropped by a plugin"}),[2];r=p,S.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return l=S.sent(),_={error:l},[3,8];case 7:try{u&&!u.done&&(w=c.return)&&w.call(c)}finally{if(_)throw _.error}return[7];case 8:f=this.plugins.filter(function(E){return E.type==="enrichment"||E.type===void 0}),S.label=9;case 9:S.trys.push([9,14,15,16]),d=qs(f),h=d.next(),S.label=10;case 10:return h.done?[3,13]:(m=h.value,m.execute?[4,m.execute(Z({},r))]:[3,12]);case 11:if(p=S.sent(),p===null)return i({event:r,code:100,message:"Event was dropped by a plugin"}),[2];r=p,S.label=12;case 12:return h=d.next(),[3,10];case 13:return[3,16];case 14:return g=S.sent(),R={error:g},[3,16];case 15:try{h&&!h.done&&(I=d.return)&&I.call(d)}finally{if(R)throw R.error}return[7];case 16:return y=this.plugins.filter(function(E){return E.type==="destination"}),b=y.map(function(E){var v=Z({},r);return E.execute(v).catch(function(T){return Is(v,0,String(T))})}),Promise.all(b).then(function(E){var v=it(E,1),T=v[0],k=T||Is(r,100,"Event not tracked, no destination plugins on the instance");i(k)}),[2]}})})},t.prototype.flush=function(){return W(this,void 0,void 0,function(){var e,n,r,s=this;return H(this,function(i){switch(i.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(a){return s.apply(a)}))];case 1:return i.sent(),n=this.plugins.filter(function(a){return a.type==="destination"}),r=n.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(r)];case 2:return i.sent(),[2]}})})},t}(),hp="-",Ac="AMP",CP="".concat(Ac,"_unsent"),Hv="https://api2.amplitude.com/2/httpapi",AP="https://api.eu.amplitude.com/2/httpapi",OP="https://api2.amplitude.com/batch",PP="https://api.eu.amplitude.com/batch",MP=1e3,Tl=o(function(t){if(Object.keys(t).length>MP)return!1;for(var e in t){var n=t[e];if(!Vv(e,n))return!1}return!0},"isValidObject"),Vv=o(function(t,e){var n,r;if(typeof t!="string")return!1;if(Array.isArray(e)){var s=!0;try{for(var i=qs(e),a=i.next();!a.done;a=i.next()){var c=a.value;if(Array.isArray(c))return!1;if(typeof c=="object")s=s&&Tl(c);else if(!["number","string"].includes(typeof c))return!1;if(!s)return!1}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return Tl(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},"isValidProperties"),Hs=function(){function t(){this._propertySet=new Set,this._properties={}}return o(t,"Identify"),t.prototype.getUserProperties=function(){return Z({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(Je.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(Je.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(Je.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(Je.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(Je.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(Je.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(Je.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(Je.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(Je.UNSET,e,hp),this},t.prototype.clearAll=function(){return this._properties={},this._properties[Je.CLEAR_ALL]=hp,this},t.prototype._safeSet=function(e,n,r){if(this._validate(e,n,r)){var s=this._properties[e];return s===void 0&&(s={},this._properties[e]=s),s[n]=r,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,r){return this._properties[Je.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===Je.ADD?typeof r=="number":e!==Je.UNSET&&e!==Je.REMOVE?Vv(n,r):!0},t}(),NP=o(function(t,e,n){var r=typeof t=="string"?{event_type:t}:t;return Z(Z(Z({},r),n),e&&{event_properties:e})},"createTrackEvent"),Gv=o(function(t,e){var n=Z(Z({},e),{event_type:Ws.IDENTIFY,user_properties:t.getUserProperties()});return n},"createIdentifyEvent"),DP=o(function(t,e,n,r){var s,i=Z(Z({},r),{event_type:Ws.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(s={},s[t]=e,s)});return i},"createGroupIdentifyEvent"),LP=o(function(t,e,n){var r,s=new Hs;s.set(t,e);var i=Z(Z({},n),{event_type:Ws.IDENTIFY,user_properties:s.getUserProperties(),groups:(r={},r[t]=e,r)});return i},"createGroupEvent"),FP=o(function(t,e){return Z(Z({},e),{event_type:Ws.REVENUE,event_properties:t.getEventProperties()})},"createRevenueEvent"),Gt=o(function(t){return{promise:t||Promise.resolve()}},"returnWrapper"),UP=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new RP(this),this.name=e}return o(t,"AmplitudeCore"),t.prototype._init=function(e){return W(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return n.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return W(this,void 0,void 0,function(){var n,r,s,i,a,c,u;return H(this,function(l){switch(l.label){case 0:n=this[e],this[e]=[],l.label=1;case 1:l.trys.push([1,6,7,8]),r=qs(n),s=r.next(),l.label=2;case 2:return s.done?[3,5]:(i=s.value,[4,i()]);case 3:l.sent(),l.label=4;case 4:return s=r.next(),[3,2];case 5:return[3,8];case 6:return a=l.sent(),c={error:a},[3,8];case 7:try{s&&!s.done&&(u=r.return)&&u.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,n,r){var s=NP(e,n,r);return Gt(this.dispatch(s))},t.prototype.identify=function(e,n){var r=Gv(e,n);return Gt(this.dispatch(r))},t.prototype.groupIdentify=function(e,n,r,s){var i=DP(e,n,r,s);return Gt(this.dispatch(i))},t.prototype.setGroup=function(e,n,r){var s=LP(e,n,r);return Gt(this.dispatch(s))},t.prototype.revenue=function(e,n){var r=FP(e,n);return Gt(this.dispatch(r))},t.prototype.add=function(e){return this.config?Gt(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),Gt())},t.prototype.remove=function(e){return this.config?Gt(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),Gt())},t.prototype.dispatchWithCallback=function(e,n){if(!this.config)return n(Is(e,0,xP));this.process(e).then(n)},t.prototype.dispatch=function(e){return W(this,void 0,void 0,function(){var n=this;return H(this,function(r){return this.config?[2,this.process(e)]:[2,new Promise(function(s){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,s))})]})})},t.prototype.process=function(e){return W(this,void 0,void 0,function(){var s,n,r,s;return H(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.config.optOut?[2,Is(e,0,TP)]:[4,this.timeline.push(e)];case 1:return s=i.sent(),s.code===200?this.config.loggerProvider.log(s.message):s.code===100?this.config.loggerProvider.warn(s.message):this.config.loggerProvider.error(s.message),[2,s];case 2:return n=i.sent(),r=String(n),this.config.loggerProvider.error(r),s=Is(e,0,r),[2,s];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return Gt(this.timeline.flush())},t}(),BP=function(){function t(){this.productId="",this.quantity=1,this.price=0}return o(t,"Revenue"),t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return Tl(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?Z({},this.properties):{};return e[Sr.REVENUE_PRODUCT_ID]=this.productId,e[Sr.REVENUE_QUANTITY]=this.quantity,e[Sr.REVENUE_PRICE]=this.price,e[Sr.REVENUE_TYPE]=this.revenueType,e[Sr.REVENUE]=this.revenue,e},t}(),$P=o(function(t,e){var n=Math.max(e,1);return t.reduce(function(r,s,i){var a=Math.floor(i/n);return r[a]||(r[a]=[]),r[a].push(s),r},[])},"chunk"),Lo="Amplitude Logger ",Kv=function(){function t(){this.logLevel=Ft.None}return o(t,"Logger"),t.prototype.disable=function(){this.logLevel=Ft.None},t.prototype.enable=function(e){e===void 0&&(e=Ft.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Ft.Verbose||"".concat(Lo,"[Log]: ").concat(e.join(" "))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Ft.Warn||"".concat(Lo,"[Warn]: ").concat(e.join(" "))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Ft.Error||console.error("".concat(Lo,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Ft.Debug||"".concat(Lo,"[Debug]: ").concat(e.join(" "))},t}(),sa=o(function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Ft.Warn,loggerProvider:new Kv,optOut:!1,serverUrl:Hv,serverZone:"US",useBatch:!1}},"getDefaultConfig"),jP=function(){function t(e){var n,r,s,i;this._optOut=!1;var a=sa();this.apiKey=e.apiKey,this.flushIntervalMillis=(n=e.flushIntervalMillis)!==null&&n!==void 0?n:a.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||a.flushQueueSize,this.instanceName=e.instanceName||a.instanceName,this.loggerProvider=e.loggerProvider||a.loggerProvider,this.logLevel=(r=e.logLevel)!==null&&r!==void 0?r:a.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(s=e.optOut)!==null&&s!==void 0?s:a.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||a.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(i=e.useBatch)!==null&&i!==void 0?i:a.useBatch,this.loggerProvider.enable(this.logLevel);var c=Zv(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return o(t,"Config"),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}(),zP=o(function(t,e){return t==="EU"?e?PP:AP:e?OP:Hv},"getServerUrl"),Zv=o(function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=sa().serverZone),n===void 0&&(n=sa().useBatch),t)return{serverUrl:t,serverZone:void 0};var r=["US","EU"].includes(e)?e:sa().serverZone;return{serverZone:r,serverUrl:zP(r,n)}},"createServerConfig");function qP(t){return t instanceof Error?t.message:String(t)}o(qP,"getErrorMessage");function Fo(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}o(Fo,"getResponseBodyString");var WP=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return o(t,"Destination"),t.prototype.setup=function(e){var n;return W(this,void 0,void 0,function(){var r,s=this;return H(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(CP,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return r=i.sent(),this.saveEvents(),r&&r.length>0&&Promise.all(r.map(function(a){return s.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return new Promise(function(r){var s={event:e,attempts:0,callback:function(i){return r(i)},timeout:0};n.addToQueue(s)})},t.prototype.addToQueue=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=n.filter(function(i){return i.attempts<e.config.flushMaxRetries?(i.attempts+=1,!0):(e.fulfillRequest([i],500,EP),!1)});s.forEach(function(i){if(e.queue=e.queue.concat(i),i.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){i.timeout=0,e.schedule(0)},i.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var n=this;this.scheduled||(this.scheduled=setTimeout(function(){n.flush(!0).then(function(){n.queue.length>0&&n.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),W(this,void 0,void 0,function(){var n,r,s,i=this;return H(this,function(a){switch(a.label){case 0:return n=[],r=[],this.queue.forEach(function(c){return c.timeout===0?n.push(c):r.push(c)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),s=$P(n,this.config.flushQueueSize),[4,Promise.all(s.map(function(c){return i.send(c,e)}))];case 1:return a.sent(),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),W(this,void 0,void 0,function(){var r,s,i,a,c;return H(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,kP)];r={api_key:this.config.apiKey,events:e.map(function(l){var f=l.event;f.extra;var d=El(f,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},u.label=1;case 1:return u.trys.push([1,3,,4]),s=Zv(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(s,r)];case 2:return i=u.sent(),i===null?(this.fulfillRequest(e,0,SP),[2]):n?(this.handleResponse(i,e),[3,4]):("body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(Fo(i))):this.fulfillRequest(e,i.statusCode,i.status),[2]);case 3:return a=u.sent(),c=qP(a),this.config.loggerProvider.error(c),this.fulfillRequest(e,0,c),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,n){var r=e.status;switch(r){case Ke.Success:{this.handleSuccessResponse(e,n);break}case Ke.Invalid:{this.handleInvalidResponse(e,n);break}case Ke.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,n);break}case Ke.RateLimit:{this.handleRateLimitResponse(e,n);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(r,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,wP)},t.prototype.handleInvalidResponse=function(e,n){var r=this;if(e.body.missingField||e.body.error.startsWith(IP)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var s=on(on(on(on([],it(Object.values(e.body.eventsWithInvalidFields)),!1),it(Object.values(e.body.eventsWithMissingFields)),!1),it(Object.values(e.body.eventsWithInvalidIdLengths)),!1),it(e.body.silencedEvents),!1).flat(),i=new Set(s),a=n.filter(function(c,u){if(i.has(u)){r.fulfillRequest([c],e.statusCode,e.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn(Fo(e)),this.addToQueue.apply(this,on([],it(a),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Fo(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,on([],it(n),!1))},t.prototype.handleRateLimitResponse=function(e,n){var r=this,s=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),a=e.body.throttledEvents,c=new Set(s),u=new Set(i),l=new Set(a),f=n.filter(function(d,h){if(d.event.user_id&&c.has(d.event.user_id)||d.event.device_id&&u.has(d.event.device_id)){r.fulfillRequest([d],e.statusCode,e.body.error);return}return l.has(h)&&(d.timeout=r.throttleTimeout),!0});f.length>0&&this.config.loggerProvider.warn(Fo(e)),this.addToQueue.apply(this,on([],it(f),!1))},t.prototype.handleOtherResponse=function(e){var n=this;this.addToQueue.apply(this,on([],it(e.map(function(r){return r.timeout=r.attempts*n.retryTimeout,r})),!1))},t.prototype.fulfillRequest=function(e,n,r){this.saveEvents(),e.forEach(function(s){return s.callback(Is(s.event,n,r))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(n){return n.event}));this.config.storageProvider.set(this.storageKey,e)}},t}(),HP=o(function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(n){return n.trim()})},"getStacktrace"),We=o(function(t){return function(){var e=Z({},t.config),n=e.loggerProvider,r=e.logLevel;return{logger:n,logLevel:r}}},"getClientLogConfig"),VP=o(function(t,e){var n,r;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var s=qs(e.split(".")),i=s.next();!i.done;i=s.next()){var a=i.value;if(a in t)t=t[a];else return}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return t},"getValueByStringPath"),He=o(function(t,e){return function(){var n,r,s={};try{for(var i=qs(e),a=i.next();!a.done;a=i.next()){var c=a.value;s[c]=VP(t,c)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}},"getClientStates"),Ve=o(function(t,e,n,r,s){return s===void 0&&(s=null),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=n(),u=c.logger,l=c.logLevel;if(l&&l<Ft.Debug||!l||!u)return t.apply(s,i);var f={type:"invoke public method",name:e,args:i,stacktrace:HP(1),time:{start:new Date().toISOString()},states:{}};r&&f.states&&(f.states.before=r());var d=t.apply(s,i);return d&&d.promise?d.promise.then(function(){r&&f.states&&(f.states.after=r()),f.time&&(f.time.end=new Date().toISOString()),u.debug(JSON.stringify(f,null,2))}):(r&&f.states&&(f.states.after=r()),f.time&&(f.time.end=new Date().toISOString()),u.debug(JSON.stringify(f,null,2))),d}},"debugWrapper"),Yv=function(){function t(){this.memoryStorage=new Map}return o(t,"MemoryStorage"),t.prototype.isEnabled=function(){return W(this,void 0,void 0,function(){return H(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return W(this,void 0,void 0,function(){return H(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return n=r.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return W(this,void 0,void 0,function(){return H(this,function(r){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return W(this,void 0,void 0,function(){return H(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return W(this,void 0,void 0,function(){return H(this,function(e){return this.memoryStorage.clear(),[2]})})},t}(),zd=function(){function t(){}return o(t,"BaseTransport"),t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,r,s,i,a,c,u,l,f,d,h,m,p,g,y,b,_,w,R,I,S,E;if(typeof e!="object")return null;var v=e.code||0,T=this.buildStatus(v);switch(T){case Ke.Success:return{status:T,statusCode:v,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(s=e.server_upload_time)!==null&&s!==void 0?s:0}};case Ke.Invalid:return{status:T,statusCode:v,body:{error:(i=e.error)!==null&&i!==void 0?i:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(c=e.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(l=e.events_with_invalid_id_lengths)!==null&&l!==void 0?l:{},epsThreshold:(f=e.eps_threshold)!==null&&f!==void 0?f:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(h=e.silenced_devices)!==null&&h!==void 0?h:[],silencedEvents:(m=e.silenced_events)!==null&&m!==void 0?m:[],throttledDevices:(p=e.throttled_devices)!==null&&p!==void 0?p:{},throttledEvents:(g=e.throttled_events)!==null&&g!==void 0?g:[]}};case Ke.PayloadTooLarge:return{status:T,statusCode:v,body:{error:(y=e.error)!==null&&y!==void 0?y:""}};case Ke.RateLimit:return{status:T,statusCode:v,body:{error:(b=e.error)!==null&&b!==void 0?b:"",epsThreshold:(_=e.eps_threshold)!==null&&_!==void 0?_:0,throttledDevices:(w=e.throttled_devices)!==null&&w!==void 0?w:{},throttledUsers:(R=e.throttled_users)!==null&&R!==void 0?R:{},exceededDailyQuotaDevices:(I=e.exceeded_daily_quota_devices)!==null&&I!==void 0?I:{},exceededDailyQuotaUsers:(S=e.exceeded_daily_quota_users)!==null&&S!==void 0?S:{},throttledEvents:(E=e.throttled_events)!==null&&E!==void 0?E:[]}};case Ke.Timeout:default:return{status:T,statusCode:v}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?Ke.Success:e===429?Ke.RateLimit:e===413?Ke.PayloadTooLarge:e===408?Ke.Timeout:e>=400&&e<500?Ke.Invalid:e>=500?Ke.Failed:Ke.Unknown},t}(),ir=o(function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},"getGlobalScope"),kl=o(function(){var t,e=ir();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(s,i){var a=i.split("=",2),c=pp(a[0]),u=pp(a[1]);return u&&(s[c]=u),s},{});return r},"getQueryParams$1"),pp=o(function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}},"tryDecodeURIComponent"),GP="utm_campaign",KP="utm_content",ZP="utm_id",YP="utm_medium",QP="utm_source",XP="utm_term",mp="dclid",gp="fbclid",yp="gbraid",vp="gclid",bp="ko_click_id",_p="li_fat_id",wp="msclkid",Sp="rtd_cid",Ep="ttclid",Tp="twclid",kp="wbraid",qd={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Qv=function(){function t(){}return o(t,"CampaignParser"),t.prototype.parse=function(){return W(this,void 0,void 0,function(){return H(this,function(e){return[2,Z(Z(Z(Z({},qd),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=kl(),n=e[GP],r=e[KP],s=e[ZP],i=e[YP],a=e[QP],c=e[XP];return{utm_campaign:n,utm_content:r,utm_id:s,utm_medium:i,utm_source:a,utm_term:c}},t.prototype.getReferrer=function(){var e,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},t.prototype.getClickIds=function(){var e,n=kl();return e={},e[mp]=n[mp],e[gp]=n[gp],e[yp]=n[yp],e[vp]=n[vp],e[bp]=n[bp],e[_p]=n[_p],e[wp]=n[wp],e[Sp]=n[Sp],e[Ep]=n[Ep],e[Tp]=n[Tp],e[kp]=n[kp],e},t}(),Xv=o(function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[Ac,e,t.substring(0,n)].filter(Boolean).join("_")},"getCookieName"),JP=o(function(t){return"".concat(Ac.toLowerCase(),"_").concat(t.substring(0,6))},"getOldCookieName"),Il=o(function(t,e){e===void 0&&(e=Date.now());var n=Date.now(),r=n-e;return r>t},"isSessionExpired"),xl=function(){function t(e){this.options=Z({},e)}return o(t,"CookieStorage"),t.prototype.isEnabled=function(){return W(this,void 0,void 0,function(){var e,n,r;return H(this,function(s){switch(s.label){case 0:if(!ir())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,e.set(n,t.testValue)];case 2:return s.sent(),[4,e.get(n)];case 3:return r=s.sent(),[2,r===t.testValue];case 4:return s.sent(),[2,!1];case 5:return[4,e.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return[4,this.getRaw(e)];case 1:if(n=r.sent(),!n)return[2,void 0];try{try{n=decodeURIComponent(atob(n))}catch{}return[2,JSON.parse(n)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n,r;return W(this,void 0,void 0,function(){var s,i,a;return H(this,function(c){return s=ir(),i=(r=(n=s?.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&r!==void 0?r:[],a=i.find(function(u){return u.indexOf(e+"=")===0}),a?[2,a.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var r;return W(this,void 0,void 0,function(){var s,i,a,c,u,l;return H(this,function(f){try{s=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,i=n!==null?s:-1,a=void 0,i&&(c=new Date,c.setTime(c.getTime()+i*24*60*60*1e3),a=c),u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),a&&(u+="; expires=".concat(a.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),l=ir(),l&&(l.document.cookie=u)}catch{}return[2]})})},t.prototype.remove=function(e){return W(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return W(this,void 0,void 0,function(){return H(this,function(e){return[2]})})},t}(),e1=function(t){Qr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"FetchTransport"),e.prototype.send=function(n,r){return W(this,void 0,void 0,function(){var s,i,a;return H(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return s={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(n,s)];case 1:return i=c.sent(),[4,i.json()];case 2:return a=c.sent(),[2,this.buildResponse(a)]}})})},e}(zd),t1=function(){function t(){}return o(t,"ApplicationContextProviderImpl"),t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:n1(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),n1=o(function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},"getLanguage$1"),r1=function(){function t(){this.queue=[]}return o(t,"EventBridgeImpl"),t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),Qn=o(function(){return Qn=Object.assign||o(function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},"__assign"),Qn.apply(this,arguments)},"__assign"),ia=o(function(t,e){var n=["string","number","boolean","undefined"],r=typeof t,s=typeof e;if(r!==s)return!1;for(var i=0,a=n;i<a.length;i++){var c=a[i];if(c===r)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var u=Array.isArray(t),l=Array.isArray(e);if(u!==l)return!1;if(u&&l){for(var f=0;f<t.length;f++)if(!ia(t[f],e[f]))return!1}else{var d=Object.keys(t).sort(),h=Object.keys(e).sort();if(!ia(d,h))return!1;var m=!0;return Object.keys(t).forEach(function(p){ia(t[p],e[p])||(m=!1)}),m}return!0},"isEqual"),s1="$set",i1="$unset",o1="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var a1=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return o(t,"IdentityStoreImpl"),t.prototype.editIdentity=function(){var e=this,n=Qn({},this.identity.userProperties),r=Qn(Qn({},this.identity),{userProperties:n});return{setUserId:function(s){return r.userId=s,this},setDeviceId:function(s){return r.deviceId=s,this},setUserProperties:function(s){return r.userProperties=s,this},setOptOut:function(s){return r.optOut=s,this},updateUserProperties:function(s){for(var i=r.userProperties||{},a=0,c=Object.entries(s);a<c.length;a++){var u=c[a],l=u[0],f=u[1];switch(l){case s1:for(var d=0,h=Object.entries(f);d<h.length;d++){var m=h[d],p=m[0],g=m[1];i[p]=g}break;case i1:for(var y=0,b=Object.keys(f);y<b.length;y++){var p=b[y];delete i[p]}break;case o1:i={};break}}return r.userProperties=i,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return Qn({},this.identity)},t.prototype.setIdentity=function(e){var n=Qn({},this.identity);this.identity=Qn({},e),ia(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),li=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,c1=function(){function t(){this.identityStore=new a1,this.eventBridge=new r1,this.applicationContextProvider=new t1}return o(t,"AnalyticsConnector"),t.getInstance=function(e){return li.analyticsConnectorInstances||(li.analyticsConnectorInstances={}),li.analyticsConnectorInstances[e]||(li.analyticsConnectorInstances[e]=new t),li.analyticsConnectorInstances[e]},t}(),Xi=o(function(t){return t===void 0&&(t="$default_instance"),c1.getInstance(t)},"getAnalyticsConnector"),u1=o(function(t,e){Xi(e).identityStore.editIdentity().setUserId(t).commit()},"setConnectorUserId"),l1=o(function(t,e){Xi(e).identityStore.editIdentity().setDeviceId(t).commit()},"setConnectorDeviceId"),d1=function(){function t(){this.name="identity",this.type="before",this.identityStore=Xi().identityStore}return o(t,"IdentityEventSender"),t.prototype.execute=function(e){return W(this,void 0,void 0,function(){var n;return H(this,function(r){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return W(this,void 0,void 0,function(){return H(this,function(n){return e.instanceName&&(this.identityStore=Xi(e.instanceName).identityStore),[2]})})},t}(),f1=o(function(){var t,e,n,r;if(typeof navigator>"u")return"";var s=navigator.userLanguage;return(r=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:s)!==null&&r!==void 0?r:""},"getLanguage"),yo=o(function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},"isTrackingEnabled"),Jv=o(function(t){return yo(t,"attribution")},"isAttributionTrackingEnabled"),h1=o(function(t){return yo(t,"fileDownloads")},"isFileDownloadTrackingEnabled"),p1=o(function(t){return yo(t,"formInteractions")},"isFormInteractionTrackingEnabled"),m1=o(function(t){return yo(t,"pageViews")},"isPageViewTrackingEnabled"),g1=o(function(t){return yo(t,"sessions")},"isSessionTrackingEnabled"),y1=o(function(t){var e=o(function(){return!1},"trackOn"),n=void 0,r,s=m1(t.defaultTracking);return s&&(e=void 0,r=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(r=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:n,eventType:r}},"getPageViewTrackingConfig"),v1=o(function(t){return Jv(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?Z({},t.defaultTracking.attribution):{}},"getAttributionTrackingConfig"),eb=o(function(t){if(t.user_properties){var e=t.user_properties,n=e[Je.SET]||{},r=e[Je.UNSET]||{},s=on(on([],it(Object.keys(n)),!1),it(Object.keys(r)),!1);return Object.keys(qd).every(function(i){return s.includes(i)})}return!1},"isCampaignEvent"),au=o(function(t,e){for(var n=0;n<e.length;n++){var r=e[n],s=r.name,i=r.args,a=r.resolve,c=t&&t[s];if(typeof c=="function"){var u=c.apply(t,i);typeof a=="function"&&a(u?.promise)}}return t},"convertProxyObjectToRealObject"),cu=o(function(t){var e=t;return e&&e._q!==void 0},"isInstanceProxy"),b1="2.3.7",_1="Web",w1="$remote",S1=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(b1),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return o(t,"Context"),t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var n,r;return W(this,void 0,void 0,function(){var s,i,a,c;return H(this,function(u){return s=new Date().getTime(),i=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,a=(r=e.event_id)!==null&&r!==void 0?r:i+1,this.config.lastEventId=a,e.time||(this.config.lastEventTime=s),c=Z(Z(Z(Z(Z(Z(Z(Z({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:s},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:_1}),this.config.trackingOptions.language&&{language:f1()}),this.config.trackingOptions.ipAddress&&{ip:w1}),{insert_id:go(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,c]})})},t}(),tb=function(){function t(e){this.storage=e}return o(t,"BrowserStorage"),t.prototype.isEnabled=function(){return W(this,void 0,void 0,function(){var e,n,r,s;return H(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),n=new t(this.storage),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,e)];case 2:return i.sent(),[4,n.get(r)];case 3:return s=i.sent(),[2,s===e];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=r.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return W(this,void 0,void 0,function(){return H(this,function(r){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var r;return W(this,void 0,void 0,function(){return H(this,function(s){try{(r=this.storage)===null||r===void 0||r.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return W(this,void 0,void 0,function(){return H(this,function(r){try{(n=this.storage)===null||n===void 0||n.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return W(this,void 0,void 0,function(){return H(this,function(n){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}(),Uo=1e3,nb=function(t){Qr(e,t);function e(n){var r=this,s;return r=t.call(this,(s=ir())===null||s===void 0?void 0:s.localStorage)||this,r.loggerProvider=n?.loggerProvider,r}return o(e,"LocalStorage"),e.prototype.set=function(n,r){var s;return W(this,void 0,void 0,function(){var i;return H(this,function(a){switch(a.label){case 0:return Array.isArray(r)&&r.length>Uo?(i=r.length-Uo,[4,t.prototype.set.call(this,n,r.slice(0,Uo))]):[3,2];case 1:return a.sent(),(s=this.loggerProvider)===null||s===void 0||s.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(Uo,".")),[3,4];case 2:return[4,t.prototype.set.call(this,n,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},e}(tb),E1=function(t){Qr(e,t);function e(){var n;return t.call(this,(n=ir())===null||n===void 0?void 0:n.sessionStorage)||this}return o(e,"SessionStorage"),e}(tb),T1=function(t){Qr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return o(e,"XHRTransport"),e.prototype.send=function(n,r){return W(this,void 0,void 0,function(){var s=this;return H(this,function(i){return[2,new Promise(function(a,c){typeof XMLHttpRequest>"u"&&c(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",n,!0),u.onreadystatechange=function(){if(u.readyState===s.state.done)try{var l=u.responseText,f=JSON.parse(l),d=s.buildResponse(f);a(d)}catch(h){c(h)}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(r))})]})})},e}(zd),k1=function(t){Qr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"SendBeaconTransport"),e.prototype.send=function(n,r){return W(this,void 0,void 0,function(){var s=this;return H(this,function(i){return[2,new Promise(function(a,c){var u=ir();if(!u?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var l=JSON.stringify(r),f=u.navigator.sendBeacon(n,JSON.stringify(r));return a(f?s.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:l.length,server_upload_time:Date.now()}):s.buildResponse({code:500}))}catch(d){c(d)}})]})})},e}(zd),I1=o(function(t,e,n){return n===void 0&&(n=!0),W(void 0,void 0,void 0,function(){var r,s,i,a,c,u,l,f,d;return H(this,function(h){switch(h.label){case 0:return r=JP(t),[4,e.getRaw(r)];case 1:return s=h.sent(),s?n?[4,e.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:h.sent(),h.label=3;case 3:return i=it(s.split("."),6),a=i[0],c=i[1],u=i[2],l=i[3],f=i[4],d=i[5],[2,{deviceId:a,userId:x1(c),sessionId:uu(l),lastEventId:uu(d),lastEventTime:uu(f),optOut:!!u}]}})})},"parseLegacyCookies"),uu=o(function(t){var e=parseInt(t,32);if(!isNaN(e))return e},"parseTime"),x1=o(function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}},"decode"),en="[Amplitude]",Ip="".concat(en," Form Started"),R1="".concat(en," Form Submitted"),C1="".concat(en," File Downloaded"),xp="session_start",Rp="session_end",A1="".concat(en," File Extension"),O1="".concat(en," File Name"),P1="".concat(en," Link ID"),M1="".concat(en," Link Text"),N1="".concat(en," Link URL"),lu="".concat(en," Form ID"),du="".concat(en," Form Name"),fu="".concat(en," Form Destination"),za="cookie",D1="US",L1=function(t){Qr(e,t);function e(n,r,s,i,a,c,u,l,f,d,h,m,p,g,y,b,_,w,R,I,S,E,v,T,k,x,A,P,B){s===void 0&&(s=new Yv),i===void 0&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),l===void 0&&(l=5),f===void 0&&(f=30),d===void 0&&(d=za),y===void 0&&(y=new Kv),b===void 0&&(b=Ft.Warn),w===void 0&&(w=!1),S===void 0&&(S=""),E===void 0&&(E=D1),T===void 0&&(T=30*60*1e3),k===void 0&&(k=new nb({loggerProvider:y})),x===void 0&&(x={ipAddress:!0,language:!0,platform:!0}),A===void 0&&(A="fetch"),P===void 0&&(P=!1);var F=t.call(this,{apiKey:n,storageProvider:k,transportProvider:rb(A)})||this;return F.apiKey=n,F.appVersion=r,F.cookieOptions=i,F.defaultTracking=a,F.flushIntervalMillis=u,F.flushMaxRetries=l,F.flushQueueSize=f,F.identityStorage=d,F.ingestionMetadata=h,F.instanceName=m,F.loggerProvider=y,F.logLevel=b,F.minIdLength=_,F.partnerId=R,F.plan=I,F.serverUrl=S,F.serverZone=E,F.sessionTimeout=T,F.storageProvider=k,F.trackingOptions=x,F.transport=A,F.useBatch=P,F._optOut=!1,F._cookieStorage=s,F.deviceId=c,F.lastEventId=p,F.lastEventTime=g,F.optOut=w,F.sessionId=v,F.userId=B,F.loggerProvider.enable(F.logLevel),F}return o(e,"BrowserConfig"),Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};this.cookieStorage.set(Xv(this.apiKey),n)},e}(jP),F1=o(function(t,e,n){return e===void 0&&(e={}),W(void 0,void 0,void 0,function(){var r,s,i,a,c,u,l,f,d,h,m,p,g,y,b,_,w,R,I,S,E,v,T,k,x,A,P,B,F,N,Q,j,Se,Xe,bt,Dt,me,Re,$e;return H(this,function(ut){switch(ut.label){case 0:return r=e.identityStorage||za,_={},r===za?[3,1]:(i="",[3,5]);case 1:return(R=(w=e.cookieOptions)===null||w===void 0?void 0:w.domain)!==null&&R!==void 0?(a=R,[3,4]):[3,2];case 2:return[4,B1()];case 3:a=ut.sent(),ut.label=4;case 4:i=a,ut.label=5;case 5:return s=Z.apply(void 0,[(_.domain=i,_.expiration=365,_.sameSite="Lax",_.secure=!1,_.upgrade=!0,_),e.cookieOptions]),c=U1(e.identityStorage,s),[4,I1(t,c,(S=(I=e.cookieOptions)===null||I===void 0?void 0:I.upgrade)!==null&&S!==void 0?S:!0)];case 6:return u=ut.sent(),[4,c.get(Xv(t))];case 7:return l=ut.sent(),f=kl(),d=(k=(T=(v=(E=e.deviceId)!==null&&E!==void 0?E:f.deviceId)!==null&&v!==void 0?v:l?.deviceId)!==null&&T!==void 0?T:u.deviceId)!==null&&k!==void 0?k:go(),h=(x=l?.lastEventId)!==null&&x!==void 0?x:u.lastEventId,m=(A=l?.lastEventTime)!==null&&A!==void 0?A:u.lastEventTime,p=(B=(P=e.optOut)!==null&&P!==void 0?P:l?.optOut)!==null&&B!==void 0?B:u.optOut,g=(F=l?.sessionId)!==null&&F!==void 0?F:u.sessionId,y=(Q=(N=e.userId)!==null&&N!==void 0?N:l?.userId)!==null&&Q!==void 0?Q:u.userId,n.previousSessionDeviceId=(j=l?.deviceId)!==null&&j!==void 0?j:u.deviceId,n.previousSessionUserId=(Se=l?.userId)!==null&&Se!==void 0?Se:u.userId,b={ipAddress:(bt=(Xe=e.trackingOptions)===null||Xe===void 0?void 0:Xe.ipAddress)!==null&&bt!==void 0?bt:!0,language:(me=(Dt=e.trackingOptions)===null||Dt===void 0?void 0:Dt.language)!==null&&me!==void 0?me:!0,platform:($e=(Re=e.trackingOptions)===null||Re===void 0?void 0:Re.platform)!==null&&$e!==void 0?$e:!0},[2,new L1(t,e.appVersion,c,s,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,r,e.ingestionMetadata,e.instanceName,h,m,e.loggerProvider,e.logLevel,e.minIdLength,p,e.partnerId,e.plan,e.serverUrl,e.serverZone,g,e.sessionTimeout,e.storageProvider,b,e.transport,e.useBatch,y)]}})})},"useBrowserConfig"),U1=o(function(t,e){switch(t===void 0&&(t=za),e===void 0&&(e={}),t){case"localStorage":return new nb;case"sessionStorage":return new E1;case"none":return new Yv;case"cookie":default:return new xl(Z(Z({},e),{expirationDays:e.expiration}))}},"createCookieStorage"),rb=o(function(t){return t==="xhr"?new T1:t==="beacon"?new k1:new e1},"createTransport"),B1=o(function(t){return W(void 0,void 0,void 0,function(){var e,n,r,s,i,i,a,c,u,l;return H(this,function(f){switch(f.label){case 0:return[4,new xl().isEnabled()];case 1:if(!f.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,n=e.split("."),r=[],s="AMP_TLDTEST",i=n.length-2;i>=0;--i)r.push(n.slice(i).join("."));i=0,f.label=2;case 2:return i<r.length?(a=r[i],c={domain:"."+a},u=new xl(c),[4,u.set(s,1)]):[3,7];case 3:return f.sent(),[4,u.get(s)];case 4:return l=f.sent(),l?[4,u.remove(s)]:[3,6];case 5:return f.sent(),[2,"."+a];case 6:return i++,[3,2];case 7:return[2,""]}})})},"getTopLevelDomain"),$1=o(function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[Ac,e,t.substring(0,n)].filter(Boolean).join("_")},"getStorageKey"),Cp=o(function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},"domainWithoutSubdomain"),j1=o(function(t){return Object.values(t).every(function(e){return!e})},"isDirectTraffic"),z1=o(function(t,e,n,r){r===void 0&&(r=!0),t.referrer;var s=t.referring_domain,i=El(t,["referrer","referring_domain"]),a=e||{};a.referrer;var c=a.referring_domain,u=El(a,["referrer","referring_domain"]);if(q1(n.excludeReferrers,t.referring_domain)||!r&&j1(t)&&e)return!1;var l=JSON.stringify(i)!==JSON.stringify(u),f=Cp(s||"")!==Cp(c||"");return!e||l||f},"isNewCampaign"),q1=o(function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(n){return n instanceof RegExp?n.test(e):n===e})},"isExcludedReferrer"),W1=o(function(t,e){var n=Z(Z({},qd),t),r=Object.entries(n).reduce(function(s,i){var a,c=it(i,2),u=c[0],l=c[1];return s.setOnce("initial_".concat(u),(a=l??e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),l?s.set(u,l):s.unset(u)},new Hs);return Gv(r)},"createCampaignEvent"),H1=o(function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]},"getDefaultExcludedReferrers"),V1=o(function(t){var e=this;t===void 0&&(t={});var n={},r={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(s,i){var a,c;return W(this,void 0,void 0,function(){var u,l,f,d,h,m,p,g,y;return H(this,function(b){switch(b.label){case 0:return u=Z({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:H1((a=s.cookieOptions)===null||a===void 0?void 0:a.domain)},t),s.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),l=s.cookieStorage,f=$1(s.apiKey,"MKTG"),[4,Promise.all([new Qv().parse(),l.get(f)])];case 1:return d=it.apply(void 0,[b.sent(),2]),h=d[0],m=d[1],p=Il(s.sessionTimeout,s.lastEventTime),z1(h,m,u,p)&&(g=(c=s.sessionId)!==null&&c!==void 0?c:-1,(p||u.resetSessionOnNewCampaign)&&(g=Date.now(),i.setSessionId(g),u.resetSessionOnNewCampaign&&s.loggerProvider.log("Created a new session for new campaign.")),y=W1(h,u),y.session_id=g,n[g]=y,i.track(y),l.set(f,h)),[2]}})})},execute:function(s){return W(e,void 0,void 0,function(){var i;return H(this,function(a){if(s.session_id){if(i=n[s.session_id],i)s.user_properties=sb(i.user_properties,s.user_properties),s.event_properties=Z(Z({},s.event_properties),i.event_properties),Object.keys(s.event_properties).length===0&&delete s.event_properties,delete n[s.session_id];else if(eb(s))return[2,null]}return[2,s]})})}};return r},"webAttributionPlugin"),hu=o(function(t){return!!t&&typeof t=="object"&&!Array.isArray(t)},"isObject"),sb=o(function(t,e){var n,r;if(hu(t)&&hu(e))for(var s in e)hu(e[s])?(t[s]||Object.assign(t,(n={},n[s]={},n)),sb(t[s],e[s])):Object.assign(t,(r={},r[s]=e[s],r));return t},"mergeDeep"),G1=o(function(t){var e={};for(var n in t){var r=t[n];r&&(e[n]=r)}return e},"omitUndefined"),K1=o(function(t){t===void 0&&(t={});var e,n=ir(),r=void 0,s,i=o(function(){return W(void 0,void 0,void 0,function(){var d,h,m;return H(this,function(p){switch(p.label){case 0:return h={event_type:(m=t.eventType)!==null&&m!==void 0?m:"[Amplitude] Page Viewed"},d=[{}],[4,Z1()];case 1:return[2,(h.event_properties=Z.apply(void 0,[Z.apply(void 0,d.concat([p.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":typeof location<"u"&&location.href||"","[Amplitude] Page Path":typeof location<"u"&&location.pathname||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":typeof location<"u"&&location.href.split("?")[0]||""}]),h)]}})})},"createPageViewEvent"),a=o(function(){return typeof t.trackOn>"u"||typeof t.trackOn=="function"&&t.trackOn()},"shouldTrackOnPageLoad"),c=typeof location<"u"?location.href:null,u=o(function(){return W(void 0,void 0,void 0,function(){var d,h,m,p;return H(this,function(g){switch(g.label){case 0:return d=location.href,h=Y1(t.trackHistoryChanges,d,c||"")&&a(),c=d,h?(r?.log("Tracking page view event"),e!=null?[3,1]:[3,3]):[3,4];case 1:return p=(m=e).track,[4,i()];case 2:p.apply(m,[g.sent()]),g.label=3;case 3:g.label=4;case 4:return[2]}})})},"trackHistoryPageView"),l=o(function(){u()},"trackHistoryPageViewWrapper"),f={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(d,h){return W(void 0,void 0,void 0,function(){var m,p;return H(this,function(g){switch(g.label){case 0:return e=h,r=d.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),n&&(n.addEventListener("popstate",l),s=n.history.pushState,n.history.pushState=new Proxy(n.history.pushState,{apply:function(y,b,_){var w=it(_,3),R=w[0],I=w[1],S=w[2];y.apply(b,[R,I,S]),u()}})),a()?(r.log("Tracking page view event"),p=(m=e).track,[4,i()]):[3,2];case 1:p.apply(m,[g.sent()]),g.label=2;case 2:return[2]}})})},execute:function(d){return W(void 0,void 0,void 0,function(){var h;return H(this,function(m){switch(m.label){case 0:return t.trackOn==="attribution"&&eb(d)?[4,i()]:[3,2];case 1:h=m.sent(),d.event_type==="$identify"?(r?.log("Enriching campaign event to page view event with campaign parameters"),d.event_type=h.event_type,d.event_properties=Z(Z({},d.event_properties),h.event_properties)):e&&e.track(h),m.label=2;case 2:return[2,d]}})})},teardown:function(){return W(void 0,void 0,void 0,function(){return H(this,function(d){return n&&(n.removeEventListener("popstate",l),s&&(n.history.pushState=s)),[2]})})}};return f},"pageViewTrackingPlugin"),Z1=o(function(){return W(void 0,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return t=G1,[4,new Qv().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},"getCampaignParams"),Y1=o(function(t,e,n){switch(t){case"pathOnly":return e.split("?")[0]!==n.split("?")[0];default:return e!==n}},"shouldTrackHistoryPageView"),Q1=o(function(){var t,e=[],n=o(function(l,f,d){l.addEventListener(f,d),e.push({element:l,type:f,handler:d})},"addEventListener"),r=o(function(){e.forEach(function(l){var f=l.element,d=l.type,h=l.handler;f?.removeEventListener(d,h)}),e=[]},"removeClickListeners"),s="@amplitude/plugin-form-interaction-tracking-browser",i="enrichment",a=o(function(l,f){return W(void 0,void 0,void 0,function(){var d,h;return H(this,function(m){return f?typeof document>"u"||!document.body?[2]:(d=o(function(p){var g=!1;n(p,"change",function(){var y;g||f.track(Ip,(y={},y[lu]=cs(p.id),y[du]=cs(p.name),y[fu]=p.action,y)),g=!0}),n(p,"submit",function(){var y,b;g||f.track(Ip,(y={},y[lu]=cs(p.id),y[du]=cs(p.name),y[fu]=p.action,y)),f.track(R1,(b={},b[lu]=cs(p.id),b[du]=cs(p.name),b[fu]=p.action,b)),g=!1})},"addFormInteractionListener"),h=Array.from(document.getElementsByTagName("form")),h.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(p){p.forEach(function(g){g.addedNodes.forEach(function(y){y.nodeName==="FORM"&&d(y),"querySelectorAll"in y&&typeof y.querySelectorAll=="function"&&Array.from(y.querySelectorAll("form")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(l.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},"setup"),c=o(function(l){return W(void 0,void 0,void 0,function(){return H(this,function(f){return[2,l]})})},"execute"),u=o(function(){return W(void 0,void 0,void 0,function(){return H(this,function(l){return t?.disconnect(),r(),[2]})})},"teardown");return{name:s,type:i,setup:a,execute:c,teardown:u}},"formInteractionTracking"),cs=o(function(t){if(typeof t=="string")return t},"stringOrUndefined"),X1=o(function(){var t,e=[],n=o(function(l,f,d){l.addEventListener(f,d),e.push({element:l,type:f,handler:d})},"addEventListener"),r=o(function(){e.forEach(function(l){var f=l.element,d=l.type,h=l.handler;f?.removeEventListener(d,h)}),e=[]},"removeClickListeners"),s="@amplitude/plugin-file-download-tracking-browser",i="enrichment",a=o(function(l,f){return W(void 0,void 0,void 0,function(){var d,h,m;return H(this,function(p){return f?typeof document>"u"||!document.body?[2]:(d=o(function(g){var y;try{y=new URL(g.href,window.location.href)}catch{return}var b=h.exec(y.href),_=b?.[1];_&&n(g,"click",function(){var w;_&&f.track(C1,(w={},w[A1]=_,w[O1]=y.pathname,w[P1]=g.id,w[M1]=g.text,w[N1]=g.href,w))})},"addFileDownloadListener"),h=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,m=Array.from(document.getElementsByTagName("a")),m.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(g){g.forEach(function(y){y.addedNodes.forEach(function(b){b.nodeName==="A"&&d(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("a")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(l.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},"setup"),c=o(function(l){return W(void 0,void 0,void 0,function(){return H(this,function(f){return[2,l]})})},"execute"),u=o(function(){return W(void 0,void 0,void 0,function(){return H(this,function(l){return t?.disconnect(),r(),[2]})})},"teardown");return{name:s,type:i,setup:a,execute:c,teardown:u}},"fileDownloadTracking"),Ap=!1,J1=o(function(t){if(!(Ap||t.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;t.loggerProvider.warn(e),Ap=!0}},"detNotify"),eM=function(t){Qr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return o(e,"AmplitudeBrowser"),e.prototype.init=function(n,r,s){n===void 0&&(n="");var i,a;return arguments.length>2?(i=r,a=s):typeof r=="string"?(i=r,a=void 0):(i=r?.userId,a=r),Gt(this._init(Z(Z({},a),{userId:i,apiKey:n})))},e.prototype._init=function(n){var r,s;return W(this,void 0,void 0,function(){var i,a,c,u,l,f=this;return H(this,function(d){switch(d.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,F1(n.apiKey,n,this)]);case 1:return i=d.sent(),[4,t.prototype._init.call(this,i)];case 2:return d.sent(),this.setSessionId((s=(r=n.sessionId)!==null&&r!==void 0?r:this.config.sessionId)!==null&&s!==void 0?s:Date.now()),a=Xi(n.instanceName),a.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new WP).promise];case 3:return d.sent(),[4,this.add(new S1).promise];case 4:return d.sent(),[4,this.add(new d1).promise];case 5:return d.sent(),J1(this.config),h1(this.config.defaultTracking)?[4,this.add(X1()).promise]:[3,7];case 6:d.sent(),d.label=7;case 7:return p1(this.config.defaultTracking)?[4,this.add(Q1()).promise]:[3,9];case 8:d.sent(),d.label=9;case 9:return Jv(this.config.defaultTracking)?(c=v1(this.config),u=!this.config.lastEventTime||Il(this.config.sessionTimeout,this.config.lastEventTime)?!1:c.resetSessionOnNewCampaign,l=V1(Z(Z({},c),{resetSessionOnNewCampaign:u})),[4,this.add(l).promise]):[3,11];case 10:d.sent(),d.label=11;case 11:return[4,this.add(K1(y1(this.config))).promise];case 12:return d.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 13:return d.sent(),a.eventBridge.setEventReceiver(function(h){f.track(h.eventType,h.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}(n!==this.config.userId||n===void 0)&&(this.config.userId=n,u1(n,this.config.instanceName))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.deviceId=n,l1(n,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(go()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){var r,s;if(!this.config){this.q.push(this.setSessionId.bind(this,n));return}if(n!==this.config.sessionId){var i=this.getSessionId(),a=(r=this.config.lastEventTime)!==null&&r!==void 0?r:this.sessionStartEventTime;this.config.lastEventId=(s=this.config.lastEventId)!==null&&s!==void 0?s:0,this.config.sessionId=n,this.config.lastEventTime=void 0,g1(this.config.defaultTracking)&&(i&&a&&(this.track(Rp,void 0,{device_id:this.previousSessionDeviceId,event_id:++this.config.lastEventId,session_id:i,time:a+1,user_id:this.previousSessionUserId}),this.sessionStartEventTime=void 0),this.track(xp,void 0,{event_id:++this.config.lastEventId,session_id:this.config.sessionId,time:this.config.sessionId}),this.sessionStartEventTime=this.config.sessionId),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=rb(n)},e.prototype.identify=function(n,r){if(cu(n)){var s=n._q;n._q=[],n=au(new Hs,s)}return r?.user_id&&this.setUserId(r.user_id),r?.device_id&&this.setDeviceId(r.device_id),t.prototype.identify.call(this,n,r)},e.prototype.groupIdentify=function(n,r,s,i){if(cu(s)){var a=s._q;s._q=[],s=au(new Hs,a)}return t.prototype.groupIdentify.call(this,n,r,s,i)},e.prototype.revenue=function(n,r){if(cu(n)){var s=n._q;n._q=[],n=au(new BP,s)}return t.prototype.revenue.call(this,n,r)},e.prototype.process=function(n){return W(this,void 0,void 0,function(){var r,s;return H(this,function(i){return r=Date.now(),s=Il(this.config.sessionTimeout,this.config.lastEventTime),n.event_type!==xp&&n.event_type!==Rp&&(!n.session_id||n.session_id===this.getSessionId())&&s&&this.setSessionId(r),[2,t.prototype.process.call(this,n)]})})},e}(UP),tM=o(function(){var t=new eM;return{init:Ve(t.init.bind(t),"init",We(t),He(t,["config"])),add:Ve(t.add.bind(t),"add",We(t),He(t,["config.apiKey","timeline.plugins"])),remove:Ve(t.remove.bind(t),"remove",We(t),He(t,["config.apiKey","timeline.plugins"])),track:Ve(t.track.bind(t),"track",We(t),He(t,["config.apiKey","timeline.queue.length"])),logEvent:Ve(t.logEvent.bind(t),"logEvent",We(t),He(t,["config.apiKey","timeline.queue.length"])),identify:Ve(t.identify.bind(t),"identify",We(t),He(t,["config.apiKey","timeline.queue.length"])),groupIdentify:Ve(t.groupIdentify.bind(t),"groupIdentify",We(t),He(t,["config.apiKey","timeline.queue.length"])),setGroup:Ve(t.setGroup.bind(t),"setGroup",We(t),He(t,["config.apiKey","timeline.queue.length"])),revenue:Ve(t.revenue.bind(t),"revenue",We(t),He(t,["config.apiKey","timeline.queue.length"])),flush:Ve(t.flush.bind(t),"flush",We(t),He(t,["config.apiKey","timeline.queue.length"])),getUserId:Ve(t.getUserId.bind(t),"getUserId",We(t),He(t,["config","config.userId"])),setUserId:Ve(t.setUserId.bind(t),"setUserId",We(t),He(t,["config","config.userId"])),getDeviceId:Ve(t.getDeviceId.bind(t),"getDeviceId",We(t),He(t,["config","config.deviceId"])),setDeviceId:Ve(t.setDeviceId.bind(t),"setDeviceId",We(t),He(t,["config","config.deviceId"])),reset:Ve(t.reset.bind(t),"reset",We(t),He(t,["config","config.userId","config.deviceId"])),getSessionId:Ve(t.getSessionId.bind(t),"getSessionId",We(t),He(t,["config"])),setSessionId:Ve(t.setSessionId.bind(t),"setSessionId",We(t),He(t,["config"])),extendSession:Ve(t.extendSession.bind(t),"extendSession",We(t),He(t,["config"])),setOptOut:Ve(t.setOptOut.bind(t),"setOptOut",We(t),He(t,["config"])),setTransport:Ve(t.setTransport.bind(t),"setTransport",We(t),He(t,["config"]))}},"createInstance");const vo=tM();var uF=vo.getUserId,Op=vo.identify,nM=vo.init,rM=vo.setUserId,sM=vo.track,Ss={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.initDataLayer=t.gtag=t.default=void 0;var e=t.initDataLayer=o(function(){window.dataLayer=window.dataLayer||[]},"initDataLayer");t.install=o(function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a="ga-gtag";if(!document.getElementById(a)){var c=document,u=c.head,l=document.createElement("script");l.id=a,l.async=!0,l.src="https://www.googletagmanager.com/gtag/js?id=".concat(s),u.insertBefore(l,u.firstChild),e(),n("js",new Date),n("config",s,i)}},"install");var n=t.gtag=o(function(){window.dataLayer.push(arguments)},"gtag");t.default=n})(Ss);function iM(){return window.electron?"electron":ab()?"pwa":"browser"}o(iM,"getRuntime");const Pp=!!window.electron,ib={runtime:iM(),app_version:"2.2.12"};window.electron&&(ib.electron_shell_version=window.electron.shellVersion);const oM="90e2e6454354f60e6660f9d566362c2b",aM="G-QSGKGPEF1T";function lF(){nM(oM,{defaultTracking:!0})}o(lF,"initializeAmplitude");Ss.install(aM);window.addEventListener("load",()=>{const t=new URLSearchParams(window.location.search),e=t.get("from"),n=t.get("result");if(e==="stripe_checkout_session"&&n){const r={};for(const s of t)r[s[0]]=s[1];Pn.trackEvent({label:n,type:"event",value:JSON.stringify(r)}),window.history.replaceState({},document.title,window.location.pathname)}});const Pn={trackEvent:(t,e)=>{let n=t.breadcrumbs,r=t.view;if(e&&e instanceof Element){const a=cM(e);n=a.join(" -> "),r=a.pop()??t.view}let s=t.clickType;!s&&t.type==="click"&&(s="single");const i={...ib,type:t.type,clickType:s,label:t.label,value:t.value,view:r,breadcrumbs:n,errorReason:t.errorReason};window.electron&&(i.electronShellVersion=window.electron.shellVersion),sM(i.label,i),Ss.gtag("event",i.label,i)},setUserInfo:t=>{rM(t.userId),ny({id:t.userId,username:t.displayName,email:t.email});const e=(t.subscriptions??[]).some(s=>s.status==="active"),n=(t.purchases??[]).some(s=>s.status==="active"),r=new Hs;r.set("has_active_purchase",n),r.set("has_active_subscription",e),Pp&&r.set("has_authenticated_electron",!0),Op(r),Ss.gtag("set","user_properties",{user_id:t.userId,has_active_purchase:n,has_active_subscription:e}),Pp&&Ss.gtag("set","user_properties",{has_authenticated_electron:!0})},setUserProperties:t=>{const e=new Hs;for(const[n,r]of Object.entries(t))e.set(n,r);Op(e),Ss.gtag("set","user_properties",t)}};function cM(t){const e=[];let n=t?.closest("[aria-label]");for(;n;){const r=n?.getAttribute("aria-label");r&&e.unshift(r),n=n.parentElement?.closest("[aria-label]")}return e}o(cM,"getViewHierarchy");var It={VITE_STRIPE_PUBLIC_KEY:"pk_test_Y1Gm7jbkWqZkNLC9I5VzskI0",VITE_AUTH0_DOMAIN:"auth.polarr.com",VITE_AUTH0_CLIENT_ID:"UDZKxzTPzbvkxQVbmijlMEneem7t7klY",VITE_AUTH0_AUDIENCE:"https://api.polarr.co/polarr-next/",VITE_POLARR_NEXT_API_BASE_URI:"https://api.polarr.co/polarr-next",VITE_ANALYTICS_ENVIRONMENT:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let uM=0;function Be(t,e){const n=`atom${++uM}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=s=>s(r),r.write=(s,i,a)=>i(r,typeof a=="function"?a(s(r)):a)),e&&(r.write=e),r}o(Be,"atom");const pu=o(t=>"init"in t,"hasInitialValue"),mu=o(t=>!!t.write,"isActuallyWritableAtom"),qa=new WeakMap,lM=o((t,e)=>{qa.set(t,e),t.catch(()=>{}).finally(()=>qa.delete(t))},"registerCancelPromise"),Mp=o((t,e)=>{const n=qa.get(t);n&&(qa.delete(t),n(e))},"cancelPromise"),Np=o((t,e)=>{t.status="fulfilled",t.value=e},"resolvePromise"),Dp=o((t,e)=>{t.status="rejected",t.reason=e},"rejectPromise"),Bo=o((t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),"isEqualAtomValue"),Lp=o((t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),"isEqualAtomError"),gu=o(t=>"v"in t&&t.v instanceof Promise,"hasPromiseAtomValue"),$o=o(t=>{if("e"in t)throw t.e;return t.v},"returnAtomValue"),dM=o(()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,s;(It&&"production")!=="production"&&(r=new Set,s=new Set);const i=o(v=>t.get(v),"getAtomState"),a=o((v,T)=>{(It&&"production")!=="production"&&Object.freeze(T);const k=t.get(v);if(t.set(v,T),n.has(v)||n.set(v,k),k&&gu(k)){const x="v"in T?T.v instanceof Promise?T.v:Promise.resolve(T.v):Promise.reject(T.e);Mp(k.v,x)}},"setAtomState"),c=o((v,T,k)=>{const x=new Map;let A=!1;k.forEach((P,B)=>{!P&&B===v&&(P=T),P&&(x.set(B,P),T.d.get(B)!==P&&(A=!0))}),(A||T.d.size!==x.size)&&(T.d=x)},"updateDependencies"),u=o((v,T,k)=>{const x=i(v),A={d:x?.d||new Map,v:T};return k&&c(v,A,k),x&&Bo(x,A)&&x.d===A.d?x:(a(v,A),A)},"setAtomValue"),l=o((v,T,k,x)=>{if(T instanceof Promise){let A;const P=new Promise((B,F)=>{let N=!1;T.then(Q=>{if(!N){N=!0;const j=i(v),Se=u(v,P,k);Np(P,Q),B(Q),j?.d!==Se.d&&I(v,Se,j?.d)}},Q=>{if(!N){N=!0;const j=i(v),Se=u(v,P,k);Dp(P,Q),F(Q),j?.d!==Se.d&&I(v,Se,j?.d)}}),A=o(Q=>{N||(N=!0,Q.then(j=>Np(P,j),j=>Dp(P,j)),B(Q))},"continuePromise")});return P.status="pending",lM(P,B=>{B&&A(B),x?.()}),u(v,P,k)}return u(v,T,k)},"setAtomValueOrPromise"),f=o((v,T,k)=>{const x=i(v),A={d:x?.d||new Map,e:T};return k&&c(v,A,k),x&&Lp(x,A)&&x.d===A.d?x:(a(v,A),A)},"setAtomError"),d=o(v=>{const T=i(v);if(T&&(T.d.forEach((N,Q)=>{Q!==v&&!e.has(Q)&&d(Q)}),Array.from(T.d).every(([N,Q])=>N===v||i(N)===Q)))return T;const k=new Map;let x=!0;const A=o(N=>{if(N===v){const j=i(N);if(j)return k.set(N,j),$o(j);if(pu(N))return k.set(N,void 0),N.init;throw new Error("no atom init")}const Q=d(N);return k.set(N,Q),$o(Q)},"getter");let P,B;const F={get signal(){return P||(P=new AbortController),P.signal},get setSelf(){return(It&&"production")!=="production"&&mu(v),!B&&mu(v)&&(B=o((...N)=>{if(!x)return _(v,...N)},"setSelf")),B}};try{const N=v.read(A,F);return l(v,N,k,()=>P?.abort())}catch(N){return f(v,N,k)}finally{x=!1}},"readAtomState"),h=o(v=>$o(d(v)),"readAtom"),m=o(v=>{let T=e.get(v);return T||(T=w(v)),T},"addAtom"),p=o((v,T)=>!T.l.size&&(!T.t.size||T.t.size===1&&T.t.has(v)),"canUnmountAtom"),g=o(v=>{const T=e.get(v);T&&p(v,T)&&R(v)},"delAtom"),y=o(v=>{const T=e.get(v);T?.t.forEach(k=>{if(k!==v){const x=i(k),A=d(k);(!x||!Bo(x,A))&&y(k)}})},"recomputeDependents"),b=o((v,...T)=>{let k=!0;const x=o(B=>$o(d(B)),"getter"),A=o((B,...F)=>{let N;if(B===v){if(!pu(B))throw new Error("atom not writable");const Q=i(B),j=l(B,F[0]);(!Q||!Bo(Q,j))&&y(B)}else N=b(B,...F);return k||S(),N},"setter"),P=v.write(x,A,...T);return k=!1,P},"writeAtomState"),_=o((v,...T)=>{const k=b(v,...T);return S(),k},"writeAtom"),w=o((v,T)=>{const k={t:new Set(T&&[T]),l:new Set};if(e.set(v,k),(It&&"production")!=="production"&&s.add(v),d(v).d.forEach((x,A)=>{const P=e.get(A);P?P.t.add(v):A!==v&&w(A,v)}),d(v),mu(v)&&v.onMount){const x=v.onMount((...A)=>_(v,...A));x&&(k.u=x)}return k},"mountAtom"),R=o(v=>{var T;const k=(T=e.get(v))==null?void 0:T.u;k&&k(),e.delete(v),(It&&"production")!=="production"&&s.delete(v);const x=i(v);x&&(gu(x)&&Mp(x.v),x.d.forEach((A,P)=>{if(P!==v){const B=e.get(P);B&&(B.t.delete(v),p(P,B)&&R(P))}}))},"unmountAtom"),I=o((v,T,k)=>{const x=new Set(T.d.keys());k?.forEach((A,P)=>{if(x.has(P)){x.delete(P);return}const B=e.get(P);B&&(B.t.delete(v),p(P,B)&&R(P))}),x.forEach(A=>{const P=e.get(A);P?P.t.add(v):e.has(v)&&w(A,v)})},"mountDependencies"),S=o(()=>{for(;n.size;){const v=Array.from(n);n.clear(),v.forEach(([T,k])=>{const x=i(T);if(x){x.d!==k?.d&&I(T,x,k?.d);const A=e.get(T);A&&!(k&&!gu(k)&&(Bo(k,x)||Lp(k,x)))&&A.l.forEach(P=>P())}})}(It&&"production")!=="production"&&r.forEach(v=>v("state"))},"flushPending"),E=o((v,T)=>{const k=m(v);S();const x=k.l;return x.add(T),(It&&"production")!=="production"&&r.forEach(A=>A("sub")),()=>{x.delete(T),g(v),(It&&"production")!=="production"&&r.forEach(A=>A("unsub"))}},"subscribeAtom");return(It&&"production")!=="production"?{get:h,set:_,sub:E,dev_subscribe_store:v=>(r.add(v),()=>{r.delete(v)}),dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:v=>t.get(v),dev_get_mounted:v=>e.get(v),dev_restore_atoms:v=>{for(const[T,k]of v)pu(T)&&(l(T,k),y(T));S()}}:{get:h,set:_,sub:E}},"createStore");let yu;const ob=o(()=>(yu||(yu=dM()),yu),"getDefaultStore");var fM={VITE_STRIPE_PUBLIC_KEY:"pk_test_Y1Gm7jbkWqZkNLC9I5VzskI0",VITE_AUTH0_DOMAIN:"auth.polarr.com",VITE_AUTH0_CLIENT_ID:"UDZKxzTPzbvkxQVbmijlMEneem7t7klY",VITE_AUTH0_AUDIENCE:"https://api.polarr.co/polarr-next/",VITE_POLARR_NEXT_API_BASE_URI:"https://api.polarr.co/polarr-next",VITE_ANALYTICS_ENVIRONMENT:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const hM=D.createContext(void 0),Wd=o(t=>{const e=D.useContext(hM);return t?.store||e||ob()},"useStore"),pM=o(t=>t instanceof Promise,"isPromise$1"),mM=zl.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function gM(t,e){const n=Wd(e),[[r,s,i],a]=D.useReducer(l=>{const f=n.get(t);return Object.is(l[0],f)&&l[1]===n&&l[2]===t?l:[f,n,t]},void 0,()=>[n.get(t),n,t]);let c=r;(s!==n||i!==t)&&(a(),c=n.get(t));const u=e?.delay;return D.useEffect(()=>{const l=n.sub(t,()=>{if(typeof u=="number"){setTimeout(a,u);return}a()});return a(),l},[n,t,u]),D.useDebugValue(c),pM(c)?mM(c):c}o(gM,"useAtomValue");function yM(t,e){const n=Wd(e);return D.useCallback((...s)=>{if((fM&&"production")!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}o(yM,"useSetAtom");function dF(t,e){return[gM(t,e),yM(t,e)]}o(dF,"useAtom");const er=ob();function ab(){return window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}o(ab,"isStandaloneMode");const Cr=Be("not-available"),vM=Be(void 0);function bM(){window.onbeforeinstallprompt===null&&(window.onbeforeinstallprompt=t=>{er.set(Cr,"not-installed"),t.preventDefault(),er.set(vM,t)},window.onappinstalled=()=>{const t=window.location.href.replace("/download","");window.open(t,"_self"),er.set(Cr,"installed");const e=er.get(Cr);fi("polarr.pwaInstallationStatus",e),Pn.setUserProperties({pwaInstallationStatus:e})})}o(bM,"listenForPWAEvents");function fF(){const t=ab();if(fi("polarr.isStandAloneMode",t),Pn.setUserProperties({windowIsStandAloneMode:t.toString()}),window.matchMedia("(display-mode: standalone)").addEventListener("change",e=>{let n=!1;e.matches&&(n=!0),fi("polarr.isStandAloneMode",n),Pn.setUserProperties({windowIsStandAloneMode:n.toString()})}),window.onbeforeinstallprompt!==void 0&&er.get(Cr)==="not-available")er.set(Cr,"installed"),setTimeout(()=>{const e=er.get(Cr);fi("polarr.pwaInstallationStatus",e),Pn.setUserProperties({pwaInstallationStatus:e})},1e3);else{const e=er.get(Cr);fi("polarr.pwaInstallationStatus",e),Pn.setUserProperties({pwaInstallationStatus:e})}}o(fF,"initPWATrackingTags");function vu(t,e,n,r){return new(n||(n=Promise))(function(s,i){function a(l){try{u(r.next(l))}catch(f){i(f)}}o(a,"i");function c(l){try{u(r.throw(l))}catch(f){i(f)}}o(c,"c");function u(l){var f;l.done?s(l.value):(f=l.value,f instanceof n?f:new n(function(d){d(f)})).then(a,c)}o(u,"d"),u((r=r.apply(t,e||[])).next())})}o(vu,"e$1");const _M=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function Fp(t){return t=t.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}o(Fp,"r");const cb=typeof window>"u",an=(()=>{if(cb)return;const{userAgent:t,platform:e,maxTouchPoints:n}=window.navigator,r=/(iphone|ipod|ipad)/i.test(t),s=e==="iPad"||e==="MacIntel"&&n>0&&!window.MSStream;return{isIpad:s,isMobile:/android/i.test(t)||r||s,isSafari12:/Version\/12.+Safari/.test(t),isFirefox:/Firefox/.test(t)}})();function wM(t,e,n){if(!n)return[e];const r=function(l){const f=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,d=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,h=l.createShader(35633),m=l.createShader(35632),p=l.createProgram();if(!(m&&h&&p))return;l.shaderSource(h,f),l.shaderSource(m,d),l.compileShader(h),l.compileShader(m),l.attachShader(p,h),l.attachShader(p,m),l.linkProgram(p),l.detachShader(p,h),l.detachShader(p,m),l.deleteShader(h),l.deleteShader(m),l.useProgram(p);const g=l.createBuffer();l.bindBuffer(34962,g),l.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const y=l.getAttribLocation(p,"aPosition");l.vertexAttribPointer(y,3,5126,!1,0,0),l.enableVertexAttribArray(y),l.clearColor(1,1,1,1),l.clear(16384),l.viewport(0,0,1,1),l.drawArrays(4,0,3);const b=new Uint8Array(4);return l.readPixels(0,0,1,1,6408,5121,b),l.deleteProgram(p),l.deleteBuffer(g),b.join("")}(t),s="801621810",i="8016218135",a="80162181161",c=an?.isIpad?[["a7",a,12],["a8",i,15],["a8x",i,15],["a9",i,15],["a9x",i,15],["a10",i,15],["a10x",i,15],["a12",s,15],["a12x",s,15],["a12z",s,15],["a14",s,15],["a15",s,15],["m1",s,15],["m2",s,15]]:[["a7",a,12],["a8",i,12],["a9",i,15],["a10",i,15],["a11",s,15],["a12",s,15],["a13",s,15],["a14",s,15],["a15",s,15],["a16",s,15],["a17",s,15]];let u;return r==="80162181255"?u=c.filter(([,,l])=>l>=14):(u=c.filter(([,l])=>l===r),u.length||(u=c)),u.map(([l])=>`apple ${l} gpu`)}o(wM,"a$1");class Up extends Error{static{o(this,"i")}constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const bu=[],Bp=[];function SM(t,e){if(t===e)return 0;const n=t;t.length>e.length&&(t=e,e=n);let r=t.length,s=e.length;for(;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-s);)r--,s--;let i,a=0;for(;a<r&&t.charCodeAt(a)===e.charCodeAt(a);)a++;if(r-=a,s-=a,r===0)return s;let c,u,l=0,f=0,d=0;for(;f<r;)Bp[f]=t.charCodeAt(a+f),bu[f]=++f;for(;d<s;)for(i=e.charCodeAt(a+d),c=d++,l=d,f=0;f<r;f++)u=i===Bp[f]?c:c+1,c=bu[f],l=bu[f]=c>l?u>l?l+1:u:u>c?c+1:u;return l}o(SM,"l$1");function EM(t){return t!=null}o(EM,"s");const hF=o(({mobileTiers:t=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:n={},glContext:r,failIfMajorPerformanceCaveat:s=!1,benchmarksURL:i="https://unpkg.com/detect-gpu@5.0.57/dist/benchmarks"}={})=>vu(void 0,void 0,void 0,function*(){const a={};if(cb)return{tier:0,type:"SSR"};const{isIpad:c=!!an?.isIpad,isMobile:u=!!an?.isMobile,screenSize:l=window.screen,loadBenchmarks:f=o(I=>vu(void 0,void 0,void 0,function*(){const S=yield fetch(`${i}/${I}`).then(E=>E.json());if(parseInt(S.shift().split(".")[0],10)<4)throw new Up("Detect GPU benchmark data is out of date. Please update to version 4x");return S}),"x")}=n;let{renderer:d}=n;const h=o((I,S,E,v,T)=>({device:T,fps:v,gpu:E,isMobile:u,tier:I,type:S}),"P");let m,p="";if(d)d=Fp(d),m=[d];else{const I=r||function(E,v=!1){const T={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:v,powerPreference:"high-performance",stencil:!1};E&&delete T.powerPreference;const k=window.document.createElement("canvas"),x=k.getContext("webgl",T)||k.getContext("experimental-webgl",T);return x??void 0}(an?.isSafari12,s);if(!I)return h(0,"WEBGL_UNSUPPORTED");const S=an?.isFirefox?null:I.getExtension("WEBGL_debug_renderer_info");if(d=S?I.getParameter(S.UNMASKED_RENDERER_WEBGL):I.getParameter(I.RENDERER),!d)return h(1,"FALLBACK");p=d,d=Fp(d),m=function(E,v,T){return v==="apple gpu"?wM(E,v,T):[v]}(I,d,u)}const g=(yield Promise.all(m.map(function(I){var S;return vu(this,void 0,void 0,function*(){const E=(me=>{const Re=u?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce","adreno"];for(const $e of Re)if(me.includes($e))return $e})(I);if(!E)return;const v=`${u?"m":"d"}-${E}${c?"-ipad":""}.json`,T=a[v]=(S=a[v])!==null&&S!==void 0?S:f(v);let k;try{k=yield T}catch(me){if(me instanceof Up)throw me;return}const x=function(me){var Re;const $e=(me=me.replace(/\([^)]+\)/,"")).match(/\d+/)||me.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(Re=$e?.join("").replace(/\W|amd/g,""))!==null&&Re!==void 0?Re:""}(I);let A=k.filter(([,me])=>me===x);A.length||(A=k.filter(([me])=>me.includes(I)));const P=A.length;if(P===0)return;const B=I.split(/[.,()\[\]/\s]/g).sort().filter((me,Re,$e)=>Re===0||me!==$e[Re-1]).join(" ");let F,[N,,,,Q]=P>1?A.map(me=>[me,SM(B,me[2])]).sort(([,me],[,Re])=>me-Re)[0][0]:A[0],j=Number.MAX_VALUE;const{devicePixelRatio:Se}=window,Xe=l.width*Se*l.height*Se;for(const me of Q){const[Re,$e]=me,ut=Re*$e,_n=Math.abs(Xe-ut);_n<j&&(j=_n,F=me)}if(!F)return;const[,,bt,Dt]=F;return[j,bt,N,Dt]})}))).filter(EM).sort(([I=Number.MAX_VALUE,S],[E=Number.MAX_VALUE,v])=>I===E?S-v:I-E);if(!g.length){const I=_M.find(S=>d.includes(S));return I?h(0,"BLOCKLISTED",I):h(1,"FALLBACK",`${d} (${p})`)}const[,y,b,_]=g[0];if(y===-1)return h(0,"BLOCKLISTED",b,y,_);const w=u?t:e;let R=0;for(let I=0;I<w.length;I++)y>=w[I]&&(R=I);return h(R,"BENCHMARK",b,y,_)}),"f$1");function TM(){const t={vendor:"unknown",renderer:"unknown",blacklisted:!1,supportedExtensions:[]},e=document.createElement("canvas"),n=e.getContext("webgl",{powerPreference:"high-performance"})||e.getContext("experimental-webgl",{powerPreference:"high-performance"});if(!n)return t;t.supportedExtensions=n.getSupportedExtensions(),t.supportedExtensions?.includes("OES_texture_float")||(t.blacklisted=!0);const r=n.getExtension("WEBGL_debug_renderer_info");return r&&(t.vendor=n.getParameter(r.UNMASKED_VENDOR_WEBGL),t.renderer=n.getParameter(r.UNMASKED_RENDERER_WEBGL)),t}o(TM,"getGPUDebugInfo");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kM=1e-7,IM=1e-4;class pF{static{o(this,"DataStorage")}constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class xM{static{o(this,"KernelBackend")}refCount(e){return _t("refCount")}incRef(e){return _t("incRef")}timerAvailable(){return!0}time(e){return _t("time")}read(e){return _t("read")}readSync(e){return _t("readSync")}readToGPU(e,n){return _t("readToGPU")}numDataIds(){return _t("numDataIds")}disposeData(e,n){return _t("disposeData")}write(e,n,r){return _t("write")}move(e,n,r,s,i){return _t("move")}createTensorFromGPUData(e,n,r){return _t("createTensorFromGPUData")}memory(){return _t("memory")}floatPrecision(){return _t("floatPrecision")}epsilon(){return this.floatPrecision()===32?kM:IM}dispose(){return _t("dispose")}}function _t(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}o(_t,"notYetImplemented");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mF(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,RM(t,e,n)}o(mF,"shuffle");function gF(t,e,n){return Math.max(t,Math.min(e,n))}o(gF,"clamp");function yF(t){return t%2===0?t:t+1}o(yF,"nearestLargerEven");function RM(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}o(RM,"swap");function vF(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}o(vF,"sum");function ie(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}o(ie,"assert");function CM(t,e,n=""){ie(Hd(t,e),()=>n+` Shapes ${t} and ${e} must match`)}o(CM,"assertShapesMatch");function bF(t){ie(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}o(bF,"assertNonNull");function jt(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}o(jt,"sizeFromShape");function _F(t){return t.length===0}o(_F,"isScalarShape");function wF(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}o(wF,"arraysEqualWithNull");function Hd(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}o(Hd,"arraysEqual");function AM(t){return t%1===0}o(AM,"isInt");function SF(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}o(SF,"sizeToSquarishShape");function oa(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}o(oa,"rightPad");function EF(t,e=s=>0,n,r){return new Promise((s,i)=>{let a=0;const c=o(()=>{if(t()){s();return}a++;const u=e(a);if(n!=null&&a>=n){i();return}r!=null?r(c,u):setTimeout(c,u)},"tryFn");c()})}o(EF,"repeatedTry");function TF(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}o(TF,"inferFromImplicitShape");function OM(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),ie(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),ie(t.every(r=>AM(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}o(OM,"parseAxisParam");function kF(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:OM(e,t).sort();let a=0;for(let c=0;c<t.length;++c){if(i!=null){if(i[a]===c&&t[c]!==1)throw new Error(`Can't squeeze axis ${c} since its dim '${t[c]}' is not 1`);(i[a]==null||i[a]>c)&&t[c]===1&&(n.push(t[c]),r.push(c)),i[a]<=c&&a++}t[c]!==1&&(n.push(t[c]),r.push(c))}return{newShape:n,keptDims:r}}o(kF,"squeezeShape");function IF(t,e){return ub(t,e)}o(IF,"getTypedArrayFromDType");function ub(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}o(ub,"getArrayFromDType");function PM(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}o(PM,"checkConversionForErrors");function MM(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}o(MM,"isValidDtype");function xF(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}o(xF,"hasEncodingLoss");function Rl(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}o(Rl,"bytesPerElement");function NM(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}o(NM,"bytesFromStringArray");function Vd(t){return typeof t=="string"||t instanceof String}o(Vd,"isString");function DM(t){return typeof t=="boolean"}o(DM,"isBoolean");function LM(t){return typeof t=="number"}o(LM,"isNumber");function Oc(t){return Array.isArray(t)?Oc(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":LM(t)?"float32":Vd(t)?"string":DM(t)?"bool":"float32"}o(Oc,"inferDtype");function Cl(t){return!!(t&&t.constructor&&t.call&&t.apply)}o(Cl,"isFunction");function RF(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}o(RF,"nearestDivisor");function Gd(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}o(Gd,"computeStrides");function lb(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let a=0;a<i;a++)s[a]=n[t+a]}else{const i=e[0],a=e.slice(1),c=a.reduce((u,l)=>u*l)*(r?2:1);for(let u=0;u<i;u++)s[u]=lb(t+u*c,a,n,r)}return s}o(lb,"createNestedArray");function xi(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return lb(0,t,e,n)}o(xi,"toNestedArray");function CF(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}o(CF,"convertBackendValuesAndArrayBuffer");function FM(t,e){const n=db(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}o(FM,"makeOnesTypedArray");function db(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}o(db,"makeZerosTypedArray");function AF(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return xi(t,new Float32Array(n));if(e==="int32")return xi(t,new Int32Array(n));if(e==="bool")return xi(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}o(AF,"makeZerosNestedTypedArray");function Kd(t){t.forEach(e=>{ie(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}o(Kd,"assertNonNegativeIntegerDimensions");function OF(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}o(OF,"locToIndex");function PF(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}o(PF,"indexToLoc");function Zd(t){return t&&t.then&&typeof t.then=="function"}o(Zd,"isPromise");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $p="tfjsflags";class UM{static{o(this,"Environment")}constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=BM,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(we().getBool("IS_TEST")||we().getBool("PROD")||`${this.platformName}${e}`),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];we().getBool("IS_TEST")||we().getBool("PROD")||`${e}${s}`,this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Zd(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);$p in e&&e[$p].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=jM(s,i)})}}function BM(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>($M(e,r[0],r[1]),r.join("="))),e}o(BM,"getQueryParams");function $M(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}o($M,"decodeParam");function jM(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}o(jM,"parseValue");function we(){return fb}o(we,"env");let fb=null;function zM(t){fb=t}o(zM,"setEnvironmentGlobal");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _u;function hb(){if(_u==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");_u=t}return _u}o(hb,"getGlobalNamespace");function qM(){const t=hb();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}o(qM,"getGlobalMap");function Yd(t,e){const n=qM();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}o(Yd,"getGlobal");const WM="Abs",MF="Acos",NF="Acosh",pb="Add",DF="AddN",LF="All",FF="Any",UF="ArgMax",BF="ArgMin",$F="Asin",jF="Asinh",zF="Atan",qF="Atanh",WF="Atan2",HF="AvgPool",VF="AvgPoolGrad",GF="AvgPool3D",KF="AvgPool3DGrad",ZF="BatchMatMul",YF="BatchToSpaceND",QF="Bincount",XF="BitwiseAnd",JF="BroadcastTo",eU="BroadcastArgs",mb="Cast",tU="Ceil",nU="ClipByValue",HM="Complex",VM="ComplexAbs",rU="Concat",sU="Conv2D",iU="Conv2DBackpropFilter",oU="Conv2DBackpropInput",aU="Conv3D",cU="Conv3DBackpropFilterV2",uU="Conv3DBackpropInputV2",lU="Cos",dU="Cosh",fU="Cumprod",hU="Cumsum",pU="CropAndResize",mU="DenseBincount",gU="DepthToSpace",yU="DepthwiseConv2dNative",vU="DepthwiseConv2dNativeBackpropFilter",bU="DepthwiseConv2dNativeBackpropInput",_U="Diag",wU="Dilation2D",SU="Dilation2DBackpropInput",EU="Dilation2DBackpropFilter",TU="Draw",GM="RealDiv",kU="Einsum",IU="Elu",xU="EluGrad",RU="Erf",CU="Equal",AU="Exp",OU="ExpandDims",PU="Expm1",MU="FFT",KM="Fill",NU="FlipLeftRight",DU="Floor",ZM="FloorDiv",LU="FusedBatchNorm",FU="GatherV2",UU="GatherNd",BU="Greater",$U="GreaterEqual",gb="Identity",jU="IFFT",zU="Imag",qU="IsFinite",WU="IsInf",HU="IsNan",VU="LeakyRelu",GU="Less",KU="LessEqual",ZU="LinSpace",YU="Log",QU="Log1p",XU="LogicalAnd",JU="LogicalNot",e2="LogicalOr",t2="LogSoftmax",n2="LRN",r2="LRNGrad",s2="Max",YM="Maximum",i2="MaxPool",o2="MaxPoolGrad",a2="MaxPool3D",c2="MaxPool3DGrad",u2="MaxPoolWithArgmax",l2="Mean",d2="Min",f2="Minimum",h2="MirrorPad",p2="Mod",m2="Multinomial",QM="Multiply",g2="Neg",y2="NotEqual",v2="NonMaxSuppressionV3",b2="NonMaxSuppressionV4",_2="NonMaxSuppressionV5",w2="OnesLike",S2="OneHot",E2="Pack",T2="PadV2",XM="Pow",k2="Prelu",I2="Prod",x2="RaggedGather",R2="RaggedRange",C2="RaggedTensorToTensor",A2="Range",O2="Real",P2="Reciprocal",M2="Relu",N2="Reshape",D2="ResizeNearestNeighbor",L2="ResizeNearestNeighborGrad",F2="ResizeBilinear",U2="ResizeBilinearGrad",B2="Relu6",$2="Reverse",j2="Round",z2="Rsqrt",q2="ScatterNd",W2="TensorScatterUpdate",H2="SearchSorted",V2="Select",G2="Selu",K2="Slice",Z2="Sin",Y2="Sinh",Q2="Sign",X2="Sigmoid",J2="Softplus",JM="Sqrt",eB="Sum",tB="SpaceToBatchND",nB="SplitV",rB="Softmax",sB="SparseFillEmptyRows",iB="SparseReshape",oB="SparseSegmentMean",aB="SparseSegmentSum",cB="SparseToDense",uB="SquaredDifference",lB="Square",dB="StaticRegexReplace",fB="StridedSlice",hB="StringNGrams",pB="StringSplit",mB="StringToHashBucketFast",eN="Sub",gB="Tan",yB="Tanh",vB="Tile",bB="TopK",_B="Transform",wB="Transpose",SB="Unique",EB="Unpack",TB="UnsortedSegmentSum",tN="ZerosLike",kB="Step",IB="FromPixels",xB="RotateWithOffset",RB="_FusedMatMul",CB="FusedConv2D",AB="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Er(...t){we().getBool("IS_TEST")||we().getBool("PROD")||[...t]}o(Er,"warn");function OB(...t){we().getBool("IS_TEST")||we().getBool("PROD")||[...t]}o(OB,"log");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wa=Yd("kernelRegistry",()=>new Map),Al=Yd("gradRegistry",()=>new Map);function jp(t,e){const n=yb(t,e);return Wa.get(n)}o(jp,"getKernel");function zp(t){return Al.get(t)}o(zp,"getGradient");function qp(t){const e=Wa.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,a]=s,[c]=i.split("_");c===t&&n.push(a)}return n}o(qp,"getKernelsForBackend");function PB(t){const{kernelName:e,backendName:n}=t,r=yb(e,n);Wa.has(r)&&Er(`The kernel '${e}' for backend '${n}' is already registered`),Wa.set(r,t)}o(PB,"registerKernel");function MB(t){const{kernelName:e}=t;Al.has(e)&&we().getBool("DEBUG")&&Er(`Overriding the gradient for '${e}'`),Al.set(e,t)}o(MB,"registerGradient");function yb(t,e){return`${e}_${t}`}o(yb,"makeKey");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vb(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}o(vb,"isTypedArrayBrowser");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NB(t,e){return e==="string"?bb(t):Qd([t],e)}o(NB,"createScalarValue");function nN(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}o(nN,"noConversionNeeded");function Qd(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Ji(t)),we().getBool("DEBUG")&&PM(t,e),nN(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}o(Qd,"toTypedArray");function Ha(){return we().platform.now()}o(Ha,"now");function bb(t,e="utf-8"){return e=e||"utf-8",we().platform.encode(t,e)}o(bb,"encodeString");function Wp(t,e="utf-8"){return e=e||"utf-8",we().platform.decode(t,e)}o(Wp,"decodeString");function qt(t){return we().platform.isTypedArray!=null?we().platform.isTypedArray(t):vb(t)}o(qt,"isTypedArray");function Ji(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Zd(t)||t==null||qt(t)&&n)e.push(t);else if(Array.isArray(t)||qt(t))for(let r=0;r<t.length;++r)Ji(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)Ji(t[s],e,n)}return e}o(Ji,"flatten");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rN{static{o(this,"Profiler")}constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new iN)}profileKernel(e,n,r){let s;const i=o(()=>{s=r()},"holdResultWrapperFn");let a;const c=Ha();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const l of s)l.dataSync();a=Promise.resolve({kernelMs:Ha()-c})}if(we().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<s.length;l++){const f=s[l];f.data().then(d=>{sN(d,f.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:a.then(l=>l.kernelMs),extraInfo:a.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:a}=e;r.forEach(c=>{Promise.all([c.data(),s,a]).then(u=>{this.logger.logKernelProfile(n,c,u[0],u[1],i,u[2])})})}}function sN(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return`${s}${n}`,!0}return!1}o(sN,"checkComputationForErrors");class iN{static{o(this,"Logger")}logKernelProfile(e,n,r,s,i,a){const c=typeof s=="number"?oa(`${s}ms`,9):s.error,u=oa(e,25),l=n.rank,f=n.size,d=oa(n.shape.toString(),14);let h="";for(const m in i){const p=i[m];if(p!=null){const g=p.shape||n.shape,y=g.length;h+=`${m}: ${y}D ${y>0?g:""} `}}`${u}${c}${l}${d}${f}${h}${a}`}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oN(t,e,n){const r={},s={};for(let u=0;u<e.length;u++)r[e[u].id]=!0;for(let u=0;u<t.length;u++){const l=t[u],f=l.inputs;for(const d in f){const h=f[d];let m=!1;for(let p=0;p<e.length;p++)if(r[h.id]){l.outputs.forEach(g=>r[g.id]=!0),m=!0,s[l.id]=!0;break}if(m)break}}const i={};i[n.id]=!0;const a={};for(let u=t.length-1;u>=0;u--){const l=t[u],f=l.inputs;for(let d=0;d<l.outputs.length;d++)if(i[l.outputs[d].id]){for(const h in f)i[f[h].id]=!0,a[l.id]=!0;break}}const c=[];for(let u=0;u<t.length;u++){const l=t[u];if(s[l.id]&&a[l.id]){const f={};for(const h in l.inputs){const m=l.inputs[h];r[m.id]&&(f[h]=m)}const d=Object.assign({},l);d.inputs=f,d.outputs=l.outputs,c.push(d)}}return c}o(oN,"getFilteredNodesXToY");function aN(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],a=[];if(i.outputs.forEach(u=>{const l=t[u.id];l!=null?a.push(l):a.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const c=i.gradient(a);for(const u in i.inputs){if(!(u in c))throw new Error(`Cannot backprop through input ${u}. Available gradients found: ${Object.keys(c)}.`);const l=n(()=>c[u]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${u} must have 'float32' dtype, but has '${l.dtype}'`);const f=i.inputs[u];if(!Hd(l.shape,f.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${u}' has shape '${l.shape}', which does not match the shape of the input '${f.shape}'`);if(t[f.id]==null)t[f.id]=l;else{const d=t[f.id];t[f.id]=r(d,l),d.dispose()}}}}o(aN,"backpropagateGradients");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hp=20,di=3,wu=7;function cN(t,e,n,r){const s=Gd(e),i=uN(t,e,n,s),a=e.length,c=aa(t,e,n,s,i),u=["Tensor"];return r&&(u.push(`  dtype: ${n}`),u.push(`  rank: ${a}`),u.push(`  shape: [${e}]`),u.push("  values:")),u.push(c.map(l=>"    "+l).join(`
`)),u.join(`
`)}o(cN,"tensorToString");function uN(t,e,n,r){const s=jt(e),i=r[r.length-1],a=new Array(i).fill(0),c=e.length,u=n==="complex64"?yi(t):t;if(c>1)for(let l=0;l<s/i;l++){const f=l*i;for(let d=0;d<i;d++)a[d]=Math.max(a[d],gi(u[f+d],0,n).length)}return a}o(uN,"computeMaxSizePerColumn");function gi(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(wu))} + ${parseFloat(t[1].toFixed(wu))}j`:Vd(t)?r=`'${t}'`:n==="bool"?r=_b(t):r=parseFloat(t.toFixed(wu)).toString(),oa(r,e)}o(gi,"valToString");function _b(t){return t===0?"false":"true"}o(_b,"boolNumToString");function aa(t,e,n,r,s,i=!0){const a=n==="complex64"?2:1,c=e[0],u=e.length;if(u===0){if(n==="complex64"){const g=yi(t);return[gi(g[0],0,n)]}return n==="bool"?[_b(t[0])]:[t[0].toString()]}if(u===1){if(c>Hp){const y=di*a;let b=Array.from(t.slice(0,y)),_=Array.from(t.slice((c-di)*a,c*a));return n==="complex64"&&(b=yi(b),_=yi(_)),["["+b.map((w,R)=>gi(w,s[R],n)).join(", ")+", ..., "+_.map((w,R)=>gi(w,s[c-di+R],n)).join(", ")+"]"]}return["["+(n==="complex64"?yi(t):Array.from(t)).map((y,b)=>gi(y,s[b],n)).join(", ")+"]"]}const l=e.slice(1),f=r.slice(1),d=r[0]*a,h=[];if(c>Hp){for(let g=0;g<di;g++){const y=g*d,b=y+d;h.push(...aa(t.slice(y,b),l,n,f,s,!1))}h.push("...");for(let g=c-di;g<c;g++){const y=g*d,b=y+d;h.push(...aa(t.slice(y,b),l,n,f,s,g===c-1))}}else for(let g=0;g<c;g++){const y=g*d,b=y+d;h.push(...aa(t.slice(y,b),l,n,f,s,g===c-1))}const m=u===2?",":"";h[0]="["+(c>0?h[0]+m:"");for(let g=1;g<h.length-1;g++)h[g]=" "+h[g]+m;let p=`,
`;for(let g=2;g<u;g++)p+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(i?"":p),h}o(aa,"subTensorToString");function yi(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}o(yi,"createComplexTuples");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lN{static{o(this,"TensorBuffer")}constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=jt(e),r!=null){const s=r.length;ie(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||ub(n,this.size),this.strides=Gd(e)}set(e,...n){n.length===0&&(n=[0]),ie(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Zt().makeTensor(this.values,this.shape,this.dtype)}}let Zt=null,hs=null;function dN(t){Zt=t}o(dN,"setTensorTracker");function fN(t){hs=t}o(fN,"setOpHandler");class Yt{static{o(this,"Tensor")}constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=jt(e),this.strides=Gd(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return hs.buffer(this.shape,this.dtype,e)}bufferSync(){return hs.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return xi(this.shape,e,this.dtype==="complex64")}arraySync(){return xi(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Zt().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>Wp(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Zt().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Zt().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Wp(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Zt().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Zt().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return hs.print(this,e)}clone(){return this.throwIfDisposed(),hs.clone(this)}toString(e=!1){const n=this.dataSync();return cN(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),hs.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Zt().makeVariable(this,e,n,r)}}Object.defineProperty(Yt,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function wb(){return Yd("Tensor",()=>Yt)}o(wb,"getGlobalTensorClass");wb();class Va extends Yt{static{o(this,"Variable")}constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Hd(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Zt().disposeTensor(this),this.dataId=e.dataId,Zt().incRef(this,null)}dispose(){Zt().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Va,Symbol.hasInstance,{value:t=>t instanceof Yt&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Vp;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Vp||(Vp={}));var Ol;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(Ol||(Ol={}));var Pl;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(Pl||(Pl={}));var Ml;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(Ml||(Ml={}));var Nl;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(Nl||(Nl={}));const hN={float32:Ml,int32:Ol,bool:Pl,complex64:Nl};function Sb(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return hN[t][e]}o(Sb,"upcastType");function DB(t){return Sb(t,"int32")}o(DB,"sumOutType");function Eb(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}o(Eb,"isWebGLData");function Tb(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}o(Tb,"isWebGPUData");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xr(t,e){if(t.dtype===e.dtype)return[t,e];const n=Sb(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}o(Xr,"makeTypesMatch");function LB(t,e){ie(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}o(LB,"assertTypesMatch");function kb(t){const e=[];return Ib(t,e,new Set),e}o(kb,"getTensorsInContainer");function Ib(t,e,n){if(t==null)return;if(t instanceof Yt){e.push(t);return}if(!pN(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),Ib(i,e,n))}}o(Ib,"walkTensorContainer");function pN(t){return Array.isArray(t)||typeof t=="object"}o(pN,"isIterable");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Su(t){return t.kernelName!=null}o(Su,"isRegisteredKernelInvocation");class Gp{static{o(this,"EngineState")}constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Vs{static{o(this,"Engine")}constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Gp}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Er(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new rN(this.backendInstance),!0}setupRegisteredKernels(){qp(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){qp(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof xM)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(a=>s<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Er(`Initialization of backend ${e} failed`),Er(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Er(`Initialization of backend ${e} failed`),Er(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),a=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Vs.nextTensorId++}nextVariableId(){return Vs.nextVariableId++}clone(e){const n=V.runKernel(gb,{x:e}),r={x:e},s=o(a=>({x:()=>{const c="float32",u={x:a},l={dtype:c};return V.runKernel(mb,u,l)}}),"grad"),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(jp(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(u=>{i+=u.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],c=s-n-i-a;if(c>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${c} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let c;this.backendName==null&&this.backend;let u;const l=Su(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Su(e)){const{kernelName:p,inputs:g,attrs:y}=e;this.backendName==null&&this.backend;const b=jp(p,this.backendName);ie(b!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),c=o(()=>{const _=this.backend.numDataIds();u=b.kernelFunc({inputs:g,attrs:y,backend:this.backend});const w=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,_,w);const R=w.map(I=>I.rank!=null?I:this.makeTensorFromTensorInfo(I));if(s){const I=this.getTensorsForGradient(p,g,R);r=this.saveTensorsForBackwardMode(I)}return R},"kernelFunc")}else{const{forwardFunc:p}=e,g=o(y=>{s&&(r=y.map(b=>this.keep(this.clone(b))))},"saveFunc");c=o(()=>{const y=this.backend.numDataIds();u=this.tidy(()=>p(this.backend,g));const b=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,y,b),b},"kernelFunc")}const{inputs:f,attrs:d}=e,h=Su(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=c():(m=this.profiler.profileKernel(l,f,()=>c()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),s&&this.addTapeNode(l,f,n,h,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(f).map(p=>f[p]!=null?f[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(u)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=zp(e);if(s!=null){const i=s.inputsToSave||[],a=s.outputsToSave||[];let c;s.saveAllInputs?(ie(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),c=Object.keys(n).map(l=>n[l])):c=i.map(l=>n[l]);const u=r.filter((l,f)=>a[f]);return c.concat(u)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&Vd(e[0])&&(i=e.map(u=>bb(u)));const a=s.write(i,n,r),c=new Yt(n,r,a,this.nextTensorId());if(this.trackTensor(c,s),r==="string"){const u=this.state.tensorInfo.get(a),l=NM(i);this.state.numBytes+=l-u.bytes,u.bytes=l}return c}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,a=new Yt(s,i,r,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new Va(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Rl(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Va||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Rl(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,a){const c={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},u=zp(e);u!=null&&(s=u.gradFunc),s!=null&&(c.gradient=l=>(l=l.map((f,d)=>{if(f==null){const h=r[d],m=db(h.size,h.dtype);return this.makeTensor(m,h.shape,h.dtype)}return f}),s(l.length>1?l:l[0],i,a))),this.state.activeTape.push(c)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=kb(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const a=this.state.activeScope.track[i];!a.kept&&!r.has(a.id)&&a.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(ie(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));ie(i instanceof Yt,()=>"The result y returned by f() must be a tensor.");const a=oN(this.state.activeTape,n,i);if(!s&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const c={};c[i.id]=r??mN(i.shape),aN(c,a,l=>this.tidy(l),gN);const u=n.map(l=>c[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(const f of l.saved)f.dispose()}),this.state.activeTape=null),{value:i,grads:u}})}customGrad(e){return ie(Cl(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{ie(n.every(c=>c instanceof Yt),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((c,u)=>{s[u]=c});const i=o((c,u)=>(r=e(...n,u),ie(r.value instanceof Yt,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),ie(Cl(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),"forwardFunc"),a=o((c,u)=>{const l=r.gradFunc(c,u),f=Array.isArray(l)?l:[l];ie(f.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),ie(f.every(h=>h instanceof Yt),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return f.forEach((h,m)=>{d[m]=()=>h}),d},"backwardsFunc");return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Ha(),r=await this.backend.time(e);return r.wallMs=Ha()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Gp;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Vs.nextTensorId=0;Vs.nextVariableId=0;function mN(t){const e=FM(jt(t),"float32");return V.makeTensor(e,t,"float32")}o(mN,"ones");function xb(){const t=hb();if(t._tfengine==null){const e=new UM(t);t._tfengine=new Vs(e)}return zM(t._tfengine.ENV),dN(()=>t._tfengine),t._tfengine}o(xb,"getOrMakeEngine");const V=xb();function gN(t,e){const n={a:t,b:e};return V.runKernel(pb,n)}o(gN,"add$1");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yN(){return typeof navigator<"u"&&navigator!=null}o(yN,"_isNavigatorDefined");function FB(t){if(t||yN()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}o(FB,"isMobile");function vN(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}o(vN,"isBrowser");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yt=we();yt.registerFlag("DEBUG",()=>!1,t=>{});yt.registerFlag("IS_BROWSER",()=>vN());yt.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");yt.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));yt.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));yt.registerFlag("PROD",()=>!1);yt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>yt.getBool("DEBUG"));yt.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);yt.registerFlag("IS_TEST",()=>!1);yt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>yt.getBool("DEBUG"));yt.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);yt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);yt.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rb(t,e){let n=t;if(qt(t))return e==="string"?[]:[t.length];if(Eb(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(Tb(t))return[t.buffer.size/(e==null?4:Rl(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||qt(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&we().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Cb(t,r,[]),r}o(Rb,"inferShape");function Cb(t,e,n){if(n=n||[],!Array.isArray(t)&&!qt(t)){ie(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}ie(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),ie(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)Cb(t[s],r,n.concat(s))}o(Cb,"deepAssertShapeConsistency");function Kp(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}o(Kp,"assertDtype");function Le(t,e,n,r="numeric"){if(t instanceof wb())return Kp(r,t.dtype,e,n),t;let s=Oc(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),Kp(r,s,e,n),t==null||!qt(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const u=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${u}'`)}const i=Rb(t,s);!qt(t)&&!Array.isArray(t)&&(t=[t]);const c=s!=="string"?Qd(t,s):Ji(t,[],!0);return V.makeTensor(c,i,s)}o(Le,"convertToTensor");function UB(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,a)=>Le(i,`${e}[${a}]`,n,r))}o(UB,"convertToTensorArray");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bN="__op";function kt(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+bN;const s=o((...i)=>{V.startScope(n);try{const a=r(...i);return Zd(a)&&console.error("Cannot return a Promise inside of tidy."),V.endScope(a),a}catch(a){throw V.endScope(null),a}},"f2");return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}o(kt,"op");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e){const n=Le(t,"real","complex"),r=Le(e,"imag","complex");CM(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return V.runKernel(HM,s)}o(_N,"complex_");const wN=kt({complex_:_N});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ab(t,e,n,r){if(r==null)r=Oc(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Tb(t)||Eb(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return V.backend.createTensorFromGPUData(t,e||n,r)}if(!qt(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Kd(e);const s=jt(e),i=jt(n);ie(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let a=0;a<n.length;++a){const c=n[a],u=a===n.length-1?c!==jt(e.slice(a)):!0;ie(n[a]===e[a]||!u,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!qt(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Qd(t,r):Ji(t,[],!0),V.makeTensor(t,e,r)}o(Ab,"makeTensor");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eu(t,e,n){const r=Rb(t,n);return Ab(t,e,r,n)}o(Eu,"tensor");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gs={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Jr{static{o(this,"CompositeArrayBuffer")}static join(e){return new Jr(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>qt(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),a=new Uint8Array(i);let c=0;for(let u=r;u<this.shards.length;u++){const l=this.shards[u],d=e+c-l.start,h=c,p=Math.min(n,l.end)-l.start,g=new Uint8Array(l.buffer,d,p-d);if(a.set(g,h),c+=g.length,n<l.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(o(n,"check"),n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=SN(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function SN(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}o(SN,"search");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BB(){return V}o(BB,"engine");function $B(){return V.memory()}o($B,"memory");function Ye(t,e){return V.tidy(t,e)}o(Ye,"tidy");function Mt(t){kb(t).forEach(n=>n.dispose())}o(Mt,"dispose");function EN(t){return V.keep(t)}o(EN,"keep");function jB(t){return V.setBackend(t)}o(jB,"setBackend");function zB(){return V.ready()}o(zB,"ready");function TN(){return V.backendName}o(TN,"getBackend");function qB(t,e,n=1){return V.registerBackend(t,e,n)}o(qB,"registerBackend");function kN(){return V.backend}o(kN,"backend");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hr=4;async function WB(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<s.length;++a){const c=s[a],u=Array.isArray(t)?t[a].tensor:t[c];if(u.dtype!=="float32"&&u.dtype!=="int32"&&u.dtype!=="bool"&&u.dtype!=="string"&&u.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${c}': ${u.dtype}`);const l={name:c,shape:u.shape,dtype:u.dtype};if(u.dtype==="string"){const f=new Promise(async d=>{const h=await u.bytes(),m=h.reduce((y,b)=>y+b.length,0)+hr*h.length,p=new Uint8Array(m);let g=0;for(let y=0;y<h.length;y++){const b=h[y],_=new Uint8Array(new Uint32Array([b.length]).buffer);p.set(_,g),g+=hr,p.set(b,g),g+=b.length}d(p)});r.push(f)}else r.push(u.data());e!=null&&(l.group=e),n.push(l)}const i=await Promise.all(r);return{data:RN(i),specs:n}}o(WB,"encodeWeights");function HB(t,e){const n=new Jr(t),r={};let s=0;for(const i of e){const a=IN(i,(c,u)=>n.slice(s+c,s+u));r[i.name]=Ob(i,n.slice(s,s+a)),s+=a}return r}o(HB,"decodeWeights");function IN(t,e){const n=jt(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Gs[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=hr+new Uint32Array(e(s,s+hr))[0];return s}else r=Gs[t.dtype];return n*r}o(IN,"getWeightBytelength");async function xN(t,e){const n=jt(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Gs[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=hr+new Uint32Array(await e(s,s+hr))[0];return s}else r=Gs[t.dtype];return n*r}o(xN,"getWeightBytelengthAsync");function Ob(t,e){const n=t.name,r=t.dtype,s=t.shape,i=jt(s);let a,c=0;if("quantization"in t){const u=t.quantization;if(u.dtype==="uint8"||u.dtype==="uint16"){if(!("min"in u&&"scale"in u))throw new Error(`Weight ${t.name} with quantization ${u.dtype} doesn't have corresponding metadata min and scale.`)}else if(u.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${u.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${u.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const l=Gs[u.dtype],f=u.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(u.dtype==="uint8"||u.dtype==="uint16"){a=new Float32Array(f.length);for(let d=0;d<f.length;d++){const h=f[d];a[d]=h*u.scale+u.min}}else if(u.dtype==="float16")a=DN()(f);else throw new Error(`Unsupported quantization type ${u.dtype} for weight type float32.`);else if(r==="int32"){if(u.dtype!=="uint8"&&u.dtype!=="uint16")throw new Error(`Unsupported quantization type ${u.dtype} for weight type int32.`);a=new Int32Array(f.length);for(let d=0;d<f.length;d++){const h=f[d];a[d]=Math.round(h*u.scale+u.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);c+=i*l}else if(r==="string"){const u=jt(t.shape);a=[];for(let l=0;l<u;l++){const f=new Uint32Array(e.slice(c,c+hr))[0];c+=hr;const d=new Uint8Array(e.slice(c,c+f));a.push(d),c+=f}}else{const u=Gs[r];if(r==="float32")a=new Float32Array(e);else if(r==="int32")a=new Int32Array(e);else if(r==="bool")a=new Uint8Array(e);else if(r==="complex64"){a=new Float32Array(e);const l=new Float32Array(a.length/2),f=new Float32Array(a.length/2);for(let p=0;p<l.length;p++)l[p]=a[p*2],f[p]=a[p*2+1];const d=Eu(l,s,"float32"),h=Eu(f,s,"float32"),m=wN(d,h);return d.dispose(),h.dispose(),m}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);c+=i*u}return Eu(a,s,r)}o(Ob,"decodeWeight");async function Zp(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const c=n-r.byteLength;throw new Error(`Reader is done but ${c} bytes are still expected`)}const a=new Uint8Array(r.length+i.byteLength);a.set(r,0),a.set(new Uint8Array(i),r.length),r=a}return r.buffer}o(Zp,"readToLength");async function VB(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const a=await xN(i,async(l,f)=>(s=await Zp(r,s,f),s.slice(l,f)));s=await Zp(r,s,a);const c=s.slice(0,a);s=s.slice(a);const u=Ob(i,c);if(n[i.name]=u,TN()==="webgpu"){const l=kN();"uploadToGPU"in l&&jt(u.shape)>=we().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&l.uploadToGPU(u.dataId)}}return n}o(VB,"decodeWeightsStream");function RN(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}o(RN,"concatenateTypedArrays");const Xd=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Yp(t){return Xd?Buffer.byteLength(t,"utf8"):new Blob([t]).size}o(Yp,"stringByteLength");function CN(t){if(Xd)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}o(CN,"arrayBufferToBase64String");function AN(t){if(Xd){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}o(AN,"base64StringToArrayBuffer");function GB(t){return Jr.join(t)}o(GB,"concatenateArrayBuffers");function KB(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}o(KB,"basename");function ZB(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}o(ZB,"getModelJSONForModelArtifacts");function ON(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}o(ON,"getModelArtifactsForJSONSync");async function YB(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),ON(t,n,r)}o(YB,"getModelArtifactsForJSON");function Pb(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:Yp(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:Yp(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Jr(t.weightData).byteLength}}o(Pb,"getModelArtifactsInfoForJSON");function QB(t){const e=[];for(const n of t)e.push(...n.weights);return e}o(QB,"getWeightSpecs");function PN(){const t=o(n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},"convertMantissa"),e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}o(PN,"computeFloat16MantisaTable");function MN(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}o(MN,"computeFloat16ExponentTable");function NN(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}o(NN,"computeFloat16OffsetTable");function DN(){const t=PN(),e=MN(),n=NN();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let a=0;a<r.length;a++){const c=r[a],u=t[n[c>>10]+(c&1023)]+e[c>>10];i[a]=u}return new Float32Array(s)}}o(DN,"getFloat16Decoder");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ze{static{o(this,"IORouterRegistry")}constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ze.instance==null&&(ze.instance=new ze),ze.instance}static registerSaveRouter(e){ze.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ze.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ze.getHandlers(e,"save")}static getLoadHandlers(e,n){return ze.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?ze.getInstance().loadRouters:ze.getInstance().saveRouters).forEach(a=>{const c=a(e,r);c!==null&&s.push(c)}),s}}const XB=o(t=>ze.registerSaveRouter(t),"registerSaveRouter"),JB=o(t=>ze.registerLoadRouter(t),"registerLoadRouter"),e$=o(t=>ze.getSaveHandlers(t),"getSaveHandlers"),t$=o((t,e)=>ze.getLoadHandlers(t,e),"getLoadHandlers");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dl="tensorflowjs",Ll=1,Ar="models_store",tr="model_info_store";function Mb(){if(!we().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}o(Mb,"getIndexedDBFactory");function Fl(t){const e=t.result;e.createObjectStore(Ar,{keyPath:"modelPath"}),e.createObjectStore(tr,{keyPath:"modelPath"})}o(Fl,"setUpDatabase");class qr{static{o(this,"BrowserIndexedDB")}constructor(e){if(this.indexedDB=Mb(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(Dl,Ll);i.onupgradeneeded=()=>Fl(i),i.onsuccess=()=>{const a=i.result;if(n==null){const c=a.transaction(Ar,"readonly"),l=c.objectStore(Ar).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return a.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(l.result.modelArtifacts)},l.onerror=f=>(a.close(),s(l.error)),c.oncomplete=()=>a.close()}else{n.weightData=Jr.join(n.weightData);const c=Pb(n),u=a.transaction(tr,"readwrite");let l=u.objectStore(tr),f;try{f=l.put({modelPath:this.modelPath,modelArtifactsInfo:c})}catch(h){return s(h)}let d;f.onsuccess=()=>{d=a.transaction(Ar,"readwrite");const h=d.objectStore(Ar);let m;try{m=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:c})}catch(p){return s(p)}m.onsuccess=()=>r({modelArtifactsInfo:c}),m.onerror=p=>{l=u.objectStore(tr);const g=l.delete(this.modelPath);g.onsuccess=()=>(a.close(),s(m.error)),g.onerror=y=>(a.close(),s(m.error))}},f.onerror=h=>(a.close(),s(f.error)),u.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},i.onerror=a=>s(i.error)})}}qr.URL_SCHEME="indexeddb://";const Nb=o(t=>we().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(qr.URL_SCHEME)?LN(t.slice(qr.URL_SCHEME.length)):null,"indexedDBRouter");ze.registerSaveRouter(Nb);ze.registerLoadRouter(Nb);function LN(t){return new qr(t)}o(LN,"browserIndexedDB");function FN(t){return t.startsWith(qr.URL_SCHEME)?t.slice(qr.URL_SCHEME.length):t}o(FN,"maybeStripScheme$1");class UN{static{o(this,"BrowserIndexedDBManager")}constructor(){this.indexedDB=Mb()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(Dl,Ll);r.onupgradeneeded=()=>Fl(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(tr,"readonly"),c=i.objectStore(tr).getAll();c.onsuccess=()=>{const u={};for(const l of c.result)u[l.modelPath]=l.modelArtifactsInfo;e(u)},c.onerror=u=>(s.close(),n(c.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=FN(e),new Promise((n,r)=>{const s=this.indexedDB.open(Dl,Ll);s.onupgradeneeded=()=>Fl(s),s.onsuccess=()=>{const i=s.result,a=i.transaction(tr,"readwrite"),c=a.objectStore(tr),u=c.get(e);let l;u.onsuccess=()=>{if(u.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const f=c.delete(e),d=o(()=>{l=i.transaction(Ar,"readwrite");const m=l.objectStore(Ar).delete(e);m.onsuccess=()=>n(u.result.modelArtifactsInfo),m.onerror=p=>r(u.error)},"deleteModelData");f.onsuccess=d,f.onerror=h=>(d(),i.close(),r(u.error))}},u.onerror=f=>(i.close(),r(u.error)),a.oncomplete=()=>{l==null?i.close():l.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const An="/",ps="tensorflowjs_models",Db="info",BN="model_topology",$N="weight_specs",jN="weight_data",zN="model_metadata";function Lb(t){return{info:[ps,t,Db].join(An),topology:[ps,t,BN].join(An),weightSpecs:[ps,t,$N].join(An),weightData:[ps,t,jN].join(An),modelMetadata:[ps,t,zN].join(An)}}o(Lb,"getModelKeys");function Fb(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}o(Fb,"removeItems");function qN(t){const e=t.split(An);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(An)}o(qN,"getModelPathFromKey");function WN(t){return t.startsWith(Wr.URL_SCHEME)?t.slice(Wr.URL_SCHEME.length):t}o(WN,"maybeStripScheme");class Wr{static{o(this,"BrowserLocalStorage")}constructor(e){if(!we().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Lb(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=Pb(e),i=Jr.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,CN(i));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch{throw Fb(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const c=JSON.parse(i);n.format=c.format,n.generatedBy=c.generatedBy,n.convertedBy=c.convertedBy,c.signature!=null&&(n.signature=c.signature),c.userDefinedMetadata!=null&&(n.userDefinedMetadata=c.userDefinedMetadata),c.modelInitializer!=null&&(n.modelInitializer=c.modelInitializer),c.initializerSignature!=null&&(n.initializerSignature=c.initializerSignature),c.trainingConfig!=null&&(n.trainingConfig=c.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=AN(a),n}}Wr.URL_SCHEME="localstorage://";const Ub=o(t=>we().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Wr.URL_SCHEME)?HN(t.slice(Wr.URL_SCHEME.length)):null,"localStorageRouter");ze.registerSaveRouter(Ub);ze.registerLoadRouter(Ub);function HN(t){return new Wr(t)}o(HN,"browserLocalStorage");class VN{static{o(this,"BrowserLocalStorageManager")}constructor(){ie(we().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),ie(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=ps+An,r=An+Db;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const a=qN(i);e[a]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=WN(e);const n=Lb(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return Fb(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xs="://";class lt{static{o(this,"ModelStoreManagerRegistry")}constructor(){this.managers={}}static getInstance(){return lt.instance==null&&(lt.instance=new lt),lt.instance}static registerManager(e,n){ie(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(xs)&&(e=e.slice(0,e.indexOf(xs))),ie(e.length>0,()=>"scheme must not be an empty string.");const r=lt.getInstance();ie(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=lt.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(lt.getInstance().managers)}}function ca(t){if(t.indexOf(xs)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${lt.getSchemes().join(",")}`);return{scheme:t.split(xs)[0],path:t.split(xs)[1]}}o(ca,"parseURL");async function Bb(t,e,n=!1){ie(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=ze.getLoadHandlers(t);ie(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),ie(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=ze.getSaveHandlers(e);ie(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),ie(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const a=i[0],c=ca(t).scheme,u=ca(t).path,l=c===ca(t).scheme,f=await s.load();n&&l&&await lt.getManager(c).removeModel(u);const d=await a.save(f);return n&&!l&&await lt.getManager(c).removeModel(u),d.modelArtifactsInfo}o(Bb,"cloneModelInternal");async function n$(){const t=lt.getSchemes(),e={};for(const n of t){const r=await lt.getManager(n).listModels();for(const s in r){const i=n+xs+s;e[i]=r[s]}}return e}o(n$,"listModels");async function r$(t){const e=ca(t);return lt.getManager(e.scheme).removeModel(e.path)}o(r$,"removeModel");async function s$(t,e){return Bb(t,e,!1)}o(s$,"copyModel");async function i$(t,e){return Bb(t,e,!0)}o(i$,"moveModel");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GN{static{o(this,"PlatformBrowser")}constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!we().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return vb(e)}}if(we().get("IS_BROWSER")){we().setPlatform("browser",new GN);try{lt.registerManager(Wr.URL_SCHEME,new VN)}catch{}try{lt.registerManager(qr.URL_SCHEME,new UN)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KN={importFetch:()=>require("node-fetch")};let Tu;class ZN{static{o(this,"PlatformNode")}constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return we().global.fetch!=null?we().global.fetch(e,n):(Tu==null&&(Tu=KN.importFetch()),Tu(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}we().get("IS_NODE")&&!we().get("IS_BROWSER")&&we().setPlatform("node",new ZN);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YN(t,e="float32",n){return e=e||"float32",Kd(t),new lN(t,e,n)}o(YN,"buffer");/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QN(t,e){const n=Le(t,"x","cast");if(!MM(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return V.runKernel(mb,r,s)}o(QN,"cast_");const Ul=kt({cast_:QN});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XN(t){const n={x:Le(t,"x","clone","string_or_numeric")};return V.runKernel(gb,n)}o(XN,"clone_");const JN=kt({clone_:XN});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eD(t,e=!1){t.toString(e)}o(eD,"print");/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */xb();const tD={buffer:YN,cast:Ul,clone:JN,print:eD};fN(tD);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nD(t,e){let n=Le(t,"a","add"),r=Le(e,"b","add");[n,r]=Xr(n,r);const s={a:n,b:r};return V.runKernel(pb,s)}o(nD,"add_");const Te=kt({add_:nD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rD(t,e){let n=Le(t,"a","floorDiv"),r=Le(e,"b","floorDiv");[n,r]=Xr(n,r);const s={a:n,b:r};return V.runKernel(ZM,s)}o(rD,"floorDiv_");const sD=kt({floorDiv_:rD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iD(t,e){let n=Le(t,"a","div"),r=Le(e,"b","div");if([n,r]=Xr(n,r),n.dtype==="int32"&&r.dtype==="int32")return sD(n,r);const s={a:n,b:r},i={};return V.runKernel(GM,s,i)}o(iD,"div_");const mn=kt({div_:iD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oD(t,e){let n=Le(t,"a","mul"),r=Le(e,"b","mul");[n,r]=Xr(n,r);const s={a:n,b:r};return V.runKernel(QM,s)}o(oD,"mul_");const he=kt({mul_:oD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aD(t){const e=Le(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return V.runKernel(VM,n)}else{const n={x:e};return V.runKernel(WM,n)}}o(aD,"abs_");const cD=kt({abs_:aD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uD(t,e,n){Kd(t),n=n||Oc(e);const r={shape:t,value:e,dtype:n};return V.runKernel(KM,{},r)}o(uD,"fill");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o$(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,a=t[i]||1;(e[e.length-1-s]||1)>1&&a===1&&r.unshift(i)}return r}o(o$,"getBroadcastDims");function a$(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,a=e[i];(s==null||s===1&&a>1)&&n.unshift(i)}return n}o(a$,"getReductionAxes");function lD(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let a=e[e.length-s-1];if(a==null&&(a=1),i===1)r[n-s-1]=a;else if(a===1)r[n-s-1]=i;else if(i!==a){const c=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(c)}else r[n-s-1]=i}return r}o(lD,"assertAndGetBroadcastShape");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dD(t){const n={x:Le(t,"x","zerosLike")};return V.runKernel(tN,n)}o(dD,"zerosLike_");const gn=kt({zerosLike_:dD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fD(t,e){let n=Le(t,"base","pow"),r=Le(e,"exp","pow");[n,r]=Xr(n,r);const s={a:n,b:r};return V.runKernel(XM,s)}o(fD,"pow_");const Qp=kt({pow_:fD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hr(t,e){if((qt(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&qt(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ab(t,[],[],e)}o(Hr,"scalar");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hD(t){const n={x:Le(t,"x","sqrt","float32")};return V.runKernel(JM,n)}o(hD,"sqrt_");const Ks=kt({sqrt_:hD});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pD(t){const e=Le(t,"x","square"),n={};return V.runKernel("Square",{x:e},n)}o(pD,"square_");const Lr=kt({square_:pD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mD(t,e){ie(Cl(t),()=>"The f passed in variableGrads(f) must be a function"),ie(e==null||Array.isArray(e)&&e.every(l=>l instanceof Va),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const l in V.registeredVariables)e.push(V.registeredVariables[l])}const r=n?e.filter(l=>!l.trainable):null,s=e.length;e=e.filter(l=>l.trainable),ie(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:a,grads:c}=V.gradients(t,e,null,i);ie(c.some(l=>l!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),ie(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const u={};return e.forEach((l,f)=>{c[f]!=null&&(u[l.name]=c[f])}),r?.forEach(l=>u[l.name]=null),{value:a,grads:u}}o(mD,"variableGrads");function c$(t){return V.customGrad(t)}o(c$,"customGrad");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gD(t,e){let n=Le(t,"a","sub"),r=Le(e,"b","sub");[n,r]=Xr(n,r);const s={a:n,b:r};return V.runKernel(eN,s)}o(gD,"sub_");const Rs=kt({sub_:gD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yD(t,e){let n=Le(t,"a","maximum"),r=Le(e,"b","maximum");[n,r]=Xr(n,r),n.dtype==="bool"&&(n=Ul(n,"int32"),r=Ul(r,"int32")),lD(n.shape,r.shape);const s={a:n,b:r};return V.runKernel(YM,s)}o(yD,"maximum_");const vD=kt({maximum_:yD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bD=new Map,_D=new Map;class wD{static{o(this,"Serializable")}getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Tr{static{o(this,"SerializationMap")}constructor(){this.classNameMap={}}static getMap(){return Tr.instance==null&&(Tr.instance=new Tr),Tr.instance}static register(e){Tr.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function SD(t,e,n){ie(t.className!=null,()=>"Class being registered does not have the static className property defined."),ie(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),ie(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return Tr.register(t),bD.set(s,t),_D.set(t,s),t}o(SD,"registerClass");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class es extends wD{static{o(this,"Optimizer")}minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const a=r.map(c=>({name:c.name,tensor:i[c.name]}));this.applyGradients(a)}else this.applyGradients(i);return Mt(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return mD(e,n)}dispose(){this.iterations_!=null&&Mt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Hr(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(es,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ED extends es{static{o(this,"AdadeltaOptimizer")}static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=V.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=V.registeredVariables[r],a=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Ye(()=>gn(i).variable(a))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Ye(()=>gn(i).variable(a))});const c=Array.isArray(e)?e[s].tensor:e[r];if(c==null)return;const u=this.accumulatedGrads[s].variable,l=this.accumulatedUpdates[s].variable;Ye(()=>{const f=Te(he(u,this.rho),he(Lr(c),1-this.rho)),d=he(mn(Ks(Te(l,this.epsilon)),Ks(Te(u,this.epsilon))),c),h=Te(he(l,this.rho),he(Lr(d),1-this.rho));u.assign(f),l.assign(h);const m=Te(he(d,-this.learningRate),i);i.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Mt(this.accumulatedGrads.map(e=>e.variable)),Mt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TD extends es{static{o(this,"AdagradOptimizer")}static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=V.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Ye(()=>uD(i.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const c=this.accumulatedGrads[s].variable;Ye(()=>{const u=Te(c,Lr(a));c.assign(u);const l=Te(he(mn(a,Ks(Te(u,V.backend.epsilon()))),-this.learningRate),i);i.assign(l)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Mt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kD extends es{static{o(this,"AdamOptimizer")}static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ye(()=>{this.accBeta1=Hr(n).variable(),this.accBeta2=Hr(r).variable()}),s==null&&(this.epsilon=V.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ye(()=>{const r=Rs(1,this.accBeta1),s=Rs(1,this.accBeta2);n.forEach((i,a)=>{const c=V.registeredVariables[i],u=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:Ye(()=>gn(c).variable(u))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${i}/v`,variable:Ye(()=>gn(c).variable(u))});const l=Array.isArray(e)?e[a].tensor:e[i];if(l==null)return;const f=this.accumulatedFirstMoment[a].variable,d=this.accumulatedSecondMoment[a].variable,h=Te(he(f,this.beta1),he(l,1-this.beta1)),m=Te(he(d,this.beta2),he(Lr(l),1-this.beta2)),p=mn(h,r),g=mn(m,s);f.assign(h),d.assign(m);const y=Te(he(mn(p,Te(Ks(g),this.epsilon)),-this.learningRate),c);c.assign(y)}),this.accBeta1.assign(he(this.accBeta1,this.beta1)),this.accBeta2.assign(he(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Mt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Mt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Ye(()=>{this.accBeta1.assign(Qp(this.beta1,this.iterations_+1)),this.accBeta2.assign(Qp(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ID extends es{static{o(this,"AdamaxOptimizer")}static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ye(()=>{this.iteration=Hr(0).variable(),this.accBeta1=Hr(n).variable()}),s==null&&(this.epsilon=V.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ye(()=>{const r=Rs(1,this.accBeta1),s=mn(-this.learningRate,Te(he(this.iteration,this.decay),1));n.forEach((i,a)=>{const c=V.registeredVariables[i],u=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:gn(c).variable(u)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${i}/v`,variable:gn(c).variable(u)});const l=Array.isArray(e)?e[a].tensor:e[i];if(l==null)return;const f=this.accumulatedFirstMoment[a].variable,d=this.accumulatedWeightedInfNorm[a].variable,h=Te(he(f,this.beta1),he(l,1-this.beta1)),m=he(d,this.beta2),p=cD(l),g=vD(m,p);f.assign(h),d.assign(g);const y=Te(he(mn(s,r),mn(h,Te(g,this.epsilon))),c);c.assign(y)}),this.iteration.assign(Te(this.iteration,1)),this.accBeta1.assign(he(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Mt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Mt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $b extends es{static{o(this,"SGDOptimizer")}static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const a=V.registeredVariables[r];Ye(()=>{const c=Te(he(this.c,i),a);a.assign(c)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=EN(Hr(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xD extends $b{static{o(this,"MomentumOptimizer")}static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Hr(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=V.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Ye(()=>gn(i).variable(!1))});const a=this.accumulations[s].variable,c=Array.isArray(e)?e[s].tensor:e[r];c!=null&&Ye(()=>{let u;const l=Te(he(this.m,a),c);this.useNesterov?u=Te(he(this.c,Te(c,he(l,this.m))),i):u=Te(he(this.c,l),i),a.assign(l),i.assign(u)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Mt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RD extends es{static{o(this,"RMSPropOptimizer")}static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=V.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=V.registeredVariables[r],a=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Ye(()=>gn(i).variable(a))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Ye(()=>gn(i).variable(a))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Ye(()=>gn(i).variable(a))});const c=Array.isArray(e)?e[s].tensor:e[r];if(c==null)return;const u=this.accumulatedMeanSquares[s].variable,l=this.accumulatedMoments[s].variable;Ye(()=>{const f=Te(he(u,this.decay),he(Lr(c),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[s].variable,h=Te(he(d,this.decay),he(c,1-this.decay)),m=mn(he(c,this.learningRate),Ks(Rs(f,Te(Lr(h),this.epsilon)))),p=Te(he(l,this.momentum),m);u.assign(f),d.assign(h),l.assign(p);const g=Rs(i,p);i.assign(g)}else{const d=Te(he(u,this.decay),he(Lr(c),1-this.decay)),h=Te(he(l,this.momentum),mn(he(c,this.learningRate),Ks(Te(d,this.epsilon))));u.assign(d),l.assign(h);const m=Rs(i,h);i.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Mt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Mt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Mt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CD=[ED,TD,kD,ID,xD,RD,$b];function AD(){for(const t of CD)SD(t)}o(AD,"registerOptimizers");/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */AD();/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fr=o(t=>{let e=1;for(let n=0;n<t.length;n++)e*=t[n];return e},"arrayProduct");function u$(t,e,n=[1,1,1],r=[1,1,1]){const[s,i,a]=[Math.ceil(Fr(t.x.map(c=>e[c]))/(n[0]*r[0])),t.y?Math.ceil(Fr(t.y.map(c=>e[c]))/(n[1]*r[1])):1,t.z?Math.ceil(Fr(t.z.map(c=>e[c]))/(n[2]*r[2])):1];return[s,i,a]}o(u$,"computeDispatch");function l$(t,e,n,r=!1){const s=[8,8,1],i=[4,4,1];return r||(t<=8&&(i[1]=1),e<=16&&n<=16&&(s[0]=4)),{workgroupSize:s,elementsPerThread:i}}o(l$,"computeWorkgroupInfoForMatMul");function d$(t,e,n=!1){if(n)return[8,8,1];const r=Fr(t.x.map(i=>e[i])),s=Fr(t.y.map(i=>e[i]));return r<=4?[4,16,1]:s<=4?[16,4,1]:[16,16,1]}o(d$,"computeWorkgroupSizeForConv2d");function f$(t,e,n=!1){if(n)return[4,4,1];const r=Fr(t.x.map(i=>e[i])),s=Fr(t.y.map(i=>e[i]));return r<=4?[1,2,1]:s<=4?[2,1,1]:[2,2,1]}o(f$,"computeWorkPerThreadForConv2d");function h$(t){return{x:t.map((e,n)=>n)}}o(h$,"flatDispatchLayout");function p$(t){if(t==="float32"||t==="int32"||t==="bool"||t==="string")return 4;if(t==="complex64")return 8;throw new Error(`Unknown dtype ${t}`)}o(p$,"GPUBytesPerElement");function OD(){return!!(typeof globalThis<"u"&&globalThis.navigator&&globalThis.navigator.gpu)}o(OD,"isWebGPUSupported");function m$(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ie(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGPU backend.`)})}o(m$,"assertNotComplex");var Xp;(function(t){t[t.MatMulReduceProgram=0]="MatMulReduceProgram",t[t.MatMulSplitKProgram=1]="MatMulSplitKProgram",t[t.MatMulSmallOutputSizeProgram=2]="MatMulSmallOutputSizeProgram",t[t.MatMulPackedProgram=3]="MatMulPackedProgram",t[t.MatMulMax=4]="MatMulMax"})(Xp||(Xp={}));const jb=new Map,Pc=new Set;function g$(t){Pc.add(t)}o(g$,"registerPeer");function y$(t){Pc.delete(t)}o(y$,"unregisterPeer");function v$(t){Array.from(jb.entries()).map(([e,n])=>t.setSentryContext(e,n))}o(v$,"initializePeerSentryContext");function zb(t,e){try{jb.set(t,e),t==="user"?ny(e):pd(t,e),Array.from(Pc).map(n=>n.setSentryContext(t,e))}catch(n){uc(new Error("Failed to update global Sentry context",{cause:n}))}}o(zb,"setGlobalSentryContext");function b$(){ke().getClient()?.close(),Array.from(Pc).map(t=>t.disableSentry())}o(b$,"disableSentryGlobally");const PD=800;function Jp(t){return!!document.createElement("canvas").getContext(t)}o(Jp,"testWebGLSupport");class MD extends Error{static{o(this,"UnsupportedBrowserError")}}class ND extends Error{static{o(this,"SmallScreenError")}}class DD extends Error{static{o(this,"BrowserAPIAvailabilityError")}api;constructor(e){super(),this.api=e}}const ms={fsAPI:"showDirectoryPicker"in window,screen:screen.availWidth>=PD,browserName:["Chrome","Chromium","Edge","Electron"].includes(_P.UAParser().browser.name??""),webGL:Jp("webgl"),webGL2:Jp("webgl2"),webGPU:OD()},qb=TM();zb("browserCompatibility",ms);zb("GPU",qb);Pn.trackEvent({type:"system",label:"gpu_renderer",value:qb.renderer});const LD=o(({children:t})=>(D.useEffect(bM,[]),ms.screen?ms.browserName?ms.webGL?ms.webGL2?ms.fsAPI?se.jsx(se.Fragment,{children:t}):se.jsx(zv,{}):se.jsx(ja,{api:"webgl2"}):se.jsx(ja,{}):se.jsx(Wv,{}):se.jsx(qv,{})),"BrowserCompatibilityGuard"),FD={webgl:()=>se.jsx(ja,{}),filesystem:()=>se.jsx(zv,{})},UD=o(({error:t})=>{if(t instanceof DD){const e=FD[t.api]||fp;return se.jsx(e,{})}return t instanceof ND?se.jsx(qv,{}):t instanceof MD?se.jsx(Wv,{}):t.message.includes("WebGL")?se.jsx(ja,{}):se.jsx(fp,{})},"RootErrorView");var BD=o(()=>{},"teardownPlaceholder"),$D=BD;function jD(t){return{tag:0,0:t}}o(jD,"start");function zD(t){return{tag:1,0:t}}o(zD,"push");var qD=o(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable","observableSymbol");function Wb(t){return e=>{var n=!1,r=t({next(s){n||e(zD(s))},complete(){n||(n=!0,e(0))}});e(jD(s=>{s===1&&!n&&(n=!0,r())}))}}o(Wb,"make");function Hb(t){return{subscribe(e,n,r){var s=typeof e=="object"?e:{next:e,error:n,complete:r},i=$D,a=!1;t(u=>{a||(u===0?(a=!0,s.complete&&s.complete()):u.tag===0?(i=u[0])(0):(s.next(u[0]),i(0)))});var c={closed:!1,unsubscribe(){c.closed=!0,a=!0,i(1)}};return c},[qD()](){return this}}}o(Hb,"toObservable");var Vb=o((...t)=>{for(var e=t[0],n=1,r=t.length;n<r;n++)e=t[n](e);return e},"pipe");const bo=Be(new Nm);function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eo.apply(this,arguments)}o(eo,"a");const WD=o((t,e,n)=>t?.suspense&&HD(e,n),"d"),HD=o((t,e)=>t.isPending&&!e,"v"),VD=o(({result:t,throwOnError:e,query:n})=>t.isError&&!t.isFetching&&Gb(e,[t.error,n]),"E");function Gb(t,e){return typeof t=="function"?t(...e):!!t}o(Gb,"b");function Kb(t,e,n=r=>r(bo)){const r=Symbol(),s=Be(0),i=Be(c=>{const u=e(c),l=Wb(({next:f})=>u.subscribe(d=>{const h=o(()=>f(d),"o4");u[r]?Promise.resolve().then(h):h()}));return Vb(l,Hb)}),a=Be(c=>{const u=e(c),l=c(i),f=u.getCurrentResult(),d=Be(f);return d.onMount=h=>{const{unsubscribe:m}=l.subscribe(p=>{h(p)});return()=>m()},d});return Be(c=>{const u=e(c),l=t(c),f=n(c);s.onMount=()=>()=>{u.getCurrentResult().isError&&f.resetQueries({queryKey:u.getCurrentQuery().queryKey})},c(s);const d=c(a),h=c(d),m=u.getOptimisticResult(l);if(WD(l,m,!1))return u.fetchOptimistic(l);if(VD({result:h,query:u.getCurrentQuery(),throwOnError:l.throwOnError}))throw h.error;return h})}o(Kb,"N");function _$(t,e=n=>n(bo)){const n=Symbol(),r=Be(()=>new WeakMap),s=Be(a=>{const c=e(a),u=t(a),l=c.defaultQueryOptions(u);return l._optimisticResults="optimistic",l}),i=Be(a=>{const c=a(s),u=e(a),l=a(r),f=l.get(u);if(f)return f[n]=!0,f.setOptions(c),delete f[n],f;const d=new Dm(u,c);return l.set(u,d),d});return Kb(a=>eo({},a(s),{suspense:!1}),a=>a(i),e)}o(_$,"l");const w$=o((t,e=n=>n(bo))=>{const n=Symbol(),r=Be(()=>new WeakMap),s=Be(a=>{const c=e(a),u=t(a),l=c.defaultQueryOptions(u);return l._optimisticResults="optimistic",l}),i=Be(a=>{const c=a(s),u=e(a),l=a(r),f=l.get(u);if(f)return f[n]=!0,f.setOptions(c),delete f[n],f;const d=new Dm(u,c);return l.set(u,d),d});return Kb(a=>eo({},a(s),{suspense:!0,enabled:!0}),a=>a(i),e)},"O");function S$(t,e=n=>n(bo)){const n=Symbol(),r=Be(l=>{const f=e(l),d=t(l);return f.defaultMutationOptions(d)}),s=Be(()=>new WeakMap),i=Be(l=>{const f=l(r),d=e(l),h=l(s),m=h.get(d);if(m)return m[n]=!0,m.setOptions(f),delete m[n],m;const p=new iw(d,f);return h.set(d,p),p}),a=Be(l=>{const f=l(i),d=Wb(({next:h})=>f.subscribe(m=>{const p=o(()=>h(m),"o3");f[n]?Promise.resolve().then(p):p()}));return Vb(d,Hb)}),c=Be(l=>{const f=l(i),d=l(a),h=f.getCurrentResult(),m=Be(h);return m.onMount=p=>(d.subscribe(g=>{p(g)}),()=>{f.reset()}),m}),u=Be(l=>{const f=l(i);return(d,h)=>{f.mutate(d,h).catch(GD)}});return Be(l=>{const f=l(i),d=l(c),h=l(d),m=l(u);if(h.isError&&Gb(f.options.throwOnError,[h.error]))throw h.error;return eo({},h,{mutate:m,mutateAsync:h.mutate})})}o(S$,"f");function GD(){}o(GD,"m");const em=new WeakMap;function KD(t,e){const n=Wd(e),r=ZD(n);for(const[s,i]of t)r.has(s)||(r.add(s),n.set(s,i))}o(KD,"useHydrateAtoms");const ZD=o(t=>{let e=em.get(t);return e||(e=new WeakSet,em.set(t,e)),e},"getHydratedSet");/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}o(Ga,"_extends$1");var nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nr||(nr={}));const tm="popstate";function YD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return Bl("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}o(e,"createBrowserLocation");function n(r,s){return typeof s=="string"?s:Yb(s)}return o(n,"createBrowserHref"),XD(e,n,null,t)}o(YD,"createBrowserHistory");function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}o(Tt,"invariant");function Zb(t,e){if(!t)try{throw new Error(e)}catch{}}o(Zb,"warning");function QD(){return Math.random().toString(36).substr(2,8)}o(QD,"createKey");function nm(t,e){return{usr:t.state,key:t.key,idx:e}}o(nm,"getHistoryState");function Bl(t,e,n,r){return n===void 0&&(n=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||r||QD()})}o(Bl,"createLocation");function Yb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}o(Yb,"createPath");function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}o(Mc,"parsePath");function XD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=nr.Pop,u=null,l=f();l==null&&(l=0,a.replaceState(Ga({},a.state,{idx:l}),""));function f(){return(a.state||{idx:null}).idx}o(f,"getIndex");function d(){c=nr.Pop;let y=f(),b=y==null?null:y-l;l=y,u&&u({action:c,location:g.location,delta:b})}o(d,"handlePop");function h(y,b){c=nr.Push;let _=Bl(g.location,y,b);n&&n(_,y),l=f()+1;let w=nm(_,l),R=g.createHref(_);try{a.pushState(w,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(R)}i&&u&&u({action:c,location:g.location,delta:1})}o(h,"push");function m(y,b){c=nr.Replace;let _=Bl(g.location,y,b);n&&n(_,y),l=f();let w=nm(_,l),R=g.createHref(_);a.replaceState(w,"",R),i&&u&&u({action:c,location:g.location,delta:0})}o(m,"replace");function p(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof y=="string"?y:Yb(y);return _=_.replace(/ $/,"%20"),Tt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}o(p,"createURL");let g={get action(){return c},get location(){return t(s,a)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(tm,d),u=y,()=>{s.removeEventListener(tm,d),u=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let b=p(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return a.go(y)}};return g}o(XD,"getUrlBasedHistory");var rm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rm||(rm={}));function JD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Mc(e):e,s=Jb(r.pathname||"/",n);if(s==null)return null;let i=Qb(t);eL(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=fL(s);a=uL(i[c],u)}return a}o(JD,"matchRoutes");function Qb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=o((i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Cs([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Qb(i.children,e,f,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:aL(l,i.index),routesMeta:f})},"flattenRoute");return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let u of Xb(i.path))s(i,a,u)}),e}o(Qb,"flattenRoutes");function Xb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Xb(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}o(Xb,"explodeOptionalSegments");function eL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}o(eL,"rankRouteBranches");const tL=/^:[\w-]+$/,nL=3,rL=2,sL=1,iL=10,oL=-2,sm=o(t=>t==="*","isSplat");function aL(t,e){let n=t.split("/"),r=n.length;return n.some(sm)&&(r+=oL),e&&(r+=rL),n.filter(s=>!sm(s)).reduce((s,i)=>s+(tL.test(i)?nL:i===""?sL:iL),r)}o(aL,"computeScore");function cL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}o(cL,"compareIndexes");function uL(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,l=s==="/"?e:e.slice(s.length)||"/",f=lL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l);if(!f)return null;Object.assign(r,f.params);let d=c.route;i.push({params:r,pathname:Cs([s,f.pathname]),pathnameBase:hL(Cs([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=Cs([s,f.pathnameBase]))}return i}o(uL,"matchRouteBranch");function lL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((l,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let g=c[d]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=c[d];return m&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:a,pattern:t}}o(lL,"matchPath");function dL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}o(dL,"compilePath");function fL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}o(fL,"decodePath");function Jb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}o(Jb,"stripBasename");const Cs=o(t=>t.join("/").replace(/\/\/+/g,"/"),"joinPaths"),hL=o(t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),"normalizePathname");function pL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}o(pL,"isRouteErrorResponse");const e_=["post","put","patch","delete"];new Set(e_);const mL=["get",...e_];new Set(mL);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}o(Ka,"_extends");const gL=D.createContext(null),yL=D.createContext(null),t_=D.createContext(null),Nc=D.createContext(null),Dc=D.createContext({outlet:null,matches:[],isDataRoute:!1}),n_=D.createContext(null);function Jd(){return D.useContext(Nc)!=null}o(Jd,"useInRouterContext");function vL(){return Jd()||Tt(!1),D.useContext(Nc).location}o(vL,"useLocation");function bL(t,e){return _L(t,e)}o(bL,"useRoutes");function _L(t,e,n,r){Jd()||Tt(!1);let{navigator:s}=D.useContext(t_),{matches:i}=D.useContext(Dc),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=vL(),f;if(e){var d;let y=typeof e=="string"?Mc(e):e;u==="/"||(d=y.pathname)!=null&&d.startsWith(u)||Tt(!1),f=y}else f=l;let h=f.pathname||"/",m=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=JD(t,{pathname:m}),g=kL(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Cs([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Cs([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?D.createElement(Nc.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:nr.Pop}},g):g}o(_L,"useRoutesImpl");function wL(){let t=CL(),e=pL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}o(wL,"DefaultErrorComponent");const SL=D.createElement(wL,null);class EL extends D.Component{static{o(this,"RenderErrorBoundary")}constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Dc.Provider,{value:this.props.routeContext},D.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TL(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(gL);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Dc.Provider,{value:e},r)}o(TL,"RenderedRoute");function kL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=a.findIndex(d=>d.route.id&&c?.[d.route.id]!==void 0);f>=0||Tt(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=f),d.route.id){let{loaderData:h,errors:m}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((f,d,h)=>{let m,p=!1,g=null,y=null;n&&(m=c&&d.route.id?c[d.route.id]:void 0,g=d.route.errorElement||SL,u&&(l<0&&h===0?(AL("route-fallback",!1),p=!0,y=null):l===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),_=o(()=>{let w;return m?w=g:p?w=y:d.route.Component?w=D.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,D.createElement(TL,{match:d,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:w})},"getChildren");return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?D.createElement(EL,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}o(kL,"_renderMatches");var $l=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($l||{});function IL(t){let e=D.useContext(yL);return e||Tt(!1),e}o(IL,"useDataRouterState");function xL(t){let e=D.useContext(Dc);return e||Tt(!1),e}o(xL,"useRouteContext");function RL(t){let e=xL(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}o(RL,"useCurrentRouteId");function CL(){var t;let e=D.useContext(n_),n=IL($l.UseRouteError),r=RL($l.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}o(CL,"useRouteError");const im={};function AL(t,e,n){!e&&!im[t]&&(im[t]=!0)}o(AL,"warningOnce");function r_(t){Tt(!1)}o(r_,"Route");function OL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nr.Pop,navigator:i,static:a=!1,future:c}=t;Jd()&&Tt(!1);let u=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:u,navigator:i,static:a,future:Ka({v7_relativeSplatPath:!1},c)}),[u,c,i,a]);typeof r=="string"&&(r=Mc(r));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:p="default"}=r,g=D.useMemo(()=>{let y=Jb(f,u);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:p},navigationType:s}},[u,f,d,h,m,p,s]);return g==null?null:D.createElement(t_.Provider,{value:l},D.createElement(Nc.Provider,{children:n,value:g}))}o(OL,"Router");function PL(t){let{children:e,location:n}=t;return bL(jl(e),n)}o(PL,"Routes");new Promise(()=>{});function jl(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,jl(r.props.children,i));return}r.type!==r_&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jl(r.props.children,i)),n.push(a)}),n}o(jl,"createRoutesFromChildren");/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ML="6";try{window.__reactRouterVersion=ML}catch{}const NL="startTransition",om=o_[NL];function DL(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=YD({window:s,v5Compat:!0}));let a=i.current,[c,u]=D.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},f=D.useCallback(d=>{l&&om?om(()=>u(d)):u(d)},[u,l]);return D.useLayoutEffect(()=>a.listen(f),[a,f]),D.createElement(OL,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}o(DL,"BrowserRouter");var am;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(am||(am={}));var cm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cm||(cm={}));function LL(){if(!window.electron)return window.location.origin;const t=new URL(window.location.origin);return t.pathname="/app-oauth",t.toString()}o(LL,"getRedirectURI");const FL=D.lazy(()=>l_(()=>import("./App-JKb4xns3.js"),__vite__mapDeps([0,1,2,3]))),UL=o(({children:t})=>(KD([[bo,lg]]),se.jsx(se.Fragment,{children:t??null})),"HydrateAtoms"),BL=o((t,e)=>{Pn.trackEvent({label:"auth_success",type:"event"}),e?.logins_count===1&&Pn.trackEvent({label:"signup_succeeded",type:"event"}),window.history.replaceState({},document.title,t?.returnTo||window.location.pathname)},"onRedirectCallback"),$L=window.electron&&document.cookie.includes(`auth0.${dg}.is.authenticated=true`);a_.createRoot(document.getElementById("root")).render(se.jsx(zl.StrictMode,{children:se.jsx(Ud,{fallback:({error:t})=>se.jsx(UD,{error:t}),children:se.jsx(LD,{children:se.jsx(W_,{domain:LS,clientId:dg,authorizationParams:{audience:FS,redirect_uri:LL()},onRedirectCallback:BL,cacheLocation:"localstorage",useRefreshTokens:!0,useRefreshTokensFallback:!1,skipRedirectCallback:$L,children:se.jsx(ow,{client:lg,children:se.jsx(UL,{children:se.jsx(DL,{children:se.jsx(PL,{children:se.jsx(r_,{path:"/",element:se.jsx(FL,{})})})})})})})})})}));export{oU as $,MF as A,Ul as B,GF as C,UB as D,V as E,JN as F,rU as G,ZF as H,K2 as I,Te as J,he as K,YF as L,iw as M,LU as N,QF as O,XF as P,Dm as Q,N2 as R,X2 as S,yB as T,eU as U,Kd as V,vB as W,tU as X,uD as Y,nU as Z,sU as _,KL as a,FM as a$,aU as a0,uU as a1,lU as a2,dU as a3,fU as a4,hU as a5,mU as a6,gU as a7,yU as a8,_U as a9,$U as aA,zU as aB,qU as aC,WU as aD,HU as aE,VU as aF,GU as aG,KU as aH,ZU as aI,n2 as aJ,YU as aK,QU as aL,g2 as aM,J2 as aN,c$ as aO,Rs as aP,XU as aQ,JU as aR,e2 as aS,jt as aT,H2 as aU,i2 as aV,a2 as aW,u2 as aX,l2 as aY,wN as aZ,db as a_,wU as aa,lD as ab,CU as ac,V2 as ad,mn as ae,gn as af,kU as ag,IU as ah,wF as ai,RU as aj,s2 as ak,d2 as al,eB as am,OM as an,cD as ao,Ks as ap,Qp as aq,Hr as ar,Lr as as,AU as at,OU as au,PU as av,YN as aw,DU as ax,FU as ay,BU as az,VL as b,pU as b$,Yt as b0,f2 as b1,h2 as b2,p2 as b3,m2 as b4,y2 as b5,S2 as b6,w2 as b7,T2 as b8,tB as b9,fB as bA,gB as bB,bF as bC,Rb as bD,Ab as bE,Gd as bF,W2 as bG,bB as bH,SB as bI,TB as bJ,EB as bK,CM as bL,Ye as bM,wB as bN,LB as bO,q2 as bP,cB as bQ,UU as bR,IF as bS,Eu as bT,iU as bU,a$ as bV,CB as bW,vU as bX,bU as bY,AB as bZ,RB as b_,k2 as ba,I2 as bb,x2 as bc,R2 as bd,C2 as be,A2 as bf,O2 as bg,P2 as bh,M2 as bi,B2 as bj,$2 as bk,j2 as bl,z2 as bm,G2 as bn,lN as bo,Q2 as bp,Z2 as bq,Y2 as br,rB as bs,MU as bt,jU as bu,nB as bv,uB as bw,kF as bx,E2 as by,kB as bz,Ge as c,xM as c$,NU as c0,xB as c1,v2 as c2,_2 as c3,b2 as c4,F2 as c5,D2 as c6,_B as c7,Mt as c8,sB as c9,JB as cA,XB as cB,r$ as cC,jp as cD,IB as cE,gF as cF,$b as cG,xD as cH,RD as cI,kD as cJ,ED as cK,ID as cL,TD as cM,RF as cN,Wp as cO,bb as cP,o$ as cQ,OB as cR,Sb as cS,Er as cT,Be as cU,g$ as cV,y$ as cW,v$ as cX,er as cY,Zr as cZ,uc as c_,iB as ca,oB as cb,aB as cc,hB as cd,pB as ce,mB as cf,dB as cg,ze as ch,YB as ci,KB as cj,we as ck,Jr as cl,ZB as cm,Pb as cn,Gs as co,HB as cp,QB as cq,GB as cr,s$ as cs,VB as ct,WB as cu,t$ as cv,ON as cw,e$ as cx,n$ as cy,i$ as cz,Le as d,Ha as d$,OD as d0,pF as d1,BB as d2,CF as d3,p$ as d4,Ji as d5,vF as d6,Vd as d7,qB as d8,l$ as d9,KF as dA,VF as dB,m$ as dC,VM as dD,d$ as dE,f$ as dF,cU as dG,EU as dH,SU as dI,TU as dJ,xU as dK,r2 as dL,c2 as dM,o2 as dN,tN as dO,XM as dP,GM as dQ,U2 as dR,L2 as dS,lB as dT,PB as dU,JF as dV,t2 as dW,vD as dX,MB as dY,wb as dZ,sD as d_,u$ as da,h$ as db,KM as dc,Oc as dd,ub as de,TF as df,Xp as dg,_F as dh,gb as di,HM as dj,WM as dk,PF as dl,OF as dm,Qd as dn,mb as dp,xF as dq,pb as dr,ZM as ds,YM as dt,QM as du,NB as dv,JM as dw,eN as dx,RM as dy,DB as dz,NF as e,kN as e0,SD as e1,wD as e2,Tr as e3,$B as e4,EN as e5,LM as e6,es as e7,mF as e8,xi as e9,El as eA,on as eB,jd as eC,_$ as eD,dF as eE,oF as eF,ab as eG,yM as eH,nF as eI,aF as eJ,jB as eK,zB as eL,fi as eM,TN as eN,HL as eO,uF as eP,rM as eQ,Pe as eR,zb as eS,fF as eT,lF as eU,hF as eV,b$ as eW,bN as ea,eD as eb,Zd as ec,AF as ed,SF as ee,oa as ef,yF as eg,FB as eh,EF as ei,Rl as ej,vN as ek,tF as el,rF as em,iF as en,Nf as eo,lg as ep,QL as eq,sF as er,Pn as es,cF as et,gM as eu,XL as ev,w$ as ew,S$ as ex,JL as ey,Z as ez,ie as f,Hd as g,GL as h,nw as i,DF as j,LF as k,FF as l,UF as m,ot as n,kt as o,So as p,BF as q,$F as r,jF as s,zF as t,YL as u,Xr as v,WF as w,qF as x,AM as y,HF as z};
//# sourceMappingURL=main-D2sr7MS0.js.map
